(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var td={exports:{}},el={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function yA(){if(Fy)return el;Fy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return el.Fragment=t,el.jsx=i,el.jsxs=i,el}var Qy;function _A(){return Qy||(Qy=1,td.exports=yA()),td.exports}var Ft=_A(),ed={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function vA(){if(Ky)return At;Ky=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function N(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,nt={};function Z(C,Y,et){this.props=C,this.context=Y,this.refs=nt,this.updater=et||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Tt(){}Tt.prototype=Z.prototype;function ut(C,Y,et){this.props=C,this.context=Y,this.refs=nt,this.updater=et||j}var at=ut.prototype=new Tt;at.constructor=ut,$(at,Z.prototype),at.isPureReactComponent=!0;var Rt=Array.isArray,mt={H:null,A:null,T:null,S:null,V:null},Ct=Object.prototype.hasOwnProperty;function V(C,Y,et,J,lt,wt){return et=wt.ref,{$$typeof:s,type:C,key:Y,ref:et!==void 0?et:null,props:wt}}function S(C,Y){return V(C.type,Y,void 0,void 0,void 0,C.props)}function b(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return Y[et]})}var M=/\/+/g;function P(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):Y.toString(36)}function w(){}function Ve(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,Y,et,J,lt){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(wt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case s:case t:_t=!0;break;case A:return _t=C._init,ie(_t(C._payload),Y,et,J,lt)}}if(_t)return lt=lt(C),_t=J===""?"."+P(C,0):J,Rt(lt)?(et="",_t!=null&&(et=_t.replace(M,"$&/")+"/"),ie(lt,Y,et,"",function(Ln){return Ln})):lt!=null&&(b(lt)&&(lt=S(lt,et+(lt.key==null||C&&C.key===lt.key?"":(""+lt.key).replace(M,"$&/")+"/")+_t)),Y.push(lt)),1;_t=0;var Re=J===""?".":J+":";if(Rt(C))for(var Zt=0;Zt<C.length;Zt++)J=C[Zt],wt=Re+P(J,Zt),_t+=ie(J,Y,et,wt,lt);else if(Zt=N(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(J=C.next()).done;)J=J.value,wt=Re+P(J,Zt++),_t+=ie(J,Y,et,wt,lt);else if(wt==="object"){if(typeof C.then=="function")return ie(Ve(C),Y,et,J,lt);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return _t}function H(C,Y,et){if(C==null)return C;var J=[],lt=0;return ie(C,J,"","",function(wt){return Y.call(et,wt,lt++)}),J}function tt(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Lt(){}return At.Children={map:H,forEach:function(C,Y,et){H(C,function(){Y.apply(this,arguments)},et)},count:function(C){var Y=0;return H(C,function(){Y++}),Y},toArray:function(C){return H(C,function(Y){return Y})||[]},only:function(C){if(!b(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=Z,At.Fragment=i,At.Profiler=l,At.PureComponent=ut,At.StrictMode=a,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return mt.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,Y,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=$({},C.props),lt=C.key,wt=void 0;if(Y!=null)for(_t in Y.ref!==void 0&&(wt=void 0),Y.key!==void 0&&(lt=""+Y.key),Y)!Ct.call(Y,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Y.ref===void 0||(J[_t]=Y[_t]);var _t=arguments.length-2;if(_t===1)J.children=et;else if(1<_t){for(var Re=Array(_t),Zt=0;Zt<_t;Zt++)Re[Zt]=arguments[Zt+2];J.children=Re}return V(C.type,lt,void 0,void 0,wt,J)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},At.createElement=function(C,Y,et){var J,lt={},wt=null;if(Y!=null)for(J in Y.key!==void 0&&(wt=""+Y.key),Y)Ct.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(lt[J]=Y[J]);var _t=arguments.length-2;if(_t===1)lt.children=et;else if(1<_t){for(var Re=Array(_t),Zt=0;Zt<_t;Zt++)Re[Zt]=arguments[Zt+2];lt.children=Re}if(C&&C.defaultProps)for(J in _t=C.defaultProps,_t)lt[J]===void 0&&(lt[J]=_t[J]);return V(C,wt,void 0,void 0,null,lt)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=b,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},At.memo=function(C,Y){return{$$typeof:v,type:C,compare:Y===void 0?null:Y}},At.startTransition=function(C){var Y=mt.T,et={};mt.T=et;try{var J=C(),lt=mt.S;lt!==null&&lt(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Lt,ot)}catch(wt){ot(wt)}finally{mt.T=Y}},At.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()},At.use=function(C){return mt.H.use(C)},At.useActionState=function(C,Y,et){return mt.H.useActionState(C,Y,et)},At.useCallback=function(C,Y){return mt.H.useCallback(C,Y)},At.useContext=function(C){return mt.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,Y){return mt.H.useDeferredValue(C,Y)},At.useEffect=function(C,Y,et){var J=mt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,Y)},At.useId=function(){return mt.H.useId()},At.useImperativeHandle=function(C,Y,et){return mt.H.useImperativeHandle(C,Y,et)},At.useInsertionEffect=function(C,Y){return mt.H.useInsertionEffect(C,Y)},At.useLayoutEffect=function(C,Y){return mt.H.useLayoutEffect(C,Y)},At.useMemo=function(C,Y){return mt.H.useMemo(C,Y)},At.useOptimistic=function(C,Y){return mt.H.useOptimistic(C,Y)},At.useReducer=function(C,Y,et){return mt.H.useReducer(C,Y,et)},At.useRef=function(C){return mt.H.useRef(C)},At.useState=function(C){return mt.H.useState(C)},At.useSyncExternalStore=function(C,Y,et){return mt.H.useSyncExternalStore(C,Y,et)},At.useTransition=function(){return mt.H.useTransition()},At.version="19.1.0",At}var Yy;function jd(){return Yy||(Yy=1,ed.exports=vA()),ed.exports}var ys=jd(),nd={exports:{}},nl={},id={exports:{}},rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function EA(){return Xy||(Xy=1,function(s){function t(H,tt){var ot=H.length;H.push(tt);t:for(;0<ot;){var Lt=ot-1>>>1,C=H[Lt];if(0<l(C,tt))H[Lt]=tt,H[ot]=C,ot=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],ot=H.pop();if(ot!==tt){H[0]=ot;t:for(var Lt=0,C=H.length,Y=C>>>1;Lt<Y;){var et=2*(Lt+1)-1,J=H[et],lt=et+1,wt=H[lt];if(0>l(J,ot))lt<C&&0>l(wt,J)?(H[Lt]=wt,H[lt]=ot,Lt=lt):(H[Lt]=J,H[et]=ot,Lt=et);else if(lt<C&&0>l(wt,ot))H[Lt]=wt,H[lt]=ot,Lt=lt;else break t}}return tt}function l(H,tt){var ot=H.sortIndex-tt.sortIndex;return ot!==0?ot:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,I=null,N=3,j=!1,$=!1,nt=!1,Z=!1,Tt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function Rt(H){for(var tt=i(v);tt!==null;){if(tt.callback===null)a(v);else if(tt.startTime<=H)a(v),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=i(v)}}function mt(H){if(nt=!1,Rt(H),!$)if(i(p)!==null)$=!0,Ct||(Ct=!0,P());else{var tt=i(v);tt!==null&&ie(mt,tt.startTime-H)}}var Ct=!1,V=-1,S=5,b=-1;function D(){return Z?!0:!(s.unstable_now()-b<S)}function M(){if(Z=!1,Ct){var H=s.unstable_now();b=H;var tt=!0;try{t:{$=!1,nt&&(nt=!1,ut(V),V=-1),j=!0;var ot=N;try{e:{for(Rt(H),I=i(p);I!==null&&!(I.expirationTime>H&&D());){var Lt=I.callback;if(typeof Lt=="function"){I.callback=null,N=I.priorityLevel;var C=Lt(I.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){I.callback=C,Rt(H),tt=!0;break e}I===i(p)&&a(p),Rt(H)}else a(p);I=i(p)}if(I!==null)tt=!0;else{var Y=i(v);Y!==null&&ie(mt,Y.startTime-H),tt=!1}}break t}finally{I=null,N=ot,j=!1}tt=void 0}}finally{tt?P():Ct=!1}}}var P;if(typeof at=="function")P=function(){at(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ve=w.port2;w.port1.onmessage=M,P=function(){Ve.postMessage(null)}}else P=function(){Tt(M,0)};function ie(H,tt){V=Tt(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(H){switch(N){case 1:case 2:case 3:var tt=3;break;default:tt=N}var ot=N;N=tt;try{return H()}finally{N=ot}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=N;N=H;try{return tt()}finally{N=ot}},s.unstable_scheduleCallback=function(H,tt,ot){var Lt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Lt+ot:Lt):ot=Lt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,H={id:A++,callback:tt,priorityLevel:H,startTime:ot,expirationTime:C,sortIndex:-1},ot>Lt?(H.sortIndex=ot,t(v,H),i(p)===null&&H===i(v)&&(nt?(ut(V),V=-1):nt=!0,ie(mt,ot-Lt))):(H.sortIndex=C,t(p,H),$||j||($=!0,Ct||(Ct=!0,P()))),H},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(H){var tt=N;return function(){var ot=N;N=tt;try{return H.apply(this,arguments)}finally{N=ot}}}}(rd)),rd}var $y;function TA(){return $y||($y=1,id.exports=EA()),id.exports}var sd={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function AA(){if(Zy)return He;Zy=1;var s=jd();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,A)},He.flushSync=function(p){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=v,a.p=A,a.d.f()}},He.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(p,v))},He.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},He.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:N,fetchPriority:j}):A==="script"&&a.d.X(p,{crossOrigin:I,integrity:N,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(p)},He.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin);a.d.L(p,A,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(p)},He.requestFormReset=function(p){a.d.r(p)},He.unstable_batchedUpdates=function(p,v){return p(v)},He.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var Jy;function SA(){if(Jy)return sd.exports;Jy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),sd.exports=AA(),sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function bA(){if(Wy)return nl;Wy=1;var s=TA(),t=jd(),i=SA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===r){_=!0,r=h,o=f;break}if(E===o){_=!0,o=h,r=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===r){_=!0,r=f,o=h;break}if(E===o){_=!0,o=f,r=h;break}E=E.sibling}if(!_)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),at=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case Z:return"Profiler";case nt:return"StrictMode";case mt:return"Suspense";case Ct:return"SuspenseList";case b:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case at:return(e.displayName||"Context")+".Provider";case ut:return(e._context.displayName||"Context")+".Consumer";case Rt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:Ve(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Ve(e(n))}catch{}}return null}var ie=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Lt=[],C=-1;function Y(e){return{current:e}}function et(e){0>C||(e.current=Lt[C],Lt[C]=null,C--)}function J(e,n){C++,Lt[C]=e.current,e.current=n}var lt=Y(null),wt=Y(null),_t=Y(null),Re=Y(null);function Zt(e,n){switch(J(_t,n),J(wt,e),J(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?vy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=vy(n),e=Ey(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(lt),J(lt,e)}function Ln(){et(lt),et(wt),et(_t)}function Hi(e){e.memoizedState!==null&&J(Re,e);var n=lt.current,r=Ey(n,e.type);n!==r&&(J(wt,e),J(lt,r))}function li(e){wt.current===e&&(et(lt),et(wt)),Re.current===e&&(et(Re),$o._currentValue=ot)}var Pr=Object.prototype.hasOwnProperty,xr=s.unstable_scheduleCallback,Ur=s.unstable_cancelCallback,Qa=s.unstable_shouldYield,Vl=s.unstable_requestPaint,fn=s.unstable_now,Wc=s.unstable_getCurrentPriorityLevel,Ka=s.unstable_ImmediatePriority,Ns=s.unstable_UserBlockingPriority,kr=s.unstable_NormalPriority,th=s.unstable_LowPriority,Vs=s.unstable_IdlePriority,Ya=s.log,Ml=s.unstable_setDisableYieldValue,re=null,jt=null;function nn(e){if(typeof Ya=="function"&&Ml(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,e)}catch{}}var qe=Math.clz32?Math.clz32:Lr,Pl=Math.log,eh=Math.LN2;function Lr(e){return e>>>=0,e===0?32:31-(Pl(e)/eh|0)|0}var zr=256,Br=4194304;function Cn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ms(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Cn(o):(_&=E,_!==0?h=Cn(_):r||(r=E&~e,r!==0&&(h=Cn(r))))):(E=o&~f,E!==0?h=Cn(E):_!==0?h=Cn(_):r||(r=o&~e,r!==0&&(h=Cn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function qr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Xa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $a(){var e=zr;return zr<<=1,(zr&4194048)===0&&(zr=256),e}function Za(){var e=Br;return Br<<=1,(Br&62914560)===0&&(Br=4194304),e}function ui(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ci(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ja(e,n,r,o,h,f){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,L=e.hiddenUpdates;for(r=_&~r;0<r;){var G=31-qe(r),Q=1<<G;E[G]=0,R[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}r&=~Q}o!==0&&zn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function zn(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-qe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function Wa(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-qe(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ps(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fi(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:zy(e.type))}function xl(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var Wt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Wt,fe="__reactProps$"+Wt,dn="__reactContainer$"+Wt,to="__reactEvents$"+Wt,nh="__reactListeners$"+Wt,Qi="__reactHandles$"+Wt,Ul="__reactResources$"+Wt,jr="__reactMarker$"+Wt;function Ki(e){delete e[ye],delete e[fe],delete e[to],delete e[nh],delete e[Qi]}function hi(e){var n=e[ye];if(n)return n;for(var r=e.parentNode;r;){if(n=r[dn]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=by(e);e!==null;){if(r=e[ye])return r;e=by(e)}return n}e=r,r=e.parentNode}return null}function Bn(e){if(e=e[ye]||e[dn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function qn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ye(e){var n=e[Ul];return n||(n=e[Ul]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(e){e[jr]=!0}var eo=new Set,xs={};function Dn(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(xs[e]=n,e=0;e<n.length;e++)eo.add(n[e])}var kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ll={},Hr={};function zl(e){return Pr.call(Hr,e)?!0:Pr.call(Ll,e)?!1:kl.test(e)?Hr[e]=!0:(Ll[e]=!0,!1)}function Yi(e,n,r){if(zl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function jn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Me(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}var Gr,Bl;function di(e){if(Gr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Gr=n&&n[1]||"",Bl=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+e+Bl}var Us=!1;function ks(e,n){if(!e||Us)return"";Us=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var R=_.split(`
`),L=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===L.length)for(o=R.length-1,h=L.length-1;1<=o&&0<=h&&R[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==L[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Us=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?di(r):""}function no(e){switch(e.tag){case 26:case 27:case 5:return di(e.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return ks(e.type,!1);case 11:return ks(e.type.render,!1);case 1:return ks(e.type,!0);case 31:return di("Activity");default:return""}}function Ls(e){try{var n="";do n+=no(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function io(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ih(e){var n=io(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function zs(e){e._valueTracker||(e._valueTracker=ih(e))}function ro(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=io(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Fr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rh=/[\n"\\]/g;function de(e){return e.replace(rh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(e,n,r,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Xi(e,_,Xe(n)):r!=null?Xi(e,_,Xe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Xe(E):e.removeAttribute("name")}function Qr(e,n,r,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Xi(e,n,r){n==="number"&&Fr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function mi(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Qt(e,n,r){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Xe(r):""}function Kr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(ie(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Xe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function mn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ql(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Yr.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function so(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&ql(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ql(e,f,n[f])}function ao(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ah=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bs(e){return ah.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var gi=null;function gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pi=null,yi=null;function oo(e){var n=Bn(e);if(n&&(e=n.stateNode)){var r=e[fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(rn(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[fe]||null;if(!h)throw Error(a(90));rn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ro(o)}break t;case"textarea":Qt(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&mi(e,!!r.multiple,n,!1)}}}var Hn=!1;function jl(e,n,r){if(Hn)return e(n,r);Hn=!0;try{var o=e(n);return o}finally{if(Hn=!1,(pi!==null||yi!==null)&&(xu(),pi&&(n=pi,e=yi,yi=pi=null,oo(n),e)))for(n=0;n<e.length;n++)oo(e[n])}}function Xr(e,n){var r=e.stateNode;if(r===null)return null;var o=r[fe]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(On)try{var $r={};Object.defineProperty($r,"passive",{get:function(){pn=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{pn=!1}var Gn=null,$i=null,_i=null;function lo(){if(_i)return _i;var e,n=$i,r=n.length,o,h="value"in Gn?Gn.value:Gn.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var _=r-e;for(o=1;o<=_&&n[r-o]===h[f-o];o++);return _i=h.slice(e,1<o?1-o:void 0)}function Fn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qn(){return!0}function uo(){return!1}function we(e){function n(r,o,h,f,_){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:uo,this.isPropagationStopped=uo,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=we(Bt),Zr=A({},Bt,{view:0,detail:0}),Hl=we(Zr),js,Hs,Kn,Jr=A({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(js=e.screenX-Kn.screenX,Hs=e.screenY-Kn.screenY):Hs=js=0,Kn=e),js)},movementY:function(e){return"movementY"in e?e.movementY:Hs}}),yn=we(Jr),Gl=A({},Jr,{dataTransfer:0}),oh=we(Gl),Wr=A({},Zr,{relatedTarget:0}),Gs=we(Wr),co=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Fs=we(co),Fl=A({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qs=we(Fl),lh=A({},Bt,{data:0}),ho=we(lh),ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ql={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Kl[e])?!!n[e]:!1}function es(){return fo}var Yl=A({},Zr,{key:function(e){if(e.key){var n=ts[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Fn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ql[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(e){return e.type==="keypress"?Fn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ks=we(Yl),Xl=A({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mo=we(Xl),vi=A({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),$l=we(vi),Zl=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jl=we(Zl),Wl=A({},Jr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ys=we(Wl),$e=A({},Bt,{newState:0,oldState:0}),tu=we($e),eu=[9,13,27,32],Yn=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var m=On&&"TextEvent"in window&&!u,y=On&&(!Yn||u&&8<u&&11>=u),T=" ",U=!1;function q(e,n){switch(e){case"keyup":return eu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function _e(e,n){switch(e){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return e=n.data,e===T&&U?null:e;default:return null}}function Pt(e,n){if(Mt)return e==="compositionend"||!Yn&&q(e,n)?(e=lo(),_i=$i=Gn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function Ei(e,n,r,o){pi?yi?yi.push(o):yi=[o]:pi=o,n=qu(n,"onChange"),0<n.length&&(r=new qs("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Pe=null,Xn=null;function go(e){my(e,0)}function nu(e){var n=qn(e);if(ro(n))return e}function xm(e,n){if(e==="change")return n}var Um=!1;if(On){var uh;if(On){var ch="oninput"in document;if(!ch){var km=document.createElement("div");km.setAttribute("oninput","return;"),ch=typeof km.oninput=="function"}uh=ch}else uh=!1;Um=uh&&(!document.documentMode||9<document.documentMode)}function Lm(){Pe&&(Pe.detachEvent("onpropertychange",zm),Xn=Pe=null)}function zm(e){if(e.propertyName==="value"&&nu(Xn)){var n=[];Ei(n,Xn,e,gn(e)),jl(go,n)}}function KE(e,n,r){e==="focusin"?(Lm(),Pe=n,Xn=r,Pe.attachEvent("onpropertychange",zm)):e==="focusout"&&Lm()}function YE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nu(Xn)}function XE(e,n){if(e==="click")return nu(n)}function $E(e,n){if(e==="input"||e==="change")return nu(n)}function ZE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var sn=typeof Object.is=="function"?Object.is:ZE;function po(e,n){if(sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Pr.call(n,h)||!sn(e[h],n[h]))return!1}return!0}function Bm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qm(e,n){var r=Bm(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Bm(r)}}function jm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Hm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Fr(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Fr(e.document)}return n}function hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var JE=On&&"documentMode"in document&&11>=document.documentMode,Xs=null,fh=null,yo=null,dh=!1;function Gm(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dh||Xs==null||Xs!==Fr(o)||(o=Xs,"selectionStart"in o&&hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),yo&&po(yo,o)||(yo=o,o=qu(fh,"onSelect"),0<o.length&&(n=new qs("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Xs)))}function ns(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var $s={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},mh={},Fm={};On&&(Fm=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function is(e){if(mh[e])return mh[e];if(!$s[e])return e;var n=$s[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Fm)return mh[e]=n[r];return e}var Qm=is("animationend"),Km=is("animationiteration"),Ym=is("animationstart"),WE=is("transitionrun"),tT=is("transitionstart"),eT=is("transitioncancel"),Xm=is("transitionend"),$m=new Map,gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gh.push("scrollEnd");function Nn(e,n){$m.set(e,n),Dn(n,[e])}var Zm=new WeakMap;function _n(e,n){if(typeof e=="object"&&e!==null){var r=Zm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Ls(n)},Zm.set(e,n),n)}return{value:e,source:n,stack:Ls(n)}}var vn=[],Zs=0,ph=0;function iu(){for(var e=Zs,n=ph=Zs=0;n<e;){var r=vn[n];vn[n++]=null;var o=vn[n];vn[n++]=null;var h=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Jm(r,h,f)}}function ru(e,n,r,o){vn[Zs++]=e,vn[Zs++]=n,vn[Zs++]=r,vn[Zs++]=o,ph|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function yh(e,n,r,o){return ru(e,n,r,o),su(e)}function Js(e,n){return ru(e,null,null,n),su(e)}function Jm(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-qe(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function su(e){if(50<jo)throw jo=0,bf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ws={};function nT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,n,r,o){return new nT(e,n,r,o)}function _h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ti(e,n){var r=e.alternate;return r===null?(r=an(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Wm(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function au(e,n,r,o,h,f){var _=0;if(o=e,typeof e=="function")_h(e)&&(_=1);else if(typeof e=="string")_=rA(e,r,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case b:return e=an(31,r,n,h),e.elementType=b,e.lanes=f,e;case $:return rs(r.children,h,f,n);case nt:_=8,h|=24;break;case Z:return e=an(12,r,n,h|2),e.elementType=Z,e.lanes=f,e;case mt:return e=an(13,r,n,h),e.elementType=mt,e.lanes=f,e;case Ct:return e=an(19,r,n,h),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:case at:_=10;break t;case ut:_=9;break t;case Rt:_=11;break t;case V:_=14;break t;case S:_=16,o=null;break t}_=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=an(_,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function rs(e,n,r,o){return e=an(7,e,o,n),e.lanes=r,e}function vh(e,n,r){return e=an(6,e,null,n),e.lanes=r,e}function Eh(e,n,r){return n=an(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ta=[],ea=0,ou=null,lu=0,En=[],Tn=0,ss=null,Ai=1,Si="";function as(e,n){ta[ea++]=lu,ta[ea++]=ou,ou=e,lu=n}function tg(e,n,r){En[Tn++]=Ai,En[Tn++]=Si,En[Tn++]=ss,ss=e;var o=Ai;e=Si;var h=32-qe(o)-1;o&=~(1<<h),r+=1;var f=32-qe(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ai=1<<32-qe(n)+h|r<<h|o,Si=f+e}else Ai=1<<f|r<<h|o,Si=e}function Th(e){e.return!==null&&(as(e,1),tg(e,1,0))}function Ah(e){for(;e===ou;)ou=ta[--ea],ta[ea]=null,lu=ta[--ea],ta[ea]=null;for(;e===ss;)ss=En[--Tn],En[Tn]=null,Si=En[--Tn],En[Tn]=null,Ai=En[--Tn],En[Tn]=null}var Ze=null,se=null,zt=!1,os=null,$n=!1,Sh=Error(a(519));function ls(e){var n=Error(a(418,""));throw Eo(_n(n,e)),Sh}function eg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ye]=e,n[fe]=o,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<Go.length;r++)Ot(Go[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Qr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),zs(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Kr(n,o.value,o.defaultValue,o.children),zs(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||_y(n.textContent,r)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=ju),n=!0):n=!1,n||ls(e)}function ng(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ze=Ze.return}}function _o(e){if(e!==Ze)return!1;if(!zt)return ng(e),zt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Bf(e.type,e.memoizedProps)),r=!r),r&&se&&ls(e),ng(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){se=Mn(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}se=null}}else n===27?(n=se,fr(e.type)?(e=Gf,Gf=null,se=e):se=n):se=Ze?Mn(e.stateNode.nextSibling):null;return!0}function vo(){se=Ze=null,zt=!1}function ig(){var e=os;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),os=null),e}function Eo(e){os===null?os=[e]:os.push(e)}var bh=Y(null),us=null,bi=null;function Zi(e,n,r){J(bh,n._currentValue),n._currentValue=r}function Ri(e){e._currentValue=bh.current,et(bh)}function Rh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function wh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Rh(f.return,r,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Rh(_,r,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function To(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var E=h.type;sn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===Re.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push($o):e=[$o])}h=h.return}e!==null&&wh(n,e,r,o),n.flags|=262144}function uu(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cs(e){us=e,bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return rg(us,e)}function cu(e,n){return us===null&&cs(e),rg(e,n)}function rg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},bi===null){if(e===null)throw Error(a(308));bi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else bi=bi.next=n;return r}var iT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},rT=s.unstable_scheduleCallback,sT=s.unstable_NormalPriority,Ee={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ih(){return{controller:new iT,data:new Map,refCount:0}}function Ao(e){e.refCount--,e.refCount===0&&rT(sT,function(){e.controller.abort()})}var So=null,Ch=0,na=0,ia=null;function aT(e,n){if(So===null){var r=So=[];Ch=0,na=Nf(),ia={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Ch++,n.then(sg,sg),n}function sg(){if(--Ch===0&&So!==null){ia!==null&&(ia.status="fulfilled");var e=So;So=null,na=0,ia=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function oT(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var ag=H.S;H.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&aT(e,n),ag!==null&&ag(e,n)};var hs=Y(null);function Dh(){var e=hs.current;return e!==null?e:Jt.pooledCache}function hu(e,n){n===null?J(hs,hs.current):J(hs,n.pool)}function og(){var e=Dh();return e===null?null:{parent:Ee._currentValue,pool:e}}var bo=Error(a(460)),lg=Error(a(474)),fu=Error(a(542)),Oh={then:function(){}};function ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function du(){}function cg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(du,du),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,fg(e),e;default:if(typeof n.status=="string")n.then(du,du);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,fg(e),e}throw Ro=n,bo}}var Ro=null;function hg(){if(Ro===null)throw Error(a(459));var e=Ro;return Ro=null,e}function fg(e){if(e===bo||e===fu)throw Error(a(483))}var Ji=!1;function Nh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=su(e),Jm(e,null,r),n}return ru(e,o,n,r),su(e)}function wo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Wa(e,r)}}function Mh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Ph=!1;function Io(){if(Ph){var e=ia;if(e!==null)throw e}}function Co(e,n,r,o){Ph=!1;var h=e.updateQueue;Ji=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,L=R.next;R.next=null,_===null?f=L:_.next=L,_=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;_=0,G=L=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(xt&z)===z:(o&z)===z){z!==0&&z===na&&(Ph=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=e,ct=E;z=n;var Xt=r;switch(ct.tag){case 1:if(gt=ct.payload,typeof gt=="function"){Q=gt.call(Xt,Q,z);break t}Q=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ct.payload,z=typeof gt=="function"?gt.call(Xt,Q,z):gt,z==null)break t;Q=A({},Q,z);break t;case 2:Ji=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=B,R=Q):G=G.next=B,_|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=L,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),lr|=_,e.lanes=_,e.memoizedState=Q}}function dg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function mg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)dg(r[e],n)}var ra=Y(null),mu=Y(0);function gg(e,n){e=Vi,J(mu,e),J(ra,n),Vi=e|n.baseLanes}function xh(){J(mu,Vi),J(ra,ra.current)}function Uh(){Vi=mu.current,et(ra),et(mu)}var er=0,St=null,Kt=null,me=null,gu=!1,sa=!1,fs=!1,pu=0,Do=0,aa=null,lT=0;function ue(){throw Error(a(321))}function kh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!sn(e[r],n[r]))return!1;return!0}function Lh(e,n,r,o,h,f){return er=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Jg:Wg,fs=!1,f=r(o,h),fs=!1,sa&&(f=yg(n,r,o,h)),pg(e),f}function pg(e){H.H=Au;var n=Kt!==null&&Kt.next!==null;if(er=0,me=Kt=St=null,gu=!1,Do=0,aa=null,n)throw Error(a(300));e===null||Ce||(e=e.dependencies,e!==null&&uu(e)&&(Ce=!0))}function yg(e,n,r,o){St=e;var h=0;do{if(sa&&(aa=null),Do=0,sa=!1,25<=h)throw Error(a(301));if(h+=1,me=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=gT,f=n(r,o)}while(sa);return f}function uT(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Oo(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(St.flags|=1024),n}function zh(){var e=pu!==0;return pu=0,e}function Bh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function qh(e){if(gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}gu=!1}er=0,me=Kt=St=null,sa=!1,Do=pu=0,aa=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?St.memoizedState=me=e:me=me.next=e,me}function ge(){if(Kt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=me===null?St.memoizedState:me.next;if(n!==null)me=n,Kt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},me===null?St.memoizedState=me=e:me=me.next=e}return me}function jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(e){var n=Do;return Do+=1,aa===null&&(aa=[]),e=cg(aa,e,n),n=St,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Jg:Wg),e}function yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Oo(e);if(e.$$typeof===at)return je(e)}throw Error(a(438,String(e)))}function Hh(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=jh(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=D;return n.index++,r}function wi(e,n){return typeof n=="function"?n(e):n}function _u(e){var n=ge();return Gh(n,Kt,e)}function Gh(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=_=null,R=null,L=n,G=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(xt&Q)===Q:(er&Q)===Q){var z=L.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===na&&(G=!0);else if((er&z)===z){L=L.next,z===na&&(G=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=Q,_=f):R=R.next=Q,St.lanes|=z,lr|=z;Q=L.action,fs&&r(f,Q),f=L.hasEagerState?L.eagerState:r(f,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=z,_=f):R=R.next=z,St.lanes|=Q,lr|=Q;L=L.next}while(L!==null&&L!==n);if(R===null?_=f:R.next=E,!sn(f,e.memoizedState)&&(Ce=!0,G&&(r=ia,r!==null)))throw r;e.memoizedState=f,e.baseState=_,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Fh(e){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);sn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function _g(e,n,r){var o=St,h=ge(),f=zt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var _=!sn((Kt||h).memoizedState,r);_&&(h.memoizedState=r,Ce=!0),h=h.queue;var E=Tg.bind(null,o,h,e);if(No(2048,8,E,[e]),h.getSnapshot!==n||_||me!==null&&me.memoizedState.tag&1){if(o.flags|=2048,oa(9,vu(),Eg.bind(null,o,h,r,n),null),Jt===null)throw Error(a(349));f||(er&124)!==0||vg(o,n,r)}return r}function vg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=jh(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Eg(e,n,r,o){n.value=r,n.getSnapshot=o,Ag(n)&&Sg(e)}function Tg(e,n,r){return r(function(){Ag(n)&&Sg(e)})}function Ag(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!sn(e,r)}catch{return!0}}function Sg(e){var n=Js(e,2);n!==null&&hn(n,e,2)}function Qh(e){var n=Je();if(typeof e=="function"){var r=e;if(e=r(),fs){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},n}function bg(e,n,r,o){return e.baseState=r,Gh(e,Kt,typeof o=="function"?o:wi)}function cT(e,n,r,o,h){if(Tu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Rg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Rg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,_={};H.T=_;try{var E=r(h,o),R=H.S;R!==null&&R(_,E),wg(e,n,E)}catch(L){Kh(e,n,L)}finally{H.T=f}}else try{f=r(h,o),wg(e,n,f)}catch(L){Kh(e,n,L)}}function wg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ig(e,n,o)},function(o){return Kh(e,n,o)}):Ig(e,n,r)}function Ig(e,n,r){n.status="fulfilled",n.value=r,Cg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Rg(e,r)))}function Kh(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Cg(n),n=n.next;while(n!==o)}e.action=null}function Cg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Dg(e,n){return n}function Og(e,n){if(zt){var r=Jt.formState;if(r!==null){t:{var o=St;if(zt){if(se){e:{for(var h=se,f=$n;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=Mn(h.nextSibling),o=h.data==="F!";break t}}ls(o)}o=!1}o&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:n},r.queue=o,r=Xg.bind(null,St,o),o.dispatch=r,o=Qh(!1),f=Jh.bind(null,St,!1,o.queue),o=Je(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=cT.bind(null,St,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Ng(e){var n=ge();return Vg(n,Kt,e)}function Vg(e,n,r){if(n=Gh(e,n,Dg)[0],e=_u(wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Oo(n)}catch(_){throw _===bo?fu:_}else o=n;n=ge();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(St.flags|=2048,oa(9,vu(),hT.bind(null,h,r),null)),[o,f,e]}function hT(e,n){e.action=n}function Mg(e){var n=ge(),r=Kt;if(r!==null)return Vg(n,r,e);ge(),n=n.memoizedState,r=ge();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function oa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=jh(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function vu(){return{destroy:void 0,resource:void 0}}function Pg(){return ge().memoizedState}function Eu(e,n,r,o){var h=Je();o=o===void 0?null:o,St.flags|=e,h.memoizedState=oa(1|n,vu(),r,o)}function No(e,n,r,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&kh(o,Kt.memoizedState.deps)?h.memoizedState=oa(n,f,r,o):(St.flags|=e,h.memoizedState=oa(1|n,f,r,o))}function xg(e,n){Eu(8390656,8,e,n)}function Ug(e,n){No(2048,8,e,n)}function kg(e,n){return No(4,2,e,n)}function Lg(e,n){return No(4,4,e,n)}function zg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bg(e,n,r){r=r!=null?r.concat([e]):null,No(4,4,zg.bind(null,n,e),r)}function Yh(){}function qg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&kh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function jg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&kh(n,o[1]))return o[0];if(o=e(),fs){nn(!0);try{e()}finally{nn(!1)}}return r.memoizedState=[o,n],o}function Xh(e,n,r){return r===void 0||(er&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=Fp(),St.lanes|=e,lr|=e,r)}function Hg(e,n,r,o){return sn(r,n)?r:ra.current!==null?(e=Xh(e,r,o),sn(e,n)||(Ce=!0),e):(er&42)===0?(Ce=!0,e.memoizedState=r):(e=Fp(),St.lanes|=e,lr|=e,n)}function Gg(e,n,r,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var _=H.T,E={};H.T=E,Jh(e,!1,n,r);try{var R=h(),L=H.S;if(L!==null&&L(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=oT(R,o);Vo(e,n,G,cn(e))}else Vo(e,n,o,cn(e))}catch(Q){Vo(e,n,{then:function(){},status:"rejected",reason:Q},cn())}finally{tt.p=f,H.T=_}}function fT(){}function $h(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Fg(e).queue;Gg(e,h,n,ot,r===null?fT:function(){return Qg(e),r(o)})}function Fg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Qg(e){var n=Fg(e).next.queue;Vo(e,n,{},cn())}function Zh(){return je($o)}function Kg(){return ge().memoizedState}function Yg(){return ge().memoizedState}function dT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();e=Wi(r);var o=tr(n,e,r);o!==null&&(hn(o,n,r),wo(o,n,r)),n={cache:Ih()},e.payload=n;return}n=n.return}}function mT(e,n,r){var o=cn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Tu(e)?$g(n,r):(r=yh(e,n,r,o),r!==null&&(hn(r,e,o),Zg(r,n,o)))}function Xg(e,n,r){var o=cn();Vo(e,n,r,o)}function Vo(e,n,r,o){var h={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))$g(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,r);if(h.hasEagerState=!0,h.eagerState=E,sn(E,_))return ru(e,n,h,0),Jt===null&&iu(),!1}catch{}finally{}if(r=yh(e,n,h,o),r!==null)return hn(r,e,o),Zg(r,n,o),!0}return!1}function Jh(e,n,r,o){if(o={lane:2,revertLane:Nf(),action:o,hasEagerState:!1,eagerState:null,next:null},Tu(e)){if(n)throw Error(a(479))}else n=yh(e,r,o,2),n!==null&&hn(n,e,2)}function Tu(e){var n=e.alternate;return e===St||n!==null&&n===St}function $g(e,n){sa=gu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Zg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Wa(e,r)}}var Au={readContext:je,use:yu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Jg={readContext:je,use:yu,useCallback:function(e,n){return Je().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:xg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Eu(4194308,4,zg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Eu(4194308,4,e,n)},useInsertionEffect:function(e,n){Eu(4,2,e,n)},useMemo:function(e,n){var r=Je();n=n===void 0?null:n;var o=e();if(fs){nn(!0);try{e()}finally{nn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Je();if(r!==void 0){var h=r(n);if(fs){nn(!0);try{r(n)}finally{nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=mT.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=Je();return e={current:e},n.memoizedState=e},useState:function(e){e=Qh(e);var n=e.queue,r=Xg.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Yh,useDeferredValue:function(e,n){var r=Je();return Xh(r,e,n)},useTransition:function(){var e=Qh(!1);return e=Gg.bind(null,St,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=St,h=Je();if(zt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Jt===null)throw Error(a(349));(xt&124)!==0||vg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,xg(Tg.bind(null,o,f,e),[e]),o.flags|=2048,oa(9,vu(),Eg.bind(null,o,f,r,n),null),r},useId:function(){var e=Je(),n=Jt.identifierPrefix;if(zt){var r=Si,o=Ai;r=(o&~(1<<32-qe(o)-1)).toString(32)+r,n=""+n+"R"+r,r=pu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=lT++,n=""+n+"r"+r.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Zh,useFormState:Og,useActionState:Og,useOptimistic:function(e){var n=Je();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Jh.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:Hh,useCacheRefresh:function(){return Je().memoizedState=dT.bind(null,St)}},Wg={readContext:je,use:yu,useCallback:qg,useContext:je,useEffect:Ug,useImperativeHandle:Bg,useInsertionEffect:kg,useLayoutEffect:Lg,useMemo:jg,useReducer:_u,useRef:Pg,useState:function(){return _u(wi)},useDebugValue:Yh,useDeferredValue:function(e,n){var r=ge();return Hg(r,Kt.memoizedState,e,n)},useTransition:function(){var e=_u(wi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Oo(e),n]},useSyncExternalStore:_g,useId:Kg,useHostTransitionStatus:Zh,useFormState:Ng,useActionState:Ng,useOptimistic:function(e,n){var r=ge();return bg(r,Kt,e,n)},useMemoCache:Hh,useCacheRefresh:Yg},gT={readContext:je,use:yu,useCallback:qg,useContext:je,useEffect:Ug,useImperativeHandle:Bg,useInsertionEffect:kg,useLayoutEffect:Lg,useMemo:jg,useReducer:Fh,useRef:Pg,useState:function(){return Fh(wi)},useDebugValue:Yh,useDeferredValue:function(e,n){var r=ge();return Kt===null?Xh(r,e,n):Hg(r,Kt.memoizedState,e,n)},useTransition:function(){var e=Fh(wi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Oo(e),n]},useSyncExternalStore:_g,useId:Kg,useHostTransitionStatus:Zh,useFormState:Mg,useActionState:Mg,useOptimistic:function(e,n){var r=ge();return Kt!==null?bg(r,Kt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Hh,useCacheRefresh:Yg},la=null,Mo=0;function Su(e){var n=Mo;return Mo+=1,la===null&&(la=[]),cg(la,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function bu(e,n){throw n.$$typeof===I?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function tp(e){var n=e._init;return n(e._payload)}function ep(e){function n(x,O){if(e){var k=x.deletions;k===null?(x.deletions=[O],x.flags|=16):k.push(O)}}function r(x,O){if(!e)return null;for(;O!==null;)n(x,O),O=O.sibling;return null}function o(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=Ti(x,O),x.index=0,x.sibling=null,x}function f(x,O,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<O?(x.flags|=67108866,O):k):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,O,k,F){return O===null||O.tag!==6?(O=vh(k,x.mode,F),O.return=x,O):(O=h(O,k),O.return=x,O)}function R(x,O,k,F){var rt=k.type;return rt===$?G(x,O,k.props.children,F,k.key):O!==null&&(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&tp(rt)===O.type)?(O=h(O,k.props),Po(O,k),O.return=x,O):(O=au(k.type,k.key,k.props,null,x.mode,F),Po(O,k),O.return=x,O)}function L(x,O,k,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=Eh(k,x.mode,F),O.return=x,O):(O=h(O,k.children||[]),O.return=x,O)}function G(x,O,k,F,rt){return O===null||O.tag!==7?(O=rs(k,x.mode,F,rt),O.return=x,O):(O=h(O,k),O.return=x,O)}function Q(x,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=vh(""+O,x.mode,k),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case N:return k=au(O.type,O.key,O.props,null,x.mode,k),Po(k,O),k.return=x,k;case j:return O=Eh(O,x.mode,k),O.return=x,O;case S:var F=O._init;return O=F(O._payload),Q(x,O,k)}if(ie(O)||P(O))return O=rs(O,x.mode,k,null),O.return=x,O;if(typeof O.then=="function")return Q(x,Su(O),k);if(O.$$typeof===at)return Q(x,cu(x,O),k);bu(x,O)}return null}function z(x,O,k,F){var rt=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return rt!==null?null:E(x,O,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case N:return k.key===rt?R(x,O,k,F):null;case j:return k.key===rt?L(x,O,k,F):null;case S:return rt=k._init,k=rt(k._payload),z(x,O,k,F)}if(ie(k)||P(k))return rt!==null?null:G(x,O,k,F,null);if(typeof k.then=="function")return z(x,O,Su(k),F);if(k.$$typeof===at)return z(x,O,cu(x,k),F);bu(x,k)}return null}function B(x,O,k,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(k)||null,E(O,x,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return x=x.get(F.key===null?k:F.key)||null,R(O,x,F,rt);case j:return x=x.get(F.key===null?k:F.key)||null,L(O,x,F,rt);case S:var It=F._init;return F=It(F._payload),B(x,O,k,F,rt)}if(ie(F)||P(F))return x=x.get(k)||null,G(O,x,F,rt,null);if(typeof F.then=="function")return B(x,O,k,Su(F),rt);if(F.$$typeof===at)return B(x,O,k,cu(O,F),rt);bu(O,F)}return null}function gt(x,O,k,F){for(var rt=null,It=null,st=O,dt=O=0,Oe=null;st!==null&&dt<k.length;dt++){st.index>dt?(Oe=st,st=null):Oe=st.sibling;var kt=z(x,st,k[dt],F);if(kt===null){st===null&&(st=Oe);break}e&&st&&kt.alternate===null&&n(x,st),O=f(kt,O,dt),It===null?rt=kt:It.sibling=kt,It=kt,st=Oe}if(dt===k.length)return r(x,st),zt&&as(x,dt),rt;if(st===null){for(;dt<k.length;dt++)st=Q(x,k[dt],F),st!==null&&(O=f(st,O,dt),It===null?rt=st:It.sibling=st,It=st);return zt&&as(x,dt),rt}for(st=o(st);dt<k.length;dt++)Oe=B(st,x,dt,k[dt],F),Oe!==null&&(e&&Oe.alternate!==null&&st.delete(Oe.key===null?dt:Oe.key),O=f(Oe,O,dt),It===null?rt=Oe:It.sibling=Oe,It=Oe);return e&&st.forEach(function(yr){return n(x,yr)}),zt&&as(x,dt),rt}function ct(x,O,k,F){if(k==null)throw Error(a(151));for(var rt=null,It=null,st=O,dt=O=0,Oe=null,kt=k.next();st!==null&&!kt.done;dt++,kt=k.next()){st.index>dt?(Oe=st,st=null):Oe=st.sibling;var yr=z(x,st,kt.value,F);if(yr===null){st===null&&(st=Oe);break}e&&st&&yr.alternate===null&&n(x,st),O=f(yr,O,dt),It===null?rt=yr:It.sibling=yr,It=yr,st=Oe}if(kt.done)return r(x,st),zt&&as(x,dt),rt;if(st===null){for(;!kt.done;dt++,kt=k.next())kt=Q(x,kt.value,F),kt!==null&&(O=f(kt,O,dt),It===null?rt=kt:It.sibling=kt,It=kt);return zt&&as(x,dt),rt}for(st=o(st);!kt.done;dt++,kt=k.next())kt=B(st,x,dt,kt.value,F),kt!==null&&(e&&kt.alternate!==null&&st.delete(kt.key===null?dt:kt.key),O=f(kt,O,dt),It===null?rt=kt:It.sibling=kt,It=kt);return e&&st.forEach(function(pA){return n(x,pA)}),zt&&as(x,dt),rt}function Xt(x,O,k,F){if(typeof k=="object"&&k!==null&&k.type===$&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case N:t:{for(var rt=k.key;O!==null;){if(O.key===rt){if(rt=k.type,rt===$){if(O.tag===7){r(x,O.sibling),F=h(O,k.props.children),F.return=x,x=F;break t}}else if(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&tp(rt)===O.type){r(x,O.sibling),F=h(O,k.props),Po(F,k),F.return=x,x=F;break t}r(x,O);break}else n(x,O);O=O.sibling}k.type===$?(F=rs(k.props.children,x.mode,F,k.key),F.return=x,x=F):(F=au(k.type,k.key,k.props,null,x.mode,F),Po(F,k),F.return=x,x=F)}return _(x);case j:t:{for(rt=k.key;O!==null;){if(O.key===rt)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){r(x,O.sibling),F=h(O,k.children||[]),F.return=x,x=F;break t}else{r(x,O);break}else n(x,O);O=O.sibling}F=Eh(k,x.mode,F),F.return=x,x=F}return _(x);case S:return rt=k._init,k=rt(k._payload),Xt(x,O,k,F)}if(ie(k))return gt(x,O,k,F);if(P(k)){if(rt=P(k),typeof rt!="function")throw Error(a(150));return k=rt.call(k),ct(x,O,k,F)}if(typeof k.then=="function")return Xt(x,O,Su(k),F);if(k.$$typeof===at)return Xt(x,O,cu(x,k),F);bu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(r(x,O.sibling),F=h(O,k),F.return=x,x=F):(r(x,O),F=vh(k,x.mode,F),F.return=x,x=F),_(x)):r(x,O)}return function(x,O,k,F){try{Mo=0;var rt=Xt(x,O,k,F);return la=null,rt}catch(st){if(st===bo||st===fu)throw st;var It=an(29,st,null,x.mode);return It.lanes=F,It.return=x,It}finally{}}}var ua=ep(!0),np=ep(!1),An=Y(null),Zn=null;function nr(e){var n=e.alternate;J(Te,Te.current&1),J(An,e),Zn===null&&(n===null||ra.current!==null||n.memoizedState!==null)&&(Zn=e)}function ip(e){if(e.tag===22){if(J(Te,Te.current),J(An,e),Zn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Zn=e)}}else ir()}function ir(){J(Te,Te.current),J(An,An.current)}function Ii(e){et(An),Zn===e&&(Zn=null),et(Te)}var Te=Y(0);function Ru(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Hf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Wh(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var tf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=cn(),h=Wi(o);h.payload=n,r!=null&&(h.callback=r),n=tr(e,h,o),n!==null&&(hn(n,e,o),wo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=cn(),h=Wi(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=tr(e,h,o),n!==null&&(hn(n,e,o),wo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=cn(),o=Wi(r);o.tag=2,n!=null&&(o.callback=n),n=tr(e,o,r),n!==null&&(hn(n,e,r),wo(n,e,r))}};function rp(e,n,r,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!po(r,o)||!po(h,f):!0}function sp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&tf.enqueueReplaceState(n,n.state,null)}function ds(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ap(e){wu(e)}function op(e){console.error(e)}function lp(e){wu(e)}function Iu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function up(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ef(e,n,r){return r=Wi(r),r.tag=3,r.payload={element:null},r.callback=function(){Iu(e,n)},r}function cp(e){return e=Wi(e),e.tag=3,e}function hp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){up(n,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){up(n,r,o),typeof h!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function pT(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&To(n,r,h,!0),r=An.current,r!==null){switch(r.tag){case 13:return Zn===null?wf():r.alternate===null&&ae===0&&(ae=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Oh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Cf(e,o,h)),!1;case 22:return r.flags|=65536,o===Oh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Cf(e,o,h)),!1}throw Error(a(435,r.tag))}return Cf(e,o,h),wf(),!1}if(zt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Sh&&(e=Error(a(422),{cause:o}),Eo(_n(e,r)))):(o!==Sh&&(n=Error(a(423),{cause:o}),Eo(_n(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=_n(o,r),h=ef(e.stateNode,o,h),Mh(e,h),ae!==4&&(ae=2)),!1;var f=Error(a(520),{cause:o});if(f=_n(f,r),qo===null?qo=[f]:qo.push(f),ae!==4&&(ae=2),n===null)return!0;o=_n(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=ef(r.stateNode,o,e),Mh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ur===null||!ur.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=cp(h),hp(h,e,r,o),Mh(r,h),!1}r=r.return}while(r!==null);return!1}var fp=Error(a(461)),Ce=!1;function xe(e,n,r,o){n.child=e===null?np(n,null,r,o):ua(n,e.child,r,o)}function dp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return cs(n),o=Lh(e,n,r,_,f,h),E=zh(),e!==null&&!Ce?(Bh(e,n,h),Ci(e,n,h)):(zt&&E&&Th(n),n.flags|=1,xe(e,n,o,h),n.child)}function mp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!_h(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,gp(e,n,f,o,h)):(e=au(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!cf(e,h)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:po,r(_,o)&&e.ref===n.ref)return Ci(e,n,h)}return n.flags|=1,e=Ti(f,o),e.ref=n.ref,e.return=n,n.child=e}function gp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(po(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,cf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Ci(e,n,h)}return nf(e,n,r,o,h)}function pp(e,n,r){var o=n.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|r:r,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return yp(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&hu(n,f!==null?f.cachePool:null),f!==null?gg(n,f):xh(),ip(n);else return n.lanes=n.childLanes=536870912,yp(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(hu(n,f.cachePool),gg(n,f),ir(),n.memoizedState=null):(e!==null&&hu(n,null),xh(),ir());return xe(e,n,h,r),n.child}function yp(e,n,r,o){var h=Dh();return h=h===null?null:{parent:Ee._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},e!==null&&hu(n,null),xh(),ip(n),e!==null&&To(e,n,o,!0),null}function Cu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function nf(e,n,r,o,h){return cs(n),r=Lh(e,n,r,o,void 0,h),o=zh(),e!==null&&!Ce?(Bh(e,n,h),Ci(e,n,h)):(zt&&o&&Th(n),n.flags|=1,xe(e,n,r,h),n.child)}function _p(e,n,r,o,h,f){return cs(n),n.updateQueue=null,r=yg(n,o,r,h),pg(e),o=zh(),e!==null&&!Ce?(Bh(e,n,f),Ci(e,n,f)):(zt&&o&&Th(n),n.flags|=1,xe(e,n,r,f),n.child)}function vp(e,n,r,o,h){if(cs(n),n.stateNode===null){var f=Ws,_=r.contextType;typeof _=="object"&&_!==null&&(f=je(_)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=tf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Nh(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?je(_):Ws,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Wh(n,r,_,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&tf.enqueueReplaceState(f,f.state,null),Co(n,o,f,h),Io(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=ds(r,E);f.props=R;var L=f.context,G=r.contextType;_=Ws,typeof G=="object"&&G!==null&&(_=je(G));var Q=r.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==_)&&sp(n,f,o,_),Ji=!1;var z=n.memoizedState;f.state=z,Co(n,o,f,h),Io(),L=n.memoizedState,E||z!==L||Ji?(typeof Q=="function"&&(Wh(n,r,Q,o),L=n.memoizedState),(R=Ji||rp(n,r,R,o,z,L,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=_,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Vh(e,n),_=n.memoizedProps,G=ds(r,_),f.props=G,Q=n.pendingProps,z=f.context,L=r.contextType,R=Ws,typeof L=="object"&&L!==null&&(R=je(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Q||z!==R)&&sp(n,f,o,R),Ji=!1,z=n.memoizedState,f.state=z,Co(n,o,f,h),Io();var B=n.memoizedState;_!==Q||z!==B||Ji||e!==null&&e.dependencies!==null&&uu(e.dependencies)?(typeof E=="function"&&(Wh(n,r,E,o),B=n.memoizedState),(G=Ji||rp(n,r,G,o,z,B,R)||e!==null&&e.dependencies!==null&&uu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Cu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ua(n,e.child,null,h),n.child=ua(n,null,r,h)):xe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Ci(e,n,h),e}function Ep(e,n,r,o){return vo(),n.flags|=256,xe(e,n,r,o),n.child}var rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sf(e){return{baseLanes:e,cachePool:og()}}function af(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Sn),e}function Tp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?nr(n):ir(),zt){var E=se,R;if(R=E){t:{for(R=E,E=$n;R.nodeType!==8;){if(!E){E=null;break t}if(R=Mn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:ss!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},R=an(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Ze=n,se=null,R=!0):R=!1}R||ls(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Hf(E)?n.lanes=32:n.lanes=536870912,null;Ii(n)}return E=o.children,o=o.fallback,h?(ir(),h=n.mode,E=Du({mode:"hidden",children:E},h),o=rs(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,h=n.child,h.memoizedState=sf(r),h.childLanes=af(e,_,r),n.memoizedState=rf,o):(nr(n),of(n,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(nr(n),n.flags&=-257,n=lf(e,n,r)):n.memoizedState!==null?(ir(),n.child=e.child,n.flags|=128,n=null):(ir(),h=o.fallback,E=n.mode,o=Du({mode:"visible",children:o.children},E),h=rs(h,E,r,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,ua(n,e.child,null,r),o=n.child,o.memoizedState=sf(r),o.childLanes=af(e,_,r),n.memoizedState=rf,n=h);else if(nr(n),Hf(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var L=_.dgst;_=L,o=Error(a(419)),o.stack="",o.digest=_,Eo({value:o,source:null,stack:null}),n=lf(e,n,r)}else if(Ce||To(e,n,r,!1),_=(r&e.childLanes)!==0,Ce||_){if(_=Jt,_!==null&&(o=r&-r,o=(o&42)!==0?1:Gi(o),o=(o&(_.suspendedLanes|r))!==0?0:o,o!==0&&o!==R.retryLane))throw R.retryLane=o,Js(e,o),hn(_,e,o),fp;E.data==="$?"||wf(),n=lf(e,n,r)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,se=Mn(E.nextSibling),Ze=n,zt=!0,os=null,$n=!1,e!==null&&(En[Tn++]=Ai,En[Tn++]=Si,En[Tn++]=ss,Ai=e.id,Si=e.overflow,ss=n),n=of(n,o.children),n.flags|=4096);return n}return h?(ir(),h=o.fallback,E=n.mode,R=e.child,L=R.sibling,o=Ti(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,L!==null?h=Ti(L,h):(h=rs(h,E,r,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,E=e.child.memoizedState,E===null?E=sf(r):(R=E.cachePool,R!==null?(L=Ee._currentValue,R=R.parent!==L?{parent:L,pool:L}:R):R=og(),E={baseLanes:E.baseLanes|r,cachePool:R}),h.memoizedState=E,h.childLanes=af(e,_,r),n.memoizedState=rf,o):(nr(n),r=e.child,e=r.sibling,r=Ti(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=r,n.memoizedState=null,r)}function of(e,n){return n=Du({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Du(e,n){return e=an(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function lf(e,n,r){return ua(n,e.child,null,r),e=of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ap(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Rh(e.return,n,r)}function uf(e,n,r,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=h)}function Sp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(xe(e,n,o.children,r),o=Te.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ap(e,r,n);else if(e.tag===19)Ap(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(Te,o),h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Ru(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),uf(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ru(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}uf(n,!0,r,null,f);break;case"together":uf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),lr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(To(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Ti(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ti(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function cf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&uu(e)))}function yT(e,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Zi(n,Ee,e.memoizedState.cache),vo();break;case 27:case 5:Hi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Zi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(nr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Tp(e,n,r):(nr(n),e=Ci(e,n,r),e!==null?e.sibling:null);nr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(To(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Sp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Te,Te.current),o)break;return null;case 22:case 23:return n.lanes=0,pp(e,n,r);case 24:Zi(n,Ee,e.memoizedState.cache)}return Ci(e,n,r)}function bp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!cf(e,r)&&(n.flags&128)===0)return Ce=!1,yT(e,n,r);Ce=(e.flags&131072)!==0}else Ce=!1,zt&&(n.flags&1048576)!==0&&tg(n,lu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")_h(o)?(e=ds(o,e),n.tag=1,n=vp(null,n,o,e,r)):(n.tag=0,n=nf(null,n,o,e,r));else{if(o!=null){if(h=o.$$typeof,h===Rt){n.tag=11,n=dp(null,n,o,e,r);break t}else if(h===V){n.tag=14,n=mp(null,n,o,e,r);break t}}throw n=Ve(o)||o,Error(a(306,n,""))}}return n;case 0:return nf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=ds(o,n.pendingProps),vp(e,n,o,h,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Vh(e,n),Co(n,o,null,r);var _=n.memoizedState;if(o=_.cache,Zi(n,Ee,o),o!==f.cache&&wh(n,[Ee],r,!0),Io(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ep(e,n,o,r);break t}else if(o!==h){h=_n(Error(a(424)),n),Eo(h),n=Ep(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(se=Mn(e.firstChild),Ze=n,zt=!0,os=null,$n=!0,r=np(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(vo(),o===h){n=Ci(e,n,r);break t}xe(e,n,o,r)}n=n.child}return n;case 26:return Cu(e,n),e===null?(r=Cy(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,e=n.pendingProps,o=Hu(_t.current).createElement(r),o[ye]=n,o[fe]=e,ke(o,r,e),le(o),n.stateNode=o):n.memoizedState=Cy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Hi(n),e===null&&zt&&(o=n.stateNode=Ry(n.type,n.pendingProps,_t.current),Ze=n,$n=!0,h=se,fr(n.type)?(Gf=h,se=Mn(o.firstChild)):se=h),xe(e,n,n.pendingProps.children,r),Cu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=se)&&(o=FT(o,n.type,n.pendingProps,$n),o!==null?(n.stateNode=o,Ze=n,se=Mn(o.firstChild),$n=!1,h=!0):h=!1),h||ls(n)),Hi(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Bf(h,f)?o=null:_!==null&&Bf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Lh(e,n,uT,null,null,r),$o._currentValue=h),Cu(e,n),xe(e,n,o,r),n.child;case 6:return e===null&&zt&&((e=r=se)&&(r=QT(r,n.pendingProps,$n),r!==null?(n.stateNode=r,Ze=n,se=null,e=!0):e=!1),e||ls(n)),null;case 13:return Tp(e,n,r);case 4:return Zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ua(n,null,o,r):xe(e,n,o,r),n.child;case 11:return dp(e,n,n.type,n.pendingProps,r);case 7:return xe(e,n,n.pendingProps,r),n.child;case 8:return xe(e,n,n.pendingProps.children,r),n.child;case 12:return xe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Zi(n,n.type,o.value),xe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,cs(n),h=je(h),o=o(h),n.flags|=1,xe(e,n,o,r),n.child;case 14:return mp(e,n,n.type,n.pendingProps,r);case 15:return gp(e,n,n.type,n.pendingProps,r);case 19:return Sp(e,n,r);case 31:return o=n.pendingProps,r=n.mode,o={mode:o.mode,children:o.children},e===null?(r=Du(o,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ti(e.child,o),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return pp(e,n,r);case 24:return cs(n),o=je(Ee),e===null?(h=Dh(),h===null&&(h=Jt,f=Ih(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Nh(n),Zi(n,Ee,h)):((e.lanes&r)!==0&&(Vh(e,n),Co(n,null,null,r),Io()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Zi(n,Ee,o)):(o=f.cache,Zi(n,Ee,o),o!==h.cache&&wh(n,[Ee],r,!0))),xe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Di(e){e.flags|=4}function Rp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!My(n)){if(n=An.current,n!==null&&((xt&4194048)===xt?Zn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Zn))throw Ro=Oh,lg;e.flags|=8192}}function Ou(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Za():536870912,e.lanes|=n,da|=n)}function xo(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function _T(e,n,r){var o=n.pendingProps;switch(Ah(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ri(Ee),Ln(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_o(n)?Di(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ig())),ee(n),null;case 26:return r=n.memoizedState,e===null?(Di(n),r!==null?(ee(n),Rp(n,r)):(ee(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Di(n),ee(n),Rp(n,r)):(ee(n),n.flags&=-16777217):(e.memoizedProps!==o&&Di(n),ee(n),n.flags&=-16777217),null;case 27:li(n),r=_t.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Di(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=lt.current,_o(n)?eg(n):(e=Ry(h,o,r),n.stateNode=e,Di(n))}return ee(n),null;case 5:if(li(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Di(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(e=lt.current,_o(n))eg(n);else{switch(h=Hu(_t.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(r,{is:o.is}):h.createElement(r)}}e[ye]=n,e[fe]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ke(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Di(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Di(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=_t.current,_o(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||_y(e.nodeValue,r)),e||ls(n)}else e=Hu(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_o(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ye]=n}else vo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=ig(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ii(n),n):(Ii(n),null)}if(Ii(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),Ou(n,n.updateQueue),ee(n),null;case 4:return Ln(),e===null&&xf(n.stateNode.containerInfo),ee(n),null;case 10:return Ri(n.type),ee(n),null;case 19:if(et(Te),h=n.memoizedState,h===null)return ee(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)xo(h,!1);else{if(ae!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ru(e),f!==null){for(n.flags|=128,xo(h,!1),e=f.updateQueue,n.updateQueue=e,Ou(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Wm(r,e),r=r.sibling;return J(Te,Te.current&1|2),n.child}e=e.sibling}h.tail!==null&&fn()>Mu&&(n.flags|=128,o=!0,xo(h,!1),n.lanes=4194304)}else{if(!o)if(e=Ru(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Ou(n,e),xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!zt)return ee(n),null}else 2*fn()-h.renderingStartTime>Mu&&r!==536870912&&(n.flags|=128,o=!0,xo(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=fn(),n.sibling=null,e=Te.current,J(Te,o?e&1|2:e&1),n):(ee(n),null);case 22:case 23:return Ii(n),Uh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&Ou(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&et(hs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ri(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function vT(e,n){switch(Ah(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ri(Ee),Ln(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return li(n),null;case 13:if(Ii(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));vo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(Te),null;case 4:return Ln(),null;case 10:return Ri(n.type),null;case 22:case 23:return Ii(n),Uh(),e!==null&&et(hs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ri(Ee),null;case 25:return null;default:return null}}function wp(e,n){switch(Ah(n),n.tag){case 3:Ri(Ee),Ln();break;case 26:case 27:case 5:li(n);break;case 4:Ln();break;case 13:Ii(n);break;case 19:et(Te);break;case 10:Ri(n.type);break;case 22:case 23:Ii(n),Uh(),e!==null&&et(hs);break;case 24:Ri(Ee)}}function Uo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,_=r.inst;o=f(),_.destroy=o}r=r.next}while(r!==h)}}catch(E){$t(n,n.return,E)}}function rr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var R=r,L=E;try{L()}catch(G){$t(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){$t(n,n.return,G)}}function Ip(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{mg(n,r)}catch(o){$t(e,e.return,o)}}}function Cp(e,n,r){r.props=ds(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){$t(e,n,o)}}function ko(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){$t(e,n,h)}}function Jn(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$t(e,n,h)}else r.current=null}function Dp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){$t(e,e.return,h)}}function hf(e,n,r){try{var o=e.stateNode;BT(o,e.type,r,n),o[fe]=n}catch(h){$t(e,e.return,h)}}function Op(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fr(e.type)||e.tag===4}function ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Op(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function df(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ju));else if(o!==4&&(o===27&&fr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(df(e,n,r),e=e.sibling;e!==null;)df(e,n,r),e=e.sibling}function Nu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&fr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Nu(e,n,r),e=e.sibling;e!==null;)Nu(e,n,r),e=e.sibling}function Np(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ke(n,o,r),n[ye]=e,n[fe]=r}catch(f){$t(e,e.return,f)}}var Oi=!1,ce=!1,mf=!1,Vp=typeof WeakSet=="function"?WeakSet:Set,De=null;function ET(e,n){if(e=e.containerInfo,Lf=Xu,e=Hm(e),hh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,E=-1,R=-1,L=0,G=0,Q=e,z=null;e:for(;;){for(var B;Q!==r||h!==0&&Q.nodeType!==3||(E=_+h),Q!==f||o!==0&&Q.nodeType!==3||(R=_+o),Q.nodeType===3&&(_+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===r&&++L===h&&(E=_),z===f&&++G===o&&(R=_),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(zf={focusedElem:e,selectionRange:r},Xu=!1,De=n;De!==null;)if(n=De,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,De=e;else for(;De!==null;){switch(n=De,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var gt=ds(r.type,h,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(gt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ct){$t(r,r.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)jf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,De=e;break}De=n.return}}function Mp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:sr(e,r),o&4&&Uo(5,r);break;case 1:if(sr(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(_){$t(r,r.return,_)}else{var h=ds(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(r,r.return,_)}}o&64&&Ip(r),o&512&&ko(r,r.return);break;case 3:if(sr(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{mg(e,n)}catch(_){$t(r,r.return,_)}}break;case 27:n===null&&o&4&&Np(r);case 26:case 5:sr(e,r),n===null&&o&4&&Dp(r),o&512&&ko(r,r.return);break;case 12:sr(e,r);break;case 13:sr(e,r),o&4&&Up(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=DT.bind(null,r),KT(e,r))));break;case 22:if(o=r.memoizedState!==null||Oi,!o){n=n!==null&&n.memoizedState!==null||ce,h=Oi;var f=ce;Oi=o,(ce=n)&&!f?ar(e,r,(r.subtreeFlags&8772)!==0):sr(e,r),Oi=h,ce=f}break;case 30:break;default:sr(e,r)}}function Pp(e){var n=e.alternate;n!==null&&(e.alternate=null,Pp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ki(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var te=null,We=!1;function Ni(e,n,r){for(r=r.child;r!==null;)xp(e,n,r),r=r.sibling}function xp(e,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:ce||Jn(r,n),Ni(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Jn(r,n);var o=te,h=We;fr(r.type)&&(te=r.stateNode,We=!1),Ni(e,n,r),Qo(r.stateNode),te=o,We=h;break;case 5:ce||Jn(r,n);case 6:if(o=te,h=We,te=null,Ni(e,n,r),te=o,We=h,te!==null)if(We)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:te!==null&&(We?(e=te,Sy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),tl(e)):Sy(te,r.stateNode));break;case 4:o=te,h=We,te=r.stateNode.containerInfo,We=!0,Ni(e,n,r),te=o,We=h;break;case 0:case 11:case 14:case 15:ce||rr(2,r,n),ce||rr(4,r,n),Ni(e,n,r);break;case 1:ce||(Jn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Cp(r,n,o)),Ni(e,n,r);break;case 21:Ni(e,n,r);break;case 22:ce=(o=ce)||r.memoizedState!==null,Ni(e,n,r),ce=o;break;default:Ni(e,n,r)}}function Up(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{tl(e)}catch(r){$t(n,n.return,r)}}function TT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Vp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Vp),n;default:throw Error(a(435,e.tag))}}function gf(e,n){var r=TT(e);n.forEach(function(o){var h=OT.bind(null,e,o);r.has(o)||(r.add(o),o.then(h,h))})}function on(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(fr(E.type)){te=E.stateNode,We=!1;break t}break;case 5:te=E.stateNode,We=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(te===null)throw Error(a(160));xp(f,_,h),te=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)kp(n,e),n=n.sibling}var Vn=null;function kp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(rr(3,e,e.return),Uo(3,e),rr(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(ce||r===null||Jn(r,r.return)),o&64&&Oi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Vn;if(on(n,e),ln(e),o&512&&(ce||r===null||Jn(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[jr]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ke(f,o,r),f[ye]=e,le(f),o=f;break t;case"link":var _=Ny("link","href",h).get(o+(r.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),ke(f,o,r),h.head.appendChild(f);break;case"meta":if(_=Ny("meta","content",h).get(o+(r.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(E,1);break e}}f=h.createElement(o),ke(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,le(f),o=f}e.stateNode=o}else Vy(h,e.type,e.stateNode);else e.stateNode=Oy(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Vy(h,e.type,e.stateNode):Oy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&hf(e,e.memoizedProps,r.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(ce||r===null||Jn(r,r.return)),r!==null&&o&4&&hf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(ce||r===null||Jn(r,r.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,hf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(mf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(Qu=null,h=Vn,Vn=Gu(n.containerInfo),on(n,e),Vn=h,ln(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{tl(n.containerInfo)}catch(B){$t(e,e.return,B)}mf&&(mf=!1,Lp(e));break;case 4:o=Vn,Vn=Gu(e.stateNode.containerInfo),on(n,e),ln(e),Vn=o;break;case 12:on(n,e),ln(e);break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Tf=fn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,gf(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,L=Oi,G=ce;if(Oi=L||h,ce=G||R,on(n,e),ce=G,Oi=L,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Oi||ce||ms(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(R,R.return,B)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(B){$t(R,R.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,gf(e,r))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,gf(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Op(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=ff(e);Nu(e,f,h);break;case 5:var _=r.stateNode;r.flags&32&&(mn(_,""),r.flags&=-33);var E=ff(e);Nu(e,E,_);break;case 3:case 4:var R=r.stateNode.containerInfo,L=ff(e);df(e,L,R);break;default:throw Error(a(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Lp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Lp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function sr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Mp(e,n.alternate,n),n=n.sibling}function ms(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:rr(4,n,n.return),ms(n);break;case 1:Jn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Cp(n,n.return,r),ms(n);break;case 27:Qo(n.stateNode);case 26:case 5:Jn(n,n.return),ms(n);break;case 22:n.memoizedState===null&&ms(n);break;case 30:ms(n);break;default:ms(n)}e=e.sibling}}function ar(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:ar(h,f,r),Uo(4,f);break;case 1:if(ar(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)dg(R[h],E)}catch(L){$t(o,o.return,L)}}r&&_&64&&Ip(f),ko(f,f.return);break;case 27:Np(f);case 26:case 5:ar(h,f,r),r&&o===null&&_&4&&Dp(f),ko(f,f.return);break;case 12:ar(h,f,r);break;case 13:ar(h,f,r),r&&_&4&&Up(h,f);break;case 22:f.memoizedState===null&&ar(h,f,r),ko(f,f.return);break;case 30:break;default:ar(h,f,r)}n=n.sibling}}function pf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ao(r))}function yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ao(e))}function Wn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zp(e,n,r,o),n=n.sibling}function zp(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,r,o),h&2048&&Uo(9,n);break;case 1:Wn(e,n,r,o);break;case 3:Wn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ao(e)));break;case 12:if(h&2048){Wn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else Wn(e,n,r,o);break;case 13:Wn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,r,o):Lo(e,n):f._visibility&2?Wn(e,n,r,o):(f._visibility|=2,ca(e,n,r,o,(n.subtreeFlags&10256)!==0)),h&2048&&pf(_,n);break;case 24:Wn(e,n,r,o),h&2048&&yf(n.alternate,n);break;default:Wn(e,n,r,o)}}function ca(e,n,r,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,E=r,R=o,L=_.flags;switch(_.tag){case 0:case 11:case 15:ca(f,_,E,R,h),Uo(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?ca(f,_,E,R,h):Lo(f,_):(G._visibility|=2,ca(f,_,E,R,h)),h&&L&2048&&pf(_.alternate,_);break;case 24:ca(f,_,E,R,h),h&&L&2048&&yf(_.alternate,_);break;default:ca(f,_,E,R,h)}n=n.sibling}}function Lo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Lo(r,o),h&2048&&pf(o.alternate,o);break;case 24:Lo(r,o),h&2048&&yf(o.alternate,o);break;default:Lo(r,o)}n=n.sibling}}var zo=8192;function ha(e){if(e.subtreeFlags&zo)for(e=e.child;e!==null;)Bp(e),e=e.sibling}function Bp(e){switch(e.tag){case 26:ha(e),e.flags&zo&&e.memoizedState!==null&&aA(Vn,e.memoizedState,e.memoizedProps);break;case 5:ha(e);break;case 3:case 4:var n=Vn;Vn=Gu(e.stateNode.containerInfo),ha(e),Vn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=zo,zo=16777216,ha(e),zo=n):ha(e));break;default:ha(e)}}function qp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Bo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];De=o,Hp(o,e)}qp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jp(e),e=e.sibling}function jp(e){switch(e.tag){case 0:case 11:case 15:Bo(e),e.flags&2048&&rr(9,e,e.return);break;case 3:Bo(e);break;case 12:Bo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Vu(e)):Bo(e);break;default:Bo(e)}}function Vu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];De=o,Hp(o,e)}qp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:rr(8,n,n.return),Vu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Vu(n));break;default:Vu(n)}e=e.sibling}}function Hp(e,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:rr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ao(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,De=o;else t:for(r=e;De!==null;){o=De;var h=o.sibling,f=o.return;if(Pp(o),o===r){De=null;break t}if(h!==null){h.return=f,De=h;break t}De=f}}}var AT={getCacheForType:function(e){var n=je(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},ST=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Dt=null,xt=0,Gt=0,un=null,or=!1,fa=!1,_f=!1,Vi=0,ae=0,lr=0,gs=0,vf=0,Sn=0,da=0,qo=null,tn=null,Ef=!1,Tf=0,Mu=1/0,Pu=null,ur=null,Ue=0,cr=null,ma=null,ga=0,Af=0,Sf=null,Gp=null,jo=0,bf=null;function cn(){if((Ht&2)!==0&&xt!==0)return xt&-xt;if(H.T!==null){var e=na;return e!==0?e:Nf()}return Fi()}function Fp(){Sn===0&&(Sn=(xt&536870912)===0||zt?$a():536870912);var e=An.current;return e!==null&&(e.flags|=32),Sn}function hn(e,n,r){(e===Jt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(pa(e,0),hr(e,xt,Sn,!1)),ci(e,r),((Ht&2)===0||e!==Jt)&&(e===Jt&&((Ht&2)===0&&(gs|=r),ae===4&&hr(e,xt,Sn,!1)),ti(e))}function Qp(e,n,r){if((Ht&6)!==0)throw Error(a(327));var o=!r&&(n&124)===0&&(n&e.expiredLanes)===0||qr(e,n),h=o?wT(e,n):If(e,n,!0),f=o;do{if(h===0){fa&&!o&&hr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!bT(r)){h=If(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=e;h=qo;var R=E.current.memoizedState.isDehydrated;if(R&&(pa(E,_).flags|=256),_=If(E,_,!1),_!==2){if(_f&&!R){E.errorRecoveryDisabledLanes|=f,gs|=f,h=4;break t}f=tn,tn=h,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){pa(e,0),hr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:hr(o,n,Sn,!or);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Tf+300-fn(),10<h)){if(hr(o,n,Sn,!or),Ms(o,0,!0)!==0)break t;o.timeoutHandle=Ty(Kp.bind(null,o,r,tn,Pu,Ef,n,Sn,gs,da,or,f,2,-0,0),h);break t}Kp(o,r,tn,Pu,Ef,n,Sn,gs,da,or,f,0,-0,0)}}break}while(!0);ti(e)}function Kp(e,n,r,o,h,f,_,E,R,L,G,Q,z,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Xo={stylesheets:null,count:0,unsuspend:sA},Bp(n),Q=oA(),Q!==null)){e.cancelPendingCommit=Q(ty.bind(null,e,n,f,r,o,h,_,E,R,G,1,z,B)),hr(e,f,_,!L);return}ty(e,n,f,r,o,h,_,E,R)}function bT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!sn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hr(e,n,r,o){n&=~vf,n&=~gs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-qe(h),_=1<<f;o[f]=-1,h&=~_}r!==0&&zn(e,r,n)}function xu(){return(Ht&6)===0?(Ho(0),!1):!0}function Rf(){if(Dt!==null){if(Gt===0)var e=Dt.return;else e=Dt,bi=us=null,qh(e),la=null,Mo=0,e=Dt;for(;e!==null;)wp(e.alternate,e),e=e.return;Dt=null}}function pa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,jT(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Rf(),Jt=e,Dt=r=Ti(e.current,null),xt=n,Gt=0,un=null,or=!1,fa=qr(e,n),_f=!1,da=Sn=vf=gs=lr=ae=0,tn=qo=null,Ef=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-qe(o),f=1<<h;n|=e[h],o&=~f}return Vi=n,iu(),r}function Yp(e,n){St=null,H.H=Au,n===bo||n===fu?(n=hg(),Gt=3):n===lg?(n=hg(),Gt=4):Gt=n===fp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Dt===null&&(ae=1,Iu(e,_n(n,e.current)))}function Xp(){var e=H.H;return H.H=Au,e===null?Au:e}function $p(){var e=H.A;return H.A=AT,e}function wf(){ae=4,or||(xt&4194048)!==xt&&An.current!==null||(fa=!0),(lr&134217727)===0&&(gs&134217727)===0||Jt===null||hr(Jt,xt,Sn,!1)}function If(e,n,r){var o=Ht;Ht|=2;var h=Xp(),f=$p();(Jt!==e||xt!==n)&&(Pu=null,pa(e,n)),n=!1;var _=ae;t:do try{if(Gt!==0&&Dt!==null){var E=Dt,R=un;switch(Gt){case 8:Rf(),_=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var L=Gt;if(Gt=0,un=null,ya(e,E,R,L),r&&fa){_=0;break t}break;default:L=Gt,Gt=0,un=null,ya(e,E,R,L)}}RT(),_=ae;break}catch(G){Yp(e,G)}while(!0);return n&&e.shellSuspendCounter++,bi=us=null,Ht=o,H.H=h,H.A=f,Dt===null&&(Jt=null,xt=0,iu()),_}function RT(){for(;Dt!==null;)Zp(Dt)}function wT(e,n){var r=Ht;Ht|=2;var o=Xp(),h=$p();Jt!==e||xt!==n?(Pu=null,Mu=fn()+500,pa(e,n)):fa=qr(e,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var f=un;e:switch(Gt){case 1:Gt=0,un=null,ya(e,n,f,1);break;case 2:case 9:if(ug(f)){Gt=0,un=null,Jp(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==e||(Gt=7),ti(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:ug(f)?(Gt=0,un=null,Jp(n)):(Gt=0,un=null,ya(e,n,f,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var E=Dt;if(!_||My(_)){Gt=0,un=null;var R=E.sibling;if(R!==null)Dt=R;else{var L=E.return;L!==null?(Dt=L,Uu(L)):Dt=null}break e}}Gt=0,un=null,ya(e,n,f,5);break;case 6:Gt=0,un=null,ya(e,n,f,6);break;case 8:Rf(),ae=6;break t;default:throw Error(a(462))}}IT();break}catch(G){Yp(e,G)}while(!0);return bi=us=null,H.H=o,H.A=h,Ht=r,Dt!==null?0:(Jt=null,xt=0,iu(),ae)}function IT(){for(;Dt!==null&&!Qa();)Zp(Dt)}function Zp(e){var n=bp(e.alternate,e,Vi);e.memoizedProps=e.pendingProps,n===null?Uu(e):Dt=n}function Jp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=_p(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=_p(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:qh(n);default:wp(r,n),n=Dt=Wm(n,Vi),n=bp(r,n,Vi)}e.memoizedProps=e.pendingProps,n===null?Uu(e):Dt=n}function ya(e,n,r,o){bi=us=null,qh(n),la=null,Mo=0;var h=n.return;try{if(pT(e,h,n,r,xt)){ae=1,Iu(e,_n(r,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ae=1,Iu(e,_n(r,e.current)),Dt=null;return}n.flags&32768?(zt||o===1?e=!0:fa||(xt&536870912)!==0?e=!1:(or=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wp(n,e)):Uu(n)}function Uu(e){var n=e;do{if((n.flags&32768)!==0){Wp(n,or);return}e=n.return;var r=_T(n.alternate,n,Vi);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);ae===0&&(ae=5)}function Wp(e,n){do{var r=vT(e.alternate,e);if(r!==null){r.flags&=32767,Dt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=r}while(e!==null);ae=6,Dt=null}function ty(e,n,r,o,h,f,_,E,R){e.cancelPendingCommit=null;do ku();while(Ue!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=ph,Ja(e,r,f,_,E,R),e===Jt&&(Dt=Jt=null,xt=0),ma=n,cr=e,ga=r,Af=f,Sf=h,Gp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,NT(kr,function(){return sy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=tt.p,tt.p=2,_=Ht,Ht|=4;try{ET(e,n,r)}finally{Ht=_,tt.p=h,H.T=o}}Ue=1,ey(),ny(),iy()}}function ey(){if(Ue===1){Ue=0;var e=cr,n=ma,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{kp(n,e);var f=zf,_=Hm(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&jm(E.ownerDocument.documentElement,E)){if(R!==null&&hh(E)){var L=R.start,G=R.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),gt=E.textContent.length,ct=Math.min(R.start,gt),Xt=R.end===void 0?ct:Math.min(R.end,gt);!B.extend&&ct>Xt&&(_=Xt,Xt=ct,ct=_);var x=qm(E,ct),O=qm(E,Xt);if(x&&O&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var k=Q.createRange();k.setStart(x.node,x.offset),B.removeAllRanges(),ct>Xt?(B.addRange(k),B.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),B.addRange(k))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Xu=!!Lf,zf=Lf=null}finally{Ht=h,tt.p=o,H.T=r}}e.current=n,Ue=2}}function ny(){if(Ue===2){Ue=0;var e=cr,n=ma,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{Mp(e,n.alternate,n)}finally{Ht=h,tt.p=o,H.T=r}}Ue=3}}function iy(){if(Ue===4||Ue===3){Ue=0,Vl();var e=cr,n=ma,r=ga,o=Gp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,ma=cr=null,ry(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ur=null),Ps(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=h}}(ga&3)!==0&&ku(),ti(e),h=e.pendingLanes,(r&4194090)!==0&&(h&42)!==0?e===bf?jo++:(jo=0,bf=e):jo=0,Ho(0)}}function ry(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ao(n)))}function ku(e){return ey(),ny(),iy(),sy()}function sy(){if(Ue!==5)return!1;var e=cr,n=Af;Af=0;var r=Ps(ga),o=H.T,h=tt.p;try{tt.p=32>r?32:r,H.T=null,r=Sf,Sf=null;var f=cr,_=ga;if(Ue=0,ma=cr=null,ga=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,jp(f.current),zp(f,f.current,_,r),Ht=E,Ho(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{tt.p=h,H.T=o,ry(e,n)}}function ay(e,n,r){n=_n(r,n),n=ef(e.stateNode,n,2),e=tr(e,n,2),e!==null&&(ci(e,2),ti(e))}function $t(e,n,r){if(e.tag===3)ay(e,e,r);else for(;n!==null;){if(n.tag===3){ay(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ur===null||!ur.has(o))){e=_n(r,e),r=cp(2),o=tr(n,r,2),o!==null&&(hp(r,o,n,e),ci(o,2),ti(o));break}}n=n.return}}function Cf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new ST;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(_f=!0,h.add(r),e=CT.bind(null,e,n,r),n.then(e,e))}function CT(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Jt===e&&(xt&r)===r&&(ae===4||ae===3&&(xt&62914560)===xt&&300>fn()-Tf?(Ht&2)===0&&pa(e,0):vf|=r,da===xt&&(da=0)),ti(e)}function oy(e,n){n===0&&(n=Za()),e=Js(e,n),e!==null&&(ci(e,n),ti(e))}function DT(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),oy(e,r)}function OT(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),oy(e,r)}function NT(e,n){return xr(e,n)}var Lu=null,_a=null,Df=!1,zu=!1,Of=!1,ps=0;function ti(e){e!==_a&&e.next===null&&(_a===null?Lu=_a=e:_a=_a.next=e),zu=!0,Df||(Df=!0,MT())}function Ho(e,n){if(!Of&&zu){Of=!0;do for(var r=!1,o=Lu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-qe(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,hy(o,f))}else f=xt,f=Ms(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qr(o,f)||(r=!0,hy(o,f));o=o.next}while(r);Of=!1}}function VT(){ly()}function ly(){zu=Df=!1;var e=0;ps!==0&&(qT()&&(e=ps),ps=0);for(var n=fn(),r=null,o=Lu;o!==null;){var h=o.next,f=uy(o,n);f===0?(o.next=null,r===null?Lu=h:r.next=h,h===null&&(_a=r)):(r=o,(e!==0||(f&3)!==0)&&(zu=!0)),o=h}Ho(e)}function uy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-qe(f),E=1<<_,R=h[_];R===-1?((E&r)===0||(E&o)!==0)&&(h[_]=Xa(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,r=xt,r=Ms(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ur(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||qr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Ur(o),Ps(r)){case 2:case 8:r=Ns;break;case 32:r=kr;break;case 268435456:r=Vs;break;default:r=kr}return o=cy.bind(null,e),r=xr(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Ur(o),e.callbackPriority=2,e.callbackNode=null,2}function cy(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ku()&&e.callbackNode!==r)return null;var o=xt;return o=Ms(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Qp(e,o,n),uy(e,fn()),e.callbackNode!=null&&e.callbackNode===r?cy.bind(null,e):null)}function hy(e,n){if(ku())return null;Qp(e,n,!0)}function MT(){HT(function(){(Ht&6)!==0?xr(Ka,VT):ly()})}function Nf(){return ps===0&&(ps=$a()),ps}function fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bs(""+e)}function dy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function PT(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=fy((h[fe]||null).action),_=o.submitter;_&&(n=(n=_[fe]||null)?fy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new qs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ps!==0){var R=_?dy(h,_):new FormData(h);$h(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=_?dy(h,_):new FormData(h),$h(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Vf=0;Vf<gh.length;Vf++){var Mf=gh[Vf],xT=Mf.toLowerCase(),UT=Mf[0].toUpperCase()+Mf.slice(1);Nn(xT,"on"+UT)}Nn(Qm,"onAnimationEnd"),Nn(Km,"onAnimationIteration"),Nn(Ym,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(WE,"onTransitionRun"),Nn(tT,"onTransitionStart"),Nn(eT,"onTransitionCancel"),Nn(Xm,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Go));function my(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],R=E.instance,L=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=R}else for(_=0;_<o.length;_++){if(E=o[_],R=E.instance,L=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=R}}}}function Ot(e,n){var r=n[to];r===void 0&&(r=n[to]=new Set);var o=e+"__bubble";r.has(o)||(gy(n,e,2,!1),r.add(o))}function Pf(e,n,r){var o=0;n&&(o|=4),gy(r,e,o,n)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function xf(e){if(!e[Bu]){e[Bu]=!0,eo.forEach(function(r){r!=="selectionchange"&&(kT.has(r)||Pf(r,!1,e),Pf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Bu]||(n[Bu]=!0,Pf("selectionchange",!1,n))}}function gy(e,n,r,o){switch(zy(n)){case 2:var h=cA;break;case 8:h=hA;break;default:h=Xf}r=h.bind(null,n,r,e),h=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Uf(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=hi(E),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){o=f=_;continue t}E=E.parentNode}}o=o.return}jl(function(){var L=f,G=gn(r),Q=[];t:{var z=$m.get(e);if(z!==void 0){var B=qs,gt=e;switch(e){case"keypress":if(Fn(r)===0)break t;case"keydown":case"keyup":B=Ks;break;case"focusin":gt="focus",B=Gs;break;case"focusout":gt="blur",B=Gs;break;case"beforeblur":case"afterblur":B=Gs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=$l;break;case Qm:case Km:case Ym:B=Fs;break;case Xm:B=Jl;break;case"scroll":case"scrollend":B=Hl;break;case"wheel":B=Ys;break;case"copy":case"cut":case"paste":B=Qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=mo;break;case"toggle":case"beforetoggle":B=tu}var ct=(n&4)!==0,Xt=!ct&&(e==="scroll"||e==="scrollend"),x=ct?z!==null?z+"Capture":null:z;ct=[];for(var O=L,k;O!==null;){var F=O;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||x===null||(F=Xr(O,x),F!=null&&ct.push(Fo(O,F,k))),Xt)break;O=O.return}0<ct.length&&(z=new B(z,gt,null,r,G),Q.push({event:z,listeners:ct}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&r!==gi&&(gt=r.relatedTarget||r.fromElement)&&(hi(gt)||gt[dn]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(gt=r.relatedTarget||r.toElement,B=L,gt=gt?hi(gt):null,gt!==null&&(Xt=c(gt),ct=gt.tag,gt!==Xt||ct!==5&&ct!==27&&ct!==6)&&(gt=null)):(B=null,gt=L),B!==gt)){if(ct=yn,F="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ct=mo,F="onPointerLeave",x="onPointerEnter",O="pointer"),Xt=B==null?z:qn(B),k=gt==null?z:qn(gt),z=new ct(F,O+"leave",B,r,G),z.target=Xt,z.relatedTarget=k,F=null,hi(G)===L&&(ct=new ct(x,O+"enter",gt,r,G),ct.target=k,ct.relatedTarget=Xt,F=ct),Xt=F,B&&gt)e:{for(ct=B,x=gt,O=0,k=ct;k;k=va(k))O++;for(k=0,F=x;F;F=va(F))k++;for(;0<O-k;)ct=va(ct),O--;for(;0<k-O;)x=va(x),k--;for(;O--;){if(ct===x||x!==null&&ct===x.alternate)break e;ct=va(ct),x=va(x)}ct=null}else ct=null;B!==null&&py(Q,z,B,ct,!1),gt!==null&&Xt!==null&&py(Q,Xt,gt,ct,!0)}}t:{if(z=L?qn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var rt=xm;else if(ve(z))if(Um)rt=$E;else{rt=YE;var It=KE}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&ao(L.elementType)&&(rt=xm):rt=XE;if(rt&&(rt=rt(e,L))){Ei(Q,rt,r,G);break t}It&&It(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Xi(z,"number",z.value)}switch(It=L?qn(L):window,e){case"focusin":(ve(It)||It.contentEditable==="true")&&(Xs=It,fh=L,yo=null);break;case"focusout":yo=fh=Xs=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Gm(Q,r,G);break;case"selectionchange":if(JE)break;case"keydown":case"keyup":Gm(Q,r,G)}var st;if(Yn)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Mt?q(e,r)&&(dt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(dt="onCompositionStart");dt&&(y&&r.locale!=="ko"&&(Mt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Mt&&(st=lo()):(Gn=G,$i="value"in Gn?Gn.value:Gn.textContent,Mt=!0)),It=qu(L,dt),0<It.length&&(dt=new ho(dt,e,null,r,G),Q.push({event:dt,listeners:It}),st?dt.data=st:(st=W(r),st!==null&&(dt.data=st)))),(st=m?_e(e,r):Pt(e,r))&&(dt=qu(L,"onBeforeInput"),0<dt.length&&(It=new ho("onBeforeInput","beforeinput",null,r,G),Q.push({event:It,listeners:dt}),It.data=st)),PT(Q,e,L,r,G)}my(Q,n)})}function Fo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function qu(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xr(e,r),h!=null&&o.unshift(Fo(e,h,f)),h=Xr(e,n),h!=null&&o.push(Fo(e,h,f))),e.tag===3)return o;e=e.return}return[]}function va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function py(e,n,r,o,h){for(var f=n._reactName,_=[];r!==null&&r!==o;){var E=r,R=E.alternate,L=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||L===null||(R=L,h?(L=Xr(r,f),L!=null&&_.unshift(Fo(r,L,R))):h||(L=Xr(r,f),L!=null&&_.push(Fo(r,L,R)))),r=r.return}_.length!==0&&e.push({event:n,listeners:_})}var LT=/\r\n?/g,zT=/\u0000|\uFFFD/g;function yy(e){return(typeof e=="string"?e:""+e).replace(LT,`
`).replace(zT,"")}function _y(e,n){return n=yy(n),yy(e)===n}function ju(){}function Yt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(e,""+o);break;case"className":jn(e,"class",o);break;case"tabIndex":jn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(e,r,o);break;case"style":so(e,o,f);break;case"data":if(n!=="object"){jn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Bs(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(e,n,"name",h.name,h,null),Yt(e,n,"formEncType",h.formEncType,h,null),Yt(e,n,"formMethod",h.formMethod,h,null),Yt(e,n,"formTarget",h.formTarget,h,null)):(Yt(e,n,"encType",h.encType,h,null),Yt(e,n,"method",h.method,h,null),Yt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Bs(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=ju);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Bs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Yi(e,"popover",o);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Yi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=sh.get(r)||r,Yi(e,r,o))}}function kf(e,n,r,o,h,f){switch(r){case"style":so(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?mn(e,o):(typeof o=="number"||typeof o=="bigint")&&mn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xs.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Yi(e,r,o)}}}function ke(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,f,_,r,null)}}h&&Yt(e,n,"srcSet",r.srcSet,r,null),o&&Yt(e,n,"src",r.src,r,null);return;case"input":Ot("invalid",e);var E=f=_=h=null,R=null,L=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":R=G;break;case"defaultChecked":L=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Yt(e,n,o,G,r,null)}}Qr(e,f,E,R,L,_,h,!1),zs(e);return;case"select":Ot("invalid",e),o=_=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Yt(e,n,h,E,r,null)}n=f,r=_,e.multiple=!!o,n!=null?mi(e,!!o,n,!1):r!=null&&mi(e,!!o,r,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(E=r[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(e,n,_,E,r,null)}Kr(e,o,h,f),zs(e);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,n,R,o,r,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<Go.length;o++)Ot(Go[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(o=r[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,L,o,r,null)}return;default:if(ao(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&kf(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Yt(e,n,E,o,r,null))}function BT(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,R=null,L=null,G=null;for(B in r){var Q=r[B];if(r.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(B)||Yt(e,n,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Q&&Yt(e,n,z,B,o,Q)}}rn(e,_,E,R,L,G,f,h);return;case"select":B=_=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||Yt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==R&&Yt(e,n,h,f,o,R)}n=E,r=_,o=B,z!=null?mi(e,!!r,z,!1):!!o!=!!r&&(n!=null?mi(e,!!r,n,!0):mi(e,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,o,h)}for(_ in o)if(h=o[_],f=r[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Yt(e,n,_,h,o,f)}Qt(e,z,B);return;case"option":for(var gt in r)if(z=r[gt],r.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:Yt(e,n,gt,null,o,z)}for(R in o)if(z=o[R],B=r[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,n,R,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)z=r[ct],r.hasOwnProperty(ct)&&z!=null&&!o.hasOwnProperty(ct)&&Yt(e,n,ct,null,o,z);for(L in o)if(z=o[L],B=r[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Yt(e,n,L,z,o,B)}return;default:if(ao(n)){for(var Xt in r)z=r[Xt],r.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&kf(e,n,Xt,void 0,o,z);for(G in o)z=o[G],B=r[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||kf(e,n,G,z,o,B);return}}for(var x in r)z=r[x],r.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Yt(e,n,x,null,o,z);for(Q in o)z=o[Q],B=r[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Yt(e,n,Q,z,o,B)}var Lf=null,zf=null;function Hu(e){return e.nodeType===9?e:e.ownerDocument}function vy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ey(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Bf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qf=null;function qT(){var e=window.event;return e&&e.type==="popstate"?e===qf?!1:(qf=e,!0):(qf=null,!1)}var Ty=typeof setTimeout=="function"?setTimeout:void 0,jT=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,HT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(e){return Ay.resolve(null).then(e).catch(GT)}:Ty;function GT(e){setTimeout(function(){throw e})}function fr(e){return e==="head"}function Sy(e,n){var r=n,o=0,h=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<o&&8>o){r=o;var _=e.ownerDocument;if(r&1&&Qo(_.documentElement),r&2&&Qo(_.body),r&4)for(r=_.head,Qo(r),_=r.firstChild;_;){var E=_.nextSibling,R=_.nodeName;_[jr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||r.removeChild(_),_=E}}if(h===0){e.removeChild(f),tl(n);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:o=r.charCodeAt(0)-48;else o=0;r=f}while(r);tl(n)}function jf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":jf(r),Ki(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function FT(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[jr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function QT(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Mn(e.nextSibling),e===null))return null;return e}function Hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function KT(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Gf=null;function by(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function Ry(e,n,r){switch(n=Hu(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Qo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ki(e)}var bn=new Map,wy=new Set;function Gu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mi=tt.d;tt.d={f:YT,r:XT,D:$T,C:ZT,L:JT,m:WT,X:eA,S:tA,M:nA};function YT(){var e=Mi.f(),n=xu();return e||n}function XT(e){var n=Bn(e);n!==null&&n.tag===5&&n.type==="form"?Qg(n):Mi.r(e)}var Ea=typeof document>"u"?null:document;function Iy(e,n,r){var o=Ea;if(o&&typeof n=="string"&&n){var h=de(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),wy.has(h)||(wy.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ke(n,"link",e),le(n),o.head.appendChild(n)))}}function $T(e){Mi.D(e),Iy("dns-prefetch",e,null)}function ZT(e,n){Mi.C(e,n),Iy("preconnect",e,n)}function JT(e,n,r){Mi.L(e,n,r);var o=Ea;if(o&&e&&n){var h='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+de(r.imageSizes)+'"]')):h+='[href="'+de(e)+'"]';var f=h;switch(n){case"style":f=Ta(e);break;case"script":f=Aa(e)}bn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),bn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ko(f))||n==="script"&&o.querySelector(Yo(f))||(n=o.createElement("link"),ke(n,"link",e),le(n),o.head.appendChild(n)))}}function WT(e,n){Mi.m(e,n);var r=Ea;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+de(o)+'"][href="'+de(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Aa(e)}if(!bn.has(f)&&(e=A({rel:"modulepreload",href:e},n),bn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Yo(f)))return}o=r.createElement("link"),ke(o,"link",e),le(o),r.head.appendChild(o)}}}function tA(e,n,r){Mi.S(e,n,r);var o=Ea;if(o&&e){var h=Ye(o).hoistableStyles,f=Ta(e);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Ko(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=bn.get(f))&&Ff(e,r);var R=_=o.createElement("link");le(R),ke(R,"link",e),R._p=new Promise(function(L,G){R.onload=L,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Fu(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function eA(e,n){Mi.X(e,n);var r=Ea;if(r&&e){var o=Ye(r).hoistableScripts,h=Aa(e),f=o.get(h);f||(f=r.querySelector(Yo(h)),f||(e=A({src:e,async:!0},n),(n=bn.get(h))&&Qf(e,n),f=r.createElement("script"),le(f),ke(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function nA(e,n){Mi.M(e,n);var r=Ea;if(r&&e){var o=Ye(r).hoistableScripts,h=Aa(e),f=o.get(h);f||(f=r.querySelector(Yo(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=bn.get(h))&&Qf(e,n),f=r.createElement("script"),le(f),ke(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Cy(e,n,r,o){var h=(h=_t.current)?Gu(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ta(r.href),r=Ye(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ta(r.href);var f=Ye(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Ko(e)))&&!f._p&&(_.instance=f,_.state.loading=5),bn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bn.set(e,r),f||iA(h,e,r,_.state))),n&&o===null)throw Error(a(528,""));return _}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Aa(r),r=Ye(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ta(e){return'href="'+de(e)+'"'}function Ko(e){return'link[rel="stylesheet"]['+e+"]"}function Dy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function iA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ke(n,"link",r),le(n),e.head.appendChild(n))}function Aa(e){return'[src="'+de(e)+'"]'}function Yo(e){return"script[async]"+e}function Oy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+de(r.href)+'"]');if(o)return n.instance=o,le(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),ke(o,"style",h),Fu(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ta(r.href);var f=e.querySelector(Ko(h));if(f)return n.state.loading|=4,n.instance=f,le(f),f;o=Dy(r),(h=bn.get(h))&&Ff(o,h),f=(e.ownerDocument||e).createElement("link"),le(f);var _=f;return _._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),ke(f,"link",o),n.state.loading|=4,Fu(f,r.precedence,e),n.instance=f;case"script":return f=Aa(r.src),(h=e.querySelector(Yo(f)))?(n.instance=h,le(h),h):(o=r,(h=bn.get(f))&&(o=A({},r),Qf(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),ke(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Fu(o,r.precedence,e));return n.instance}function Fu(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Ff(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Qf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Qu=null;function Ny(e,n,r){if(Qu===null){var o=new Map,h=Qu=new Map;h.set(r,o)}else h=Qu,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[jr]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function Vy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function rA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function My(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Xo=null;function sA(){}function aA(e,n,r){if(Xo===null)throw Error(a(475));var o=Xo;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Ta(r.href),f=e.querySelector(Ko(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Ku.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,le(f);return}f=e.ownerDocument||e,r=Dy(r),(h=bn.get(h))&&Ff(r,h),f=f.createElement("link"),le(f);var _=f;_._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),ke(f,"link",r),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Ku.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function oA(){if(Xo===null)throw Error(a(475));var e=Xo;return e.stylesheets&&e.count===0&&Kf(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Kf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Ku(){if(this.count--,this.count===0){if(this.stylesheets)Kf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yu=null;function Kf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yu=new Map,n.forEach(lA,e),Yu=null,Ku.call(e))}function lA(e,n){if(!(n.state.loading&4)){var r=Yu.get(e);if(r)var o=r.get(null);else{r=new Map,Yu.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=r.get(_)||o,f===o&&r.set(null,h),r.set(_,h),this.count++,o=Ku.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var $o={$$typeof:at,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function uA(e,n,r,o,h,f,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Py(e,n,r,o,h,f,_,E,R,L,G,Q){return e=new uA(e,n,r,_,E,R,L,Q),n=1,f===!0&&(n|=24),f=an(3,null,null,n),e.current=f,f.stateNode=e,n=Ih(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Nh(f),e}function xy(e){return e?(e=Ws,e):Ws}function Uy(e,n,r,o,h,f){h=xy(h),o.context===null?o.context=h:o.pendingContext=h,o=Wi(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=tr(e,o,n),r!==null&&(hn(r,e,n),wo(r,e,n))}function ky(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Yf(e,n){ky(e,n),(e=e.alternate)&&ky(e,n)}function Ly(e){if(e.tag===13){var n=Js(e,67108864);n!==null&&hn(n,e,67108864),Yf(e,67108864)}}var Xu=!0;function cA(e,n,r,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=2,Xf(e,n,r,o)}finally{tt.p=f,H.T=h}}function hA(e,n,r,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=8,Xf(e,n,r,o)}finally{tt.p=f,H.T=h}}function Xf(e,n,r,o){if(Xu){var h=$f(o);if(h===null)Uf(e,n,o,$u,r),By(e,o);else if(dA(h,e,n,r,o))o.stopPropagation();else if(By(e,o),n&4&&-1<fA.indexOf(e)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Cn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var R=1<<31-qe(_);E.entanglements[1]|=R,_&=~R}ti(f),(Ht&6)===0&&(Mu=fn()+500,Ho(0))}}break;case 13:E=Js(f,2),E!==null&&hn(E,f,2),xu(),Yf(f,2)}if(f=$f(o),f===null&&Uf(e,n,o,$u,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Uf(e,n,o,null,r)}}function $f(e){return e=gn(e),Zf(e)}var $u=null;function Zf(e){if($u=null,e=hi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return $u=e,null}function zy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wc()){case Ka:return 2;case Ns:return 8;case kr:case th:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var Jf=!1,dr=null,mr=null,gr=null,Zo=new Map,Jo=new Map,pr=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function By(e,n){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Zo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(n.pointerId)}}function Wo(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&Ly(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function dA(e,n,r,o,h){switch(n){case"focusin":return dr=Wo(dr,e,n,r,o,h),!0;case"dragenter":return mr=Wo(mr,e,n,r,o,h),!0;case"mouseover":return gr=Wo(gr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Zo.set(f,Wo(Zo.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Jo.set(f,Wo(Jo.get(f)||null,e,n,r,o,h)),!0}return!1}function qy(e){var n=hi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,xl(e.priority,function(){if(r.tag===13){var o=cn();o=Gi(o);var h=Js(r,o);h!==null&&hn(h,r,o),Yf(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=$f(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);gi=o,r.target.dispatchEvent(o),gi=null}else return n=Bn(r),n!==null&&Ly(n),e.blockedOn=r,!1;n.shift()}return!0}function jy(e,n,r){Zu(e)&&r.delete(n)}function mA(){Jf=!1,dr!==null&&Zu(dr)&&(dr=null),mr!==null&&Zu(mr)&&(mr=null),gr!==null&&Zu(gr)&&(gr=null),Zo.forEach(jy),Jo.forEach(jy)}function Ju(e,n){e.blockedOn===n&&(e.blockedOn=null,Jf||(Jf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,mA)))}var Wu=null;function Hy(e){Wu!==e&&(Wu=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Wu===e&&(Wu=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Zf(o||r)===null)continue;break}var f=Bn(r);f!==null&&(e.splice(n,3),n-=3,$h(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function tl(e){function n(R){return Ju(R,e)}dr!==null&&Ju(dr,e),mr!==null&&Ju(mr,e),gr!==null&&Ju(gr,e),Zo.forEach(n),Jo.forEach(n);for(var r=0;r<pr.length;r++){var o=pr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)qy(r),r.blockedOn===null&&pr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],_=h[fe]||null;if(typeof f=="function")_||Hy(r);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[fe]||null)E=_.formAction;else if(Zf(h)!==null)continue}else E=_.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),Hy(r)}}}function Wf(e){this._internalRoot=e}tc.prototype.render=Wf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=cn();Uy(r,o,e,n,null,null)},tc.prototype.unmount=Wf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Uy(e.current,2,null,e,null,null),xu(),n[dn]=null}};function tc(e){this._internalRoot=e}tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Fi();e={blockedOn:null,target:e,priority:n};for(var r=0;r<pr.length&&n!==0&&n<pr[r].priority;r++);pr.splice(r,0,e),r===0&&qy(e)}};var Gy=t.version;if(Gy!=="19.1.0")throw Error(a(527,Gy,"19.1.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var gA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{re=ec.inject(gA),jt=ec}catch{}}return nl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=ap,f=op,_=lp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Py(e,1,!1,null,null,r,o,h,f,_,E,null),e[dn]=n.current,xf(e),new Wf(n)},nl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=ap,_=op,E=lp,R=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),n=Py(e,1,!0,n,r??null,o,h,f,_,E,R,L),n.context=xy(null),r=n.current,o=cn(),o=Gi(o),h=Wi(o),h.callback=null,tr(r,h,o),r=o,n.current.lanes=r,ci(n,r),ti(n),e[dn]=n.current,xf(e),new tc(n)},nl.version="19.1.0",nl}var t_;function RA(){if(t_)return nd.exports;t_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),nd.exports=bA(),nd.exports}var wA=RA();const IA=()=>{};var e_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},CA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,v=p?s[l+2]:0,A=c>>2,I=(c&3)<<4|g>>4;let N=(g&15)<<2|v>>6,j=v&63;p||(j=64,d||(N=64)),a.push(i[A],i[I],i[N],i[j])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Cv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):CA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const I=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||v==null||I==null)throw new DA;const N=c<<2|g>>4;if(a.push(N),v!==64){const j=g<<4&240|v>>2;if(a.push(j),I!==64){const $=v<<6&192|I;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class DA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OA=function(s){const t=Cv(s);return Dv.encodeByteArray(t,!0)},yc=function(s){return OA(s).replace(/\./g,"")},Ov=function(s){try{return Dv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=()=>NA().__FIREBASE_DEFAULTS__,MA=()=>{if(typeof process>"u"||typeof e_>"u")return;const s=e_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},PA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Ov(s[1]);return t&&JSON.parse(t)},kc=()=>{try{return IA()||VA()||MA()||PA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Nv=s=>{var t,i;return(i=(t=kc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[s]},xA=s=>{const t=Nv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Vv=()=>{var s;return(s=kc())===null||s===void 0?void 0:s.config},Mv=s=>{var t;return(t=kc())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(s){return s.endsWith(".cloudworkstations.dev")}async function Pv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[yc(JSON.stringify(i)),yc(JSON.stringify(d)),""].join(".")}const al={};function LA(){const s={prod:[],emulator:[]};for(const t of Object.keys(al))al[t]?s.emulator.push(t):s.prod.push(t);return s}function zA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let n_=!1;function xv(s,t){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||al[s]===t||al[s]||n_)return;al[s]=t;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=LA().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,j){N.setAttribute("width","24"),N.setAttribute("id",j),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{n_=!0,d()},N}function A(N,j){N.setAttribute("id",j),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function I(){const N=zA(a),j=i("text"),$=document.getElementById(j)||document.createElement("span"),nt=i("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),Tt=i("preprendIcon"),ut=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const at=N.element;g(at),A(Z,nt);const Rt=v();p(ut,Tt),at.append(ut,$,Z,Rt),document.body.appendChild(at)}c?($.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function qA(){var s;const t=(s=kc())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function GA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FA(){const s=Ke();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function QA(){return!qA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KA(){try{return typeof indexedDB=="object"}catch{return!1}}function YA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="FirebaseError";class ji extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=XA,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?$A(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ji(l,g,a)}}function $A(s,t){return s.replace(ZA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const ZA=/\{\$([^}]+)}/g;function JA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function As(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(i_(c)&&i_(d)){if(!As(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function i_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function WA(s,t){const i=new tS(s,t);return i.subscribe.bind(i)}class tS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");eS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=ad),l.error===void 0&&(l.error=ad),l.complete===void 0&&(l.complete=ad);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function ad(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(s){return s&&s._delegate?s._delegate:s}class Ss{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new UA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rS(t))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=_s){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_s){return this.instances.has(t)}getOptions(t=_s){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:iS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=_s){return this.component?this.component.multipleInstances?t:_s:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iS(s){return s===_s?void 0:s}function rS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new nS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const aS={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},oS=Nt.INFO,lS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},uS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=lS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Hd{constructor(t){this.name=t,this._logLevel=oS,this._logHandler=uS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const cS=(s,t)=>t.some(i=>s instanceof i);let r_,s_;function hS(){return r_||(r_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fS(){return s_||(s_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,_d=new WeakMap,kv=new WeakMap,od=new WeakMap,Gd=new WeakMap;function dS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Sr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Uv.set(i,s)}).catch(()=>{}),Gd.set(t,s),t}function mS(s){if(_d.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});_d.set(s,t)}let vd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return _d.get(s);if(t==="objectStoreNames")return s.objectStoreNames||kv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Sr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function gS(s){vd=s(vd)}function pS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(ld(this),t,...i);return kv.set(a,t.sort?t.sort():[t]),Sr(a)}:fS().includes(s)?function(...t){return s.apply(ld(this),t),Sr(Uv.get(this))}:function(...t){return Sr(s.apply(ld(this),t))}}function yS(s){return typeof s=="function"?pS(s):(s instanceof IDBTransaction&&mS(s),cS(s,hS())?new Proxy(s,vd):s)}function Sr(s){if(s instanceof IDBRequest)return dS(s);if(od.has(s))return od.get(s);const t=yS(s);return t!==s&&(od.set(s,t),Gd.set(t,s)),t}const ld=s=>Gd.get(s);function _S(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=Sr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Sr(d.result),p.oldVersion,p.newVersion,Sr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const vS=["get","getKey","getAll","getAllKeys","count"],ES=["put","add","delete","clear"],ud=new Map;function a_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(ud.get(t))return ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=ES.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||vS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return ud.set(t,c),c}gS(s=>({...s,get:(t,i,a)=>a_(t,i)||s.get(t,i,a),has:(t,i)=>!!a_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(AS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function AS(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ed="@firebase/app",o_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Hd("@firebase/app"),SS="@firebase/app-compat",bS="@firebase/analytics-compat",RS="@firebase/analytics",wS="@firebase/app-check-compat",IS="@firebase/app-check",CS="@firebase/auth",DS="@firebase/auth-compat",OS="@firebase/database",NS="@firebase/data-connect",VS="@firebase/database-compat",MS="@firebase/functions",PS="@firebase/functions-compat",xS="@firebase/installations",US="@firebase/installations-compat",kS="@firebase/messaging",LS="@firebase/messaging-compat",zS="@firebase/performance",BS="@firebase/performance-compat",qS="@firebase/remote-config",jS="@firebase/remote-config-compat",HS="@firebase/storage",GS="@firebase/storage-compat",FS="@firebase/firestore",QS="@firebase/ai",KS="@firebase/firestore-compat",YS="firebase",XS="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]",$S={[Ed]:"fire-core",[SS]:"fire-core-compat",[RS]:"fire-analytics",[bS]:"fire-analytics-compat",[IS]:"fire-app-check",[wS]:"fire-app-check-compat",[CS]:"fire-auth",[DS]:"fire-auth-compat",[OS]:"fire-rtdb",[NS]:"fire-data-connect",[VS]:"fire-rtdb-compat",[MS]:"fire-fn",[PS]:"fire-fn-compat",[xS]:"fire-iid",[US]:"fire-iid-compat",[kS]:"fire-fcm",[LS]:"fire-fcm-compat",[zS]:"fire-perf",[BS]:"fire-perf-compat",[qS]:"fire-rc",[jS]:"fire-rc-compat",[HS]:"fire-gcs",[GS]:"fire-gcs-compat",[FS]:"fire-fst",[KS]:"fire-fst-compat",[QS]:"fire-vertex","fire-js":"fire-js",[YS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,ZS=new Map,Ad=new Map;function l_(s,t){try{s.container.addComponent(t)}catch(i){Li.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Na(s){const t=s.name;if(Ad.has(t))return Li.debug(`There were multiple attempts to register component ${t}.`),!1;Ad.set(t,s);for(const i of _c.values())l_(i,s);for(const i of ZS.values())l_(i,s);return!0}function Fd(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Pn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Sl("app","Firebase",JS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=XS;function Lv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Td,automaticDataCollectionEnabled:!0},t),l=a.name;if(typeof l!="string"||!l)throw br.create("bad-app-name",{appName:String(l)});if(i||(i=Vv()),!i)throw br.create("no-options");const c=_c.get(l);if(c){if(As(i,c.options)&&As(a,c.config))return c;throw br.create("duplicate-app",{appName:l})}const d=new sS(l);for(const p of Ad.values())d.addComponent(p);const g=new WS(i,a,d);return _c.set(l,g),g}function zv(s=Td){const t=_c.get(s);if(!t&&s===Td&&Vv())return Lv();if(!t)throw br.create("no-app",{appName:s});return t}function Rr(s,t,i){var a;let l=(a=$S[s])!==null&&a!==void 0?a:s;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Li.warn(g.join(" "));return}Na(new Ss(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firebase-heartbeat-database",e1=1,fl="firebase-heartbeat-store";let cd=null;function Bv(){return cd||(cd=_S(t1,e1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(fl)}catch(i){console.warn(i)}}}}).catch(s=>{throw br.create("idb-open",{originalErrorMessage:s.message})})),cd}async function n1(s){try{const i=(await Bv()).transaction(fl),a=await i.objectStore(fl).get(qv(s));return await i.done,a}catch(t){if(t instanceof ji)Li.warn(t.message);else{const i=br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Li.warn(i.message)}}}async function u_(s,t){try{const a=(await Bv()).transaction(fl,"readwrite");await a.objectStore(fl).put(t,qv(s)),await a.done}catch(i){if(i instanceof ji)Li.warn(i.message);else{const a=br.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Li.warn(a.message)}}}function qv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=1024,r1=30;class s1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new o1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=c_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>r1){const d=l1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Li.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=c_(),{heartbeatsToSend:a,unsentEntries:l}=a1(this._heartbeatsCache.heartbeats),c=yc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Li.warn(i),""}}}function c_(){return new Date().toISOString().substring(0,10)}function a1(s,t=i1){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),h_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),h_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class o1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KA()?YA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await n1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return u_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return u_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function h_(s){return yc(JSON.stringify({version:2,heartbeats:s})).length}function l1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(s){Na(new Ss("platform-logger",t=>new TS(t),"PRIVATE")),Na(new Ss("heartbeat",t=>new s1(t),"PRIVATE")),Rr(Ed,o_,s),Rr(Ed,o_,"esm2017"),Rr("fire-js","")}u1("");var c1="firebase",h1="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(c1,h1,"app");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wr,jv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,S){function b(){}b.prototype=S.prototype,V.D=S.prototype,V.prototype=new b,V.prototype.constructor=V,V.C=function(D,M,P){for(var w=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)w[Ve-2]=arguments[Ve];return S.prototype[M].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,S,b){b||(b=0);var D=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)D[M]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(M=0;16>M;++M)D[M]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=V.g[0],b=V.g[1],M=V.g[2];var P=V.g[3],w=S+(P^b&(M^P))+D[0]+3614090360&4294967295;S=b+(w<<7&4294967295|w>>>25),w=P+(M^S&(b^M))+D[1]+3905402710&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(b^P&(S^b))+D[2]+606105819&4294967295,M=P+(w<<17&4294967295|w>>>15),w=b+(S^M&(P^S))+D[3]+3250441966&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(P^b&(M^P))+D[4]+4118548399&4294967295,S=b+(w<<7&4294967295|w>>>25),w=P+(M^S&(b^M))+D[5]+1200080426&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(b^P&(S^b))+D[6]+2821735955&4294967295,M=P+(w<<17&4294967295|w>>>15),w=b+(S^M&(P^S))+D[7]+4249261313&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(P^b&(M^P))+D[8]+1770035416&4294967295,S=b+(w<<7&4294967295|w>>>25),w=P+(M^S&(b^M))+D[9]+2336552879&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(b^P&(S^b))+D[10]+4294925233&4294967295,M=P+(w<<17&4294967295|w>>>15),w=b+(S^M&(P^S))+D[11]+2304563134&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(P^b&(M^P))+D[12]+1804603682&4294967295,S=b+(w<<7&4294967295|w>>>25),w=P+(M^S&(b^M))+D[13]+4254626195&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(b^P&(S^b))+D[14]+2792965006&4294967295,M=P+(w<<17&4294967295|w>>>15),w=b+(S^M&(P^S))+D[15]+1236535329&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(M^P&(b^M))+D[1]+4129170786&4294967295,S=b+(w<<5&4294967295|w>>>27),w=P+(b^M&(S^b))+D[6]+3225465664&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(P^S))+D[11]+643717713&4294967295,M=P+(w<<14&4294967295|w>>>18),w=b+(P^S&(M^P))+D[0]+3921069994&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^P&(b^M))+D[5]+3593408605&4294967295,S=b+(w<<5&4294967295|w>>>27),w=P+(b^M&(S^b))+D[10]+38016083&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(P^S))+D[15]+3634488961&4294967295,M=P+(w<<14&4294967295|w>>>18),w=b+(P^S&(M^P))+D[4]+3889429448&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^P&(b^M))+D[9]+568446438&4294967295,S=b+(w<<5&4294967295|w>>>27),w=P+(b^M&(S^b))+D[14]+3275163606&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(P^S))+D[3]+4107603335&4294967295,M=P+(w<<14&4294967295|w>>>18),w=b+(P^S&(M^P))+D[8]+1163531501&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^P&(b^M))+D[13]+2850285829&4294967295,S=b+(w<<5&4294967295|w>>>27),w=P+(b^M&(S^b))+D[2]+4243563512&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(P^S))+D[7]+1735328473&4294967295,M=P+(w<<14&4294967295|w>>>18),w=b+(P^S&(M^P))+D[12]+2368359562&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(b^M^P)+D[5]+4294588738&4294967295,S=b+(w<<4&4294967295|w>>>28),w=P+(S^b^M)+D[8]+2272392833&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^b)+D[11]+1839030562&4294967295,M=P+(w<<16&4294967295|w>>>16),w=b+(M^P^S)+D[14]+4259657740&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^P)+D[1]+2763975236&4294967295,S=b+(w<<4&4294967295|w>>>28),w=P+(S^b^M)+D[4]+1272893353&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^b)+D[7]+4139469664&4294967295,M=P+(w<<16&4294967295|w>>>16),w=b+(M^P^S)+D[10]+3200236656&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^P)+D[13]+681279174&4294967295,S=b+(w<<4&4294967295|w>>>28),w=P+(S^b^M)+D[0]+3936430074&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^b)+D[3]+3572445317&4294967295,M=P+(w<<16&4294967295|w>>>16),w=b+(M^P^S)+D[6]+76029189&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^P)+D[9]+3654602809&4294967295,S=b+(w<<4&4294967295|w>>>28),w=P+(S^b^M)+D[12]+3873151461&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^b)+D[15]+530742520&4294967295,M=P+(w<<16&4294967295|w>>>16),w=b+(M^P^S)+D[2]+3299628645&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(M^(b|~P))+D[0]+4096336452&4294967295,S=b+(w<<6&4294967295|w>>>26),w=P+(b^(S|~M))+D[7]+1126891415&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~b))+D[14]+2878612391&4294967295,M=P+(w<<15&4294967295|w>>>17),w=b+(P^(M|~S))+D[5]+4237533241&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~P))+D[12]+1700485571&4294967295,S=b+(w<<6&4294967295|w>>>26),w=P+(b^(S|~M))+D[3]+2399980690&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~b))+D[10]+4293915773&4294967295,M=P+(w<<15&4294967295|w>>>17),w=b+(P^(M|~S))+D[1]+2240044497&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~P))+D[8]+1873313359&4294967295,S=b+(w<<6&4294967295|w>>>26),w=P+(b^(S|~M))+D[15]+4264355552&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~b))+D[6]+2734768916&4294967295,M=P+(w<<15&4294967295|w>>>17),w=b+(P^(M|~S))+D[13]+1309151649&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~P))+D[4]+4149444226&4294967295,S=b+(w<<6&4294967295|w>>>26),w=P+(b^(S|~M))+D[11]+3174756917&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~b))+D[2]+718787259&4294967295,M=P+(w<<15&4294967295|w>>>17),w=b+(P^(M|~S))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+P&4294967295}a.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var b=S-this.blockSize,D=this.B,M=this.h,P=0;P<S;){if(M==0)for(;P<=b;)l(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<S;)if(D[M++]=V.charCodeAt(P++),M==this.blockSize){l(this,D),M=0;break}}else for(;P<S;)if(D[M++]=V[P++],M==this.blockSize){l(this,D),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var b=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=b&255,b/=256;for(this.u(V),V=Array(16),S=b=0;4>S;++S)for(var D=0;32>D;D+=8)V[b++]=this.g[S]>>>D&255;return V};function c(V,S){var b=g;return Object.prototype.hasOwnProperty.call(b,V)?b[V]:b[V]=S(V)}function d(V,S){this.h=S;for(var b=[],D=!0,M=V.length-1;0<=M;M--){var P=V[M]|0;D&&P==S||(b[M]=P,D=!1)}this.g=b}var g={};function p(V){return-128<=V&&128>V?c(V,function(S){return new d([S|0],0>S?-1:0)}):new d([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return I;if(0>V)return Z(v(-V));for(var S=[],b=1,D=0;V>=b;D++)S[D]=V/b|0,b*=4294967296;return new d(S,0)}function A(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return Z(A(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=v(Math.pow(S,8)),D=I,M=0;M<V.length;M+=8){var P=Math.min(8,V.length-M),w=parseInt(V.substring(M,M+P),S);8>P?(P=v(Math.pow(S,P)),D=D.j(P).add(v(w))):(D=D.j(b),D=D.add(v(w)))}return D}var I=p(0),N=p(1),j=p(16777216);s=d.prototype,s.m=function(){if(nt(this))return-Z(this).m();for(var V=0,S=1,b=0;b<this.g.length;b++){var D=this.i(b);V+=(0<=D?D:4294967296+D)*S,S*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if($(this))return"0";if(nt(this))return"-"+Z(this).toString(V);for(var S=v(Math.pow(V,6)),b=this,D="";;){var M=Rt(b,S).g;b=Tt(b,M.j(S));var P=((0<b.g.length?b.g[0]:b.h)>>>0).toString(V);if(b=M,$(b))return P+D;for(;6>P.length;)P="0"+P;D=P+D}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function $(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function nt(V){return V.h==-1}s.l=function(V){return V=Tt(this,V),nt(V)?-1:$(V)?0:1};function Z(V){for(var S=V.g.length,b=[],D=0;D<S;D++)b[D]=~V.g[D];return new d(b,~V.h).add(N)}s.abs=function(){return nt(this)?Z(this):this},s.add=function(V){for(var S=Math.max(this.g.length,V.g.length),b=[],D=0,M=0;M<=S;M++){var P=D+(this.i(M)&65535)+(V.i(M)&65535),w=(P>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);D=w>>>16,P&=65535,w&=65535,b[M]=w<<16|P}return new d(b,b[b.length-1]&-2147483648?-1:0)};function Tt(V,S){return V.add(Z(S))}s.j=function(V){if($(this)||$(V))return I;if(nt(this))return nt(V)?Z(this).j(Z(V)):Z(Z(this).j(V));if(nt(V))return Z(this.j(Z(V)));if(0>this.l(j)&&0>V.l(j))return v(this.m()*V.m());for(var S=this.g.length+V.g.length,b=[],D=0;D<2*S;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<V.g.length;M++){var P=this.i(D)>>>16,w=this.i(D)&65535,Ve=V.i(M)>>>16,ie=V.i(M)&65535;b[2*D+2*M]+=w*ie,ut(b,2*D+2*M),b[2*D+2*M+1]+=P*ie,ut(b,2*D+2*M+1),b[2*D+2*M+1]+=w*Ve,ut(b,2*D+2*M+1),b[2*D+2*M+2]+=P*Ve,ut(b,2*D+2*M+2)}for(D=0;D<S;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=S;D<2*S;D++)b[D]=0;return new d(b,0)};function ut(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function at(V,S){this.g=V,this.h=S}function Rt(V,S){if($(S))throw Error("division by zero");if($(V))return new at(I,I);if(nt(V))return S=Rt(Z(V),S),new at(Z(S.g),Z(S.h));if(nt(S))return S=Rt(V,Z(S)),new at(Z(S.g),S.h);if(30<V.g.length){if(nt(V)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var b=N,D=S;0>=D.l(V);)b=mt(b),D=mt(D);var M=Ct(b,1),P=Ct(D,1);for(D=Ct(D,2),b=Ct(b,2);!$(D);){var w=P.add(D);0>=w.l(V)&&(M=M.add(b),P=w),D=Ct(D,1),b=Ct(b,1)}return S=Tt(V,M.j(S)),new at(M,S)}for(M=I;0<=V.l(S);){for(b=Math.max(1,Math.floor(V.m()/S.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),P=v(b),w=P.j(S);nt(w)||0<w.l(V);)b-=D,P=v(b),w=P.j(S);$(P)&&(P=N),M=M.add(P),V=Tt(V,w)}return new at(M,V)}s.A=function(V){return Rt(this,V).h},s.and=function(V){for(var S=Math.max(this.g.length,V.g.length),b=[],D=0;D<S;D++)b[D]=this.i(D)&V.i(D);return new d(b,this.h&V.h)},s.or=function(V){for(var S=Math.max(this.g.length,V.g.length),b=[],D=0;D<S;D++)b[D]=this.i(D)|V.i(D);return new d(b,this.h|V.h)},s.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),b=[],D=0;D<S;D++)b[D]=this.i(D)^V.i(D);return new d(b,this.h^V.h)};function mt(V){for(var S=V.g.length+1,b=[],D=0;D<S;D++)b[D]=V.i(D)<<1|V.i(D-1)>>>31;return new d(b,V.h)}function Ct(V,S){var b=S>>5;S%=32;for(var D=V.g.length-b,M=[],P=0;P<D;P++)M[P]=0<S?V.i(P+b)>>>S|V.i(P+b+1)<<32-S:V.i(P+b);return new d(M,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,jv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,wr=d}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hv,il,Gv,lc,Sd,Fv,Qv,Kv;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nc=="object"&&nc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,U={next:function(){if(!T&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function I(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function N(u,m,y){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,N.apply(null,arguments)}function j(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,U,q){for(var W=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)W[Mt-2]=arguments[Mt];return m.prototype[U].apply(T,W)}}function nt(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const U=u.length||0,q=T.length||0;u.length=U+q;for(let W=0;W<q;W++)u[U+W]=T[W]}else u.push(T)}}class Tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ut(u){return/^[\s\xa0]*$/.test(u)}function at(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Rt(u){return Rt[" "](u),u}Rt[" "]=function(){};var mt=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function Ct(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function V(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let q=0;q<b.length;q++)y=b[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ve{constructor(){this.h=this.g=null}add(m,y){const T=ie.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new Tt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ot=!1,Lt=new Ve,C=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(y){P(y)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function wt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(mt){t:{try{Rt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}$(wt,J);var _t={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Hi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function li(u){this.src=u,this.g={},this.h=0}li.prototype.add=function(u,m,y,T,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=xr(u,m,T,U);return-1<W?(m=u[W],y||(m.fa=!1)):(m=new Ln(m,this.src,q,!!T,U),m.fa=y,u.push(m)),m};function Pr(u,m){var y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(Hi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function xr(u,m,y,T){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return U}return-1}var Ur="closure_lm_"+(1e6*Math.random()|0),Qa={};function Vl(u,m,y,T,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Vl(u,m[q],y,T,U);return null}return y=Ml(y),u&&u[Re]?u.K(m,y,v(T)?!!T.capture:!1,U):fn(u,m,y,!1,T,U)}function fn(u,m,y,T,U,q){if(!m)throw Error("Invalid event type");var W=v(U)?!!U.capture:!!U,Mt=Vs(u);if(Mt||(u[Ur]=Mt=new li(u)),y=Mt.add(m,y,T,W,q),y.proxy)return y;if(T=Wc(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)lt||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(kr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Wc(){function u(y){return m.call(u.src,u.listener,y)}const m=th;return u}function Ka(u,m,y,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ka(u,m[q],y,T,U);else T=v(T)?!!T.capture:!!T,y=Ml(y),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=xr(q,y,T,U),-1<y&&(Hi(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Vs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xr(m,y,T,U)),(y=-1<u?m[u]:null)&&Ns(y))}function Ns(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Pr(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(kr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Vs(m))?(Pr(y,u),y.h==0&&(y.src=null,m[Ur]=null)):Hi(u)}}}function kr(u){return u in Qa?Qa[u]:Qa[u]="on"+u}function th(u,m){if(u.da)u=!0;else{m=new wt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Ns(u),u=y.call(T,m)}return u}function Vs(u){return u=u[Ur],u instanceof li?u:null}var Ya="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ml(u){return typeof u=="function"?u:(u[Ya]||(u[Ya]=function(m){return u.handleEvent(m)}),u[Ya])}function re(){et.call(this),this.i=new li(this),this.M=this,this.F=null}$(re,et),re.prototype[Re]=!0,re.prototype.removeEventListener=function(u,m,y,T){Ka(this,u,m,y,T)};function jt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var U=m;m=new J(T,u),D(m,U)}if(U=!0,y)for(var q=y.length-1;0<=q;q--){var W=m.g=y[q];U=nn(W,T,!0,m)&&U}if(W=m.g=u,U=nn(W,T,!0,m)&&U,U=nn(W,T,!1,m)&&U,y)for(q=0;q<y.length;q++)W=m.g=y[q],U=nn(W,T,!1,m)&&U}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Hi(y[T]);delete u.g[m],u.h--}}this.F=null},re.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},re.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function nn(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==y){var Mt=W.listener,_e=W.ha||W.src;W.fa&&Pr(u.i,W),U=Mt.call(_e,T)!==!1&&U}}return U&&!T.defaultPrevented}function qe(u,m,y){if(typeof u=="function")y&&(u=N(u,y));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Pl(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,Pl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class eh extends et{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Pl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(u){et.call(this),this.h=u,this.g={}}$(Lr,et);var zr=[];function Br(u){Ct(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ns(m)},u),u.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),Br(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,Ms=g.JSON.parse,qr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Xa(){}Xa.prototype.h=null;function $a(u){return u.h||(u.h=u.i())}function Za(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ci(){J.call(this,"d")}$(ci,J);function Ja(){J.call(this,"c")}$(Ja,J);var zn={},Wa=null;function Gi(){return Wa=Wa||new re}zn.La="serverreachability";function Ps(u){J.call(this,zn.La,u)}$(Ps,J);function Fi(u){const m=Gi();jt(m,new Ps(m))}zn.STAT_EVENT="statevent";function xl(u,m){J.call(this,zn.STAT_EVENT,u),this.stat=m}$(xl,J);function Wt(u){const m=Gi();jt(m,new xl(m,u))}zn.Ma="timingevent";function ye(u,m){J.call(this,zn.Ma,u),this.size=m}$(ye,J);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function to(u,m,y,T,U,q){u.info(function(){if(u.g)if(q)for(var W="",Mt=q.split("&"),_e=0;_e<Mt.length;_e++){var Pt=Mt[_e].split("=");if(1<Pt.length){var Ie=Pt[0];Pt=Pt[1];var ve=Ie.split("_");W=2<=ve.length&&ve[1]=="type"?W+(Ie+"="+Pt+"&"):W+(Ie+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+W})}function nh(u,m,y,T,U,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+q+" "+W})}function Qi(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jr(u,y)+(T?" "+T:"")})}function Ul(u,m){u.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function jr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<U.length;W++)U[W]=""}}}}return Cn(y)}catch{return m}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function qn(){}$(qn,Xa),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},Bn=new qn;function Ye(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var eo={},xs={};function Dn(u,m,y){u.L=1,u.v=Kr(rn(m)),u.m=y,u.P=!0,fi(u,null)}function fi(u,m){u.F=Date.now(),Hr(u),u.A=rn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),oo(y.i,"t",T),u.C=0,y=u.j.J,u.h=new le,u.g=Jl(u.j,y?m:null,!u.m),0<u.O&&(u.M=new eh(N(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(zr[0]=U.toString()),U=zr);for(var q=0;q<U.length;q++){var W=Vl(y,U[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fi(),to(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&yn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const ve=yn(this.g);var m=this.g.Ba();const Ei=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||Gl(this.g)))){this.J||ve!=4||m==7||(m==8||0>=Ei?Fi(3):Fi(2)),Yi(this);var y=this.g.Z();this.X=y;e:if(kl(this)){var T=Gl(this.g);u="";var U=T.length,q=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),jn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,nh(this.i,this.u,this.A,this.l,this.R,ve,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,_e=this.g;if((Mt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Mt)){var Pt=Mt;break e}}Pt=null}if(y=Pt)Qi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gr(this,y);else{this.o=!1,this.s=3,Wt(12),Me(this),jn(this);break t}}if(this.P){y=!0;let Pe;for(;!this.J&&this.C<W.length;)if(Pe=Ll(this,W),Pe==xs){ve==4&&(this.s=4,Wt(14),y=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==eo){this.s=4,Wt(15),Qi(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else Qi(this.i,this.l,Pe,null),Gr(this,Pe);if(kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),y=!1),this.o=this.o&&y,!y)Qi(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),jn(this);else if(0<W.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),es(Ie),Ie.M=!0,Wt(11))}}else Qi(this.i,this.l,W,null),Gr(this,W);ve==4&&Me(this),this.o&&!this.J&&(ve==4?Xl(this.j,this):(this.o=!1,Hr(this)))}else oh(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Me(this),jn(this)}}}catch{}finally{}};function kl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ll(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?xs:(y=Number(m.substring(y,T)),isNaN(y)?eo:(T+=1,T+y>m.length?xs:(m=m.slice(T,T+y),u.C=T+y,m)))}Ye.prototype.cancel=function(){this.J=!0,Me(this)};function Hr(u){u.S=Date.now()+u.I,zl(u,u.I)}function zl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(N(u.ba,u),m)}function Yi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ul(this.i,this.A),this.L!=2&&(Fi(),Wt(17)),Me(this),this.s=2,jn(this)):zl(this,this.S-u)};function jn(u){u.j.G==0||u.J||Xl(u.j,u)}function Me(u){Yi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Br(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Gr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||no(y.h,u))){if(!u.K&&no(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Ks(y),Fs(y);else break t;fo(y),Wt(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=fe(N(y.Za,y),6e3));if(1>=ks(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else vi(y,11)}else if((u.K||y.g==u)&&Ks(y),!ut(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let Pt=U[m];if(y.T=Pt[0],Pt=Pt[1],y.G==2)if(Pt[0]=="c"){y.K=Pt[1],y.ia=Pt[2];const Ie=Pt[3];Ie!=null&&(y.la=Ie,y.j.info("VER="+y.la));const ve=Pt[4];ve!=null&&(y.Aa=ve,y.j.info("SVER="+y.Aa));const Ei=Pt[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(T=1.5*Ei,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Pe=u.g;if(Pe){const Xn=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var q=T.h;q.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ls(q,q.h),q.h=null))}if(T.D){const go=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(T.ya=go,Qt(T.I,T.D,go))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var W=u;if(T.qa=Zl(T,T.J?T.ia:null,T.W),W.K){Xe(T.h,W);var Mt=W,_e=T.L;_e&&(Mt.I=_e),Mt.B&&(Yi(Mt),Hr(Mt)),T.g=W}else Kl(T);0<y.i.length&&Qs(y)}else Pt[0]!="stop"&&Pt[0]!="close"||vi(y,7);else y.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?vi(y,7):co(y):Pt[0]!="noop"&&y.l&&y.l.ta(Pt),y.v=0)}}Fi(4)}catch{}}var Bl=class{constructor(u,m){this.g=u,this.map=m}};function di(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Us(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ks(u){return u.h?1:u.g?u.g.size:0}function no(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ls(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}di.prototype.cancel=function(){if(this.i=io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function io(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return nt(u.i)}function ih(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function zs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function ro(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=zs(u),T=ih(u),U=T.length,q=0;q<U;q++)m.call(void 0,T[q],y&&y[q],u)}var Fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),U=null;if(0<=T){var q=u[y].substring(0,T);U=u[y].substring(T+1)}else q=u[y];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Qr(this,u.j),this.o=u.o,this.g=u.g,Xi(this,u.s),this.l=u.l;var m=u.i,y=new gi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),mi(this,y),this.m=u.m}else u&&(m=String(u).match(Fr))?(this.h=!1,Qr(this,m[1]||"",!0),this.o=mn(m[2]||""),this.g=mn(m[3]||"",!0),Xi(this,m[4]),this.l=mn(m[5]||"",!0),mi(this,m[6]||"",!0),this.m=mn(m[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Yr(m,so,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Yr(m,so,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Yr(y,y.charAt(0)=="/"?sh:ao,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Yr(y,Bs)),u.join("")};function rn(u){return new de(u)}function Qr(u,m,y){u.j=y?mn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Xi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function mi(u,m,y){m instanceof gi?(u.i=m,jl(u.i,u.h)):(y||(m=Yr(m,ah)),u.i=new gi(m,u.h))}function Qt(u,m,y){u.i.set(m,y)}function Kr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,ql),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ql(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var so=/[#\/\?@]/g,ao=/[#\?:]/g,sh=/[#\?]/g,ah=/[#\?@]/g,Bs=/#/g;function gi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&rh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=gi.prototype,s.add=function(u,m){gn(this),this.i=null,u=Hn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function pi(u,m){gn(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return gn(u),m=Hn(u,m),u.g.has(m)}s.forEach=function(u,m){gn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)},s.na=function(){gn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const U=u[T];for(let q=0;q<U.length;q++)y.push(m[T])}return y},s.V=function(u){gn(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},s.set=function(u,m){return gn(this),this.i=null,u=Hn(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function oo(u,m,y){pi(u,m),0<y.length&&(u.i=null,u.g.set(Hn(u,m),nt(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var U=q;W[T]!==""&&(U+="="+encodeURIComponent(String(W[T]))),u.push(U)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function jl(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(y,T){var U=T.toLowerCase();T!=U&&(pi(this,T),oo(this,U,y))},u)),u.j=m}function Xr(u,m){const y=new dn;if(g.Image){const T=new Image;T.onload=j(pn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=j(pn,y,"TestLoadImage: error",!1,m,T),T.onabort=j(pn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(pn,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function On(u,m){const y=new dn,T=new AbortController,U=setTimeout(()=>{T.abort(),pn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?pn(y,"TestPingServer: ok",!0,m):pn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),pn(y,"TestPingServer: error",!1,m)})}function pn(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function $r(){this.g=new qr}function Gn(u,m,y){const T=y||"";try{ro(u,function(U,q){let W=U;v(U)&&(W=Cn(U)),m.push(T+q+"="+encodeURIComponent(W))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function $i(u){this.l=u.Ub||null,this.j=u.eb||!1}$($i,Xa),$i.prototype.g=function(){return new _i(this.l,this.j)},$i.prototype.i=function(u){return function(){return u}}({});function _i(u,m){re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(_i,re),s=_i.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function lo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Qn(this),this.readyState==3&&lo(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},s.Qa=function(u){this.g&&(this.response=u,Fn(this))},s.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function uo(u){let m="";return Ct(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function we(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=uo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qt(u,m,y))}function Bt(u){re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Bt,re);var qs=/^https?$/i,Zr=["POST","PUT"];s=Bt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?$a(this.o):$a(Bn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Hl(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Zr,m,void 0))||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of y)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Hl(this,q)}};function Hl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,js(u),Kn(u)}function js(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Kn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),Bt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Hs(this):this.bb())},s.bb=function(){Hs(this)};function Hs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)qe(u.Ea,0,u);else if(jt(u,"readystatechange"),yn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=W===0){var U=String(u.D).match(Fr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!qs.test(U?U.toLowerCase():"")}y=T}if(y)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<yn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",js(u)}}finally{Kn(u)}}}}function Kn(u,m){if(u.g){Jr(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{y.onreadystatechange=T}catch{}}}function Jr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ms(m)}};function Gl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function oh(u){const m={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ut(u[T]))continue;var y=M(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[U]||[];m[U]=q,q.push(y)}V(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Gs(u){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,u),this.cb=Wr("retryDelaySeedMs",1e4,u),this.Wa=Wr("forwardChannelMaxRetries",2,u),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new di(u&&u.concurrentRequestLimit),this.Da=new $r,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Gs.prototype,s.la=8,s.G=1,s.connect=function(u,m,y,T){Wt(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Zl(this,null,this.W),Qs(this)};function co(u){if(Fl(u),u.G==3){var m=u.U++,y=rn(u.I);if(Qt(y,"SID",u.K),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),ts(u,y),m=new Ye(u,u.j,m),m.L=2,m.v=Kr(rn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=Jl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Hr(m)}$l(u)}function Fs(u){u.g&&(es(u),u.g.cancel(),u.g=null)}function Fl(u){Fs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ks(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Qs(u){if(!Us(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||C(),ot||(tt(),ot=!0),Lt.add(m,u),u.B=0}}function lh(u,m){return ks(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(N(u.Ga,u,m),mo(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ye(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Ql(this,U,m),y=rn(this.I),Qt(y,"RID",u),Qt(y,"CVER",22),this.D&&Qt(y,"X-HTTP-Session-Id",this.D),ts(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(uo(q)))+"&"+m:this.m&&we(y,this.m,q)),Ls(this.h,U),this.Ua&&Qt(y,"TYPE","init"),this.P?(Qt(y,"$req",m),Qt(y,"SID","null"),U.T=!0,Dn(U,y,null)):Dn(U,y,m),this.G=2}}else this.G==3&&(u?ho(this,u):this.i.length==0||Us(this.h)||ho(this))};function ho(u,m){var y;m?y=m.l:y=u.U++;const T=rn(u.I);Qt(T,"SID",u.K),Qt(T,"RID",y),Qt(T,"AID",u.T),ts(u,T),u.m&&u.o&&we(T,u.m,u.o),y=new Ye(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ql(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ls(u.h,y),Dn(y,T,m)}function ts(u,m){u.H&&Ct(u.H,function(y,T){Qt(m,T,y)}),u.l&&ro({},function(y,T){Qt(m,T,y)})}function Ql(u,m,y){y=Math.min(u.i.length,y);var T=u.l?N(u.l.Na,u.l,u):null;t:{var U=u.i;let q=-1;for(;;){const W=["count="+y];q==-1?0<y?(q=U[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Mt=!0;for(let _e=0;_e<y;_e++){let Pt=U[_e].g;const Ie=U[_e].map;if(Pt-=q,0>Pt)q=Math.max(0,U[_e].g-100),Mt=!1;else try{Gn(Ie,W,"req"+Pt+"_")}catch{T&&T(Ie)}}if(Mt){T=W.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function Kl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||C(),ot||(tt(),ot=!0),Lt.add(m,u),u.v=0}}function fo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(N(u.Fa,u),mo(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Yl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(N(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Fs(this),Yl(this))};function es(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Yl(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),ts(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Kr(rn(m)),y.m=null,y.P=!0,fi(y,u)}s.Za=function(){this.C!=null&&(this.C=null,Fs(this),fo(this),Wt(19))};function Ks(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Xl(u,m){var y=null;if(u.g==m){Ks(u),es(u),u.g=null;var T=2}else if(no(u.h,m))y=m.D,Xe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Gi(),jt(T,new ye(T,y)),Qs(u)}else Kl(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&lh(u,m)||T==2&&fo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function mo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var y=N(u.fb,u),T=u.Xa;const U=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Qr(T,"https"),Kr(T),U?Xr(T.toString(),y):On(T.toString(),y)}else Wt(2);u.G=0,u.l&&u.l.sa(m),$l(u),Fl(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function $l(u){if(u.G=0,u.ka=[],u.l){const m=io(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function Zl(u,m,y){var T=y instanceof de?rn(y):new de(y);if(T.g!="")m&&(T.g=m+"."+T.g),Xi(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new de(null);T&&Qr(q,T),m&&(q.g=m),U&&Xi(q,U),y&&(q.l=y),T=q}return y=u.D,m=u.ya,y&&m&&Qt(T,y,m),Qt(T,"VER",u.la),ts(u,T),T}function Jl(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new $i({eb:y})):new Bt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wl(){}s=Wl.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ys(){}Ys.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){re.call(this),this.g=new Gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ut(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ut(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}$($e,re),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){co(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Cn(u),u=y);m.i.push(new Bl(m.Ya++,u)),m.G==3&&Qs(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,co(this.g),delete this.g,$e.aa.N.call(this)};function tu(u){ci.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(tu,ci);function eu(){Ja.call(this),this.status=1}$(eu,Ja);function Yn(u){this.g=u}$(Yn,Wl),Yn.prototype.ua=function(){jt(this.g,"a")},Yn.prototype.ta=function(u){jt(this.g,new tu(u))},Yn.prototype.sa=function(u){jt(this.g,new eu)},Yn.prototype.ra=function(){jt(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Kv=function(){return new Ys},Qv=function(){return Gi()},Fv=zn,Sd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,lc=Ki,hi.COMPLETE="complete",Gv=hi,Za.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",re.prototype.listen=re.prototype.K,il=Za,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,Hv=Bt}).apply(typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{});const d_="@firebase/firestore",m_="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new Hd("@firebase/firestore");function Sa(){return bs.logLevel}function it(s,...t){if(bs.logLevel<=Nt.DEBUG){const i=t.map(Qd);bs.debug(`Firestore (${qa}): ${s}`,...i)}}function zi(s,...t){if(bs.logLevel<=Nt.ERROR){const i=t.map(Qd);bs.error(`Firestore (${qa}): ${s}`,...i)}}function Va(s,...t){if(bs.logLevel<=Nt.WARN){const i=t.map(Qd);bs.warn(`Firestore (${qa}): ${s}`,...i)}}function Qd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Yv(s,a,i)}function Yv(s,t,i){let a=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw zi(a),new Error(a)}function qt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||Yv(t,l,a)}function Et(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends ji{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class f1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class d1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class m1{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ir,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ir)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new Xv(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Fe(t)}}class g1{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p1{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new g1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>a(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new g_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new g_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=_1(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function bt(s,t){return s<t?-1:s>t?1:0}function bd(s,t){let i=0;for(;i<s.length&&i<t.length;){const a=s.codePointAt(i),l=t.codePointAt(i);if(a!==l){if(a<128&&l<128)return bt(a,l);{const c=$v(),d=v1(c.encode(p_(s,i)),c.encode(p_(t,i)));return d!==0?d:bt(a,l)}}i+=a>65535?2:1}return bt(s.length,t.length)}function p_(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function v1(s,t){for(let i=0;i<s.length&&i<t.length;++i)if(s[i]!==t[i])return bt(s[i],t[i]);return bt(s.length,t.length)}function Ma(s,t,i){return s.length===t.length&&s.every((a,l)=>i(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=-62135596800,__=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*__);return new Se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<y_)throw new ht(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/__}_compareTo(t){return this.seconds===t.seconds?bt(this.nanoseconds,t.nanoseconds):bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-y_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new Se(0,0))}static max(){return new vt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="__name__";class ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ei?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return bt(t.length,i.length)}static compareSegments(t,i){const a=ei.isNumericId(t),l=ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ei.extractNumericId(t).compare(ei.extractNumericId(i)):bd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return wr.fromString(t.substring(4,t.length-2))}}class oe extends ei{construct(t,i,a){return new oe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new oe(i)}static emptyPath(){return new oe([])}}const E1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ei{construct(t,i,a){return new ze(t,i,a)}static isValidIdentifier(t){return E1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v_}static keyField(){return new ze([v_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ht(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ht(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ht(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(oe.fromString(t))}static fromName(t){return new ft(oe.fromString(t).popFirst(5))}static empty(){return new ft(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=-1;function T1(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new Cr(l,ft.empty(),t)}function A1(s){return new Cr(s.readTime,s.key,dl)}class Cr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Cr(vt.min(),ft.empty(),dl)}static max(){return new Cr(vt.max(),ft.empty(),dl)}}function S1(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,t.documentKey),i!==0?i:bt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==b1)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):K.reject(i)}static resolve(t){return new K((i,a)=>{i(t)})}static reject(t){return new K((i,a)=>{a(t)})}static waitFor(t){return new K((i,a)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&i()},p=>a(p))}),d=!0,c===l&&i()})}static or(t){let i=K.resolve(!1);for(const a of t)i=i.next(l=>l?K.resolve(l):a());return i}static forEach(t,i){const a=[];return t.forEach((l,c)=>{a.push(i.call(this,l,c))}),this.waitFor(a)}static mapArray(t,i){return new K((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;i(t[v]).next(A=>{d[v]=A,++g,g===c&&a(d)},A=>l(A))}})}static doWhile(t,i){return new K((a,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):a()};c()})}}function w1(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ha(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Lc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=-1;function zc(s){return s==null}function vc(s){return s===0&&1/s==-1/0}function I1(s){return typeof s=="number"&&Number.isInteger(s)&&!vc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="";function C1(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=E_(t)),t=D1(s.get(i),t);return E_(t)}function D1(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case Jv:i+="";break;default:i+=c}}return i}function E_(s){return s+Jv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Is(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function Wv(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t,i){this.comparator=t,this.root=i||Le.EMPTY}insert(t,i){return new ne(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(t){return new ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Le.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ic(this.root,t,this.comparator,!0)}}class ic{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Le{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Le.RED,this.left=l??Le.EMPTY,this.right=c??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Le(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Le.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Le(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.comparator=t,this.data=new ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new A_(this.data.getIterator())}getIteratorFrom(t){return new A_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof be)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new be(this.comparator);return i.data=t,i}}class A_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new xn([])}unionWith(t){let i=new be(ze.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ma(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new t0("Invalid base64 string: "+c):c}}(t);return new Be(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const O1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(s){if(qt(!!s,39018),typeof s=="string"){let t=0;const i=O1.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Or(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="server_timestamp",n0="__type__",i0="__previous_value__",r0="__local_write_time__";function Yd(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[n0])===null||i===void 0?void 0:i.stringValue)===e0}function Bc(s){const t=s.mapValue.fields[i0];return Yd(t)?Bc(t):t}function ml(s){const t=Dr(s.mapValue.fields[r0].timestampValue);return new Se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,i,a,l,c,d,g,p,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=A}}const Ec="(default)";class gl{constructor(t,i){this.projectId=t,this.database=i||Ec}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===Ec}isEqual(t){return t instanceof gl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="__type__",V1="__max__",rc={mapValue:{}},a0="__vector__",Tc="value";function Nr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Yd(s)?4:P1(s)?9007199254740991:M1(s)?10:11:pt(28295,{value:s})}function si(s,t){if(s===t)return!0;const i=Nr(s);if(i!==Nr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return ml(s).isEqual(ml(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Dr(l.timestampValue),g=Dr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(l,c){return Or(l.bytesValue).isEqual(Or(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(l,c){return he(l.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(l.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(s,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return he(l.integerValue)===he(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=he(l.doubleValue),g=he(c.doubleValue);return d===g?vc(d)===vc(g):isNaN(d)&&isNaN(g)}return!1}(s,t);case 9:return Ma(s.arrayValue.values||[],t.arrayValue.values||[],si);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(T_(d)!==T_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!si(d[p],g[p])))return!1;return!0}(s,t);default:return pt(52216,{left:s})}}function pl(s,t){return(s.values||[]).find(i=>si(i,t))!==void 0}function Pa(s,t){if(s===t)return 0;const i=Nr(s),a=Nr(t);if(i!==a)return bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(s.booleanValue,t.booleanValue);case 2:return function(c,d){const g=he(c.integerValue||c.doubleValue),p=he(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(s,t);case 3:return S_(s.timestampValue,t.timestampValue);case 4:return S_(ml(s),ml(t));case 5:return bd(s.stringValue,t.stringValue);case 6:return function(c,d){const g=Or(c),p=Or(d);return g.compareTo(p)}(s.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=bt(g[v],p[v]);if(A!==0)return A}return bt(g.length,p.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,d){const g=bt(he(c.latitude),he(d.latitude));return g!==0?g:bt(he(c.longitude),he(d.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return b_(s.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,v,A;const I=c.fields||{},N=d.fields||{},j=(g=I[Tc])===null||g===void 0?void 0:g.arrayValue,$=(p=N[Tc])===null||p===void 0?void 0:p.arrayValue,nt=bt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((A=$==null?void 0:$.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:b_(j,$)}(s.mapValue,t.mapValue);case 11:return function(c,d){if(c===rc.mapValue&&d===rc.mapValue)return 0;if(c===rc.mapValue)return 1;if(d===rc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let I=0;I<p.length&&I<A.length;++I){const N=bd(p[I],A[I]);if(N!==0)return N;const j=Pa(g[p[I]],v[A[I]]);if(j!==0)return j}return bt(p.length,A.length)}(s.mapValue,t.mapValue);default:throw pt(23264,{Pe:i})}}function S_(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return bt(s,t);const i=Dr(s),a=Dr(t),l=bt(i.seconds,a.seconds);return l!==0?l:bt(i.nanos,a.nanos)}function b_(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Pa(i[l],a[l]);if(c)return c}return bt(i.length,a.length)}function xa(s){return Rd(s)}function Rd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Dr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Or(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ft.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Rd(c);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Rd(i.fields[d])}`;return l+"}"}(s.mapValue):pt(61005,{value:s})}function uc(s){switch(Nr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bc(s);return t?16+uc(t):16;case 5:return 2*s.stringValue.length;case 6:return Or(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+uc(c),0)}(s.arrayValue);case 10:case 11:return function(a){let l=0;return Is(a.fields,(c,d)=>{l+=c.length+uc(d)}),l}(s.mapValue);default:throw pt(13486,{value:s})}}function wd(s){return!!s&&"integerValue"in s}function Xd(s){return!!s&&"arrayValue"in s}function R_(s){return!!s&&"nullValue"in s}function w_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function cc(s){return!!s&&"mapValue"in s}function M1(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[s0])===null||i===void 0?void 0:i.stringValue)===a0}function ol(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Is(s.mapValue.fields,(i,a)=>t.mapValue.fields[i]=ol(a)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ol(s.arrayValue.values[i]);return t}return Object.assign({},s)}function P1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===V1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ol(i)}setAll(t){let i=ze.emptyPath(),a={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=ol(d):l.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return si(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];cc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Is(i,(l,c)=>t[l]=c);for(const l of a)delete t[l]}clone(){return new Rn(ol(this.value))}}function o0(s){const t=[];return Is(s.fields,(i,a)=>{const l=new ze([i]);if(cc(a)){const c=o0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new xn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,vt.min(),vt.min(),vt.min(),Rn.empty(),0)}static newFoundDocument(t,i,a,l){return new Qe(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Qe(t,2,i,vt.min(),vt.min(),Rn.empty(),0)}static newUnknownDocument(t,i){return new Qe(t,3,i,vt.min(),vt.min(),Rn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,i){this.position=t,this.inclusive=i}}function I_(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Pa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function C_(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!si(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,i="asc"){this.field=t,this.dir=i}}function x1(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{}class Ae extends l0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new k1(t,i,a):i==="array-contains"?new B1(t,a):i==="in"?new q1(t,a):i==="not-in"?new j1(t,a):i==="array-contains-any"?new H1(t,a):new Ae(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new L1(t,a):new z1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Pa(i,this.value)):i!==null&&Nr(this.value)===Nr(i)&&this.matchesComparison(Pa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends l0{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new ai(t,i)}matches(t){return u0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function u0(s){return s.op==="and"}function c0(s){return U1(s)&&u0(s)}function U1(s){for(const t of s.filters)if(t instanceof ai)return!1;return!0}function Id(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+xa(s.value);if(c0(s))return s.filters.map(t=>Id(t)).join(",");{const t=s.filters.map(i=>Id(i)).join(",");return`${s.op}(${t})`}}function h0(s,t){return s instanceof Ae?function(a,l){return l instanceof Ae&&a.op===l.op&&a.field.isEqual(l.field)&&si(a.value,l.value)}(s,t):s instanceof ai?function(a,l){return l instanceof ai&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,d,g)=>c&&h0(d,l.filters[g]),!0):!1}(s,t):void pt(19439)}function f0(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${xa(i.value)}`}(s):s instanceof ai?function(i){return i.op.toString()+" {"+i.getFilters().map(f0).join(" ,")+"}"}(s):"Filter"}class k1 extends Ae{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class L1 extends Ae{constructor(t,i){super(t,"in",i),this.keys=d0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class z1 extends Ae{constructor(t,i){super(t,"not-in",i),this.keys=d0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function d0(s,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ft.fromName(a.referenceValue))}class B1 extends Ae{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Xd(i)&&pl(i.arrayValue,this.value)}}class q1 extends Ae{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&pl(this.value.arrayValue,i)}}class j1 extends Ae{constructor(t,i){super(t,"not-in",i)}matches(t){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!pl(this.value.arrayValue,i)}}class H1 extends Ae{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Xd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>pl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function D_(s,t=null,i=[],a=[],l=null,c=null,d=null){return new G1(s,t,i,a,l,c,d)}function $d(s){const t=Et(s);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>Id(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),zc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>xa(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>xa(a)).join(",")),t.Ie=i}return t.Ie}function Zd(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!x1(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!h0(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!C_(s.startAt,t.startAt)&&C_(s.endAt,t.endAt)}function Cd(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function F1(s,t,i,a,l,c,d,g){return new qc(s,t,i,a,l,c,d,g)}function Jd(s){return new qc(s)}function O_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Q1(s){return s.collectionGroup!==null}function ll(s){const t=Et(s);if(t.Ee===null){t.Ee=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Sc(c,a))}),i.has(ze.keyField().canonicalString())||t.Ee.push(new Sc(ze.keyField(),a))}return t.Ee}function ni(s){const t=Et(s);return t.de||(t.de=K1(t,ll(s))),t.de}function K1(s,t){if(s.limitType==="F")return D_(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Sc(l.field,c)});const i=s.endAt?new Ac(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Ac(s.startAt.position,s.startAt.inclusive):null;return D_(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Dd(s,t,i){return new qc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function jc(s,t){return Zd(ni(s),ni(t))&&s.limitType===t.limitType}function m0(s){return`${$d(ni(s))}|lt:${s.limitType}`}function ba(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(l=>f0(l)).join(", ")}]`),zc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(l=>xa(l)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(l=>xa(l)).join(",")),`Target(${a})`}(ni(s))}; limitType=${s.limitType})`}function Hc(s,t){return t.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(s,t)&&function(a,l){for(const c of ll(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,t)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(s,t)&&function(a,l){return!(a.startAt&&!function(d,g,p){const v=I_(d,g,p);return d.inclusive?v<=0:v<0}(a.startAt,ll(a),l)||a.endAt&&!function(d,g,p){const v=I_(d,g,p);return d.inclusive?v>=0:v>0}(a.endAt,ll(a),l))}(s,t)}function Y1(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function g0(s){return(t,i)=>{let a=!1;for(const l of ll(s)){const c=X1(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function X1(s,t,i){const a=s.field.isKeyField()?ft.comparator(t.key,i.key):function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?Pa(p,v):pt(42886)}(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Is(this.inner,(i,a)=>{for(const[l,c]of a)t(l,c)})}isEmpty(){return Wv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new ne(ft.comparator);function Bi(){return $1}const p0=new ne(ft.comparator);function rl(...s){let t=p0;for(const i of s)t=t.insert(i.key,i);return t}function y0(s){let t=p0;return s.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function vs(){return ul()}function _0(){return ul()}function ul(){return new Cs(s=>s.toString(),(s,t)=>s.isEqual(t))}const Z1=new ne(ft.comparator),J1=new be(ft.comparator);function Vt(...s){let t=J1;for(const i of s)t=t.add(i);return t}const W1=new be(bt);function tb(){return W1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vc(t)?"-0":t}}function v0(s){return{integerValue:""+s}}function eb(s,t){return I1(t)?v0(t):Wd(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this._=void 0}}function nb(s,t,i){return s instanceof bc?function(l,c){const d={fields:{[n0]:{stringValue:e0},[r0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Yd(c)&&(c=Bc(c)),c&&(d.fields[i0]=c),{mapValue:d}}(i,t):s instanceof yl?T0(s,t):s instanceof _l?A0(s,t):function(l,c){const d=E0(l,c),g=N_(d)+N_(l.Re);return wd(d)&&wd(l.Re)?v0(g):Wd(l.serializer,g)}(s,t)}function ib(s,t,i){return s instanceof yl?T0(s,t):s instanceof _l?A0(s,t):i}function E0(s,t){return s instanceof Rc?function(a){return wd(a)||function(c){return!!c&&"doubleValue"in c}(a)}(t)?t:{integerValue:0}:null}class bc extends Gc{}class yl extends Gc{constructor(t){super(),this.elements=t}}function T0(s,t){const i=S0(t);for(const a of s.elements)i.some(l=>si(l,a))||i.push(a);return{arrayValue:{values:i}}}class _l extends Gc{constructor(t){super(),this.elements=t}}function A0(s,t){let i=S0(t);for(const a of s.elements)i=i.filter(l=>!si(l,a));return{arrayValue:{values:i}}}class Rc extends Gc{constructor(t,i){super(),this.serializer=t,this.Re=i}}function N_(s){return he(s.integerValue||s.doubleValue)}function S0(s){return Xd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function rb(s,t){return s.field.isEqual(t.field)&&function(a,l){return a instanceof yl&&l instanceof yl||a instanceof _l&&l instanceof _l?Ma(a.elements,l.elements,si):a instanceof Rc&&l instanceof Rc?si(a.Re,l.Re):a instanceof bc&&l instanceof bc}(s.transform,t.transform)}class sb{constructor(t,i){this.version=t,this.transformResults=i}}class ki{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ki}static exists(t){return new ki(void 0,t)}static updateTime(t){return new ki(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Fc{}function b0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new w0(s.key,ki.none()):new Rl(s.key,s.data,ki.none());{const i=s.data,a=Rn.empty();let l=new be(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Ds(s.key,a,new xn(l.toArray()),ki.none())}}function ab(s,t,i){s instanceof Rl?function(l,c,d){const g=l.value.clone(),p=M_(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,t,i):s instanceof Ds?function(l,c,d){if(!hc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=M_(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(R0(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function cl(s,t,i,a){return s instanceof Rl?function(c,d,g,p){if(!hc(c.precondition,d))return g;const v=c.value.clone(),A=P_(c.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,t,i,a):s instanceof Ds?function(c,d,g,p){if(!hc(c.precondition,d))return g;const v=P_(c.fieldTransforms,p,d),A=d.data;return A.setAll(R0(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(s,t,i,a):function(c,d,g){return hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,t,i)}function ob(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=E0(a.transform,l||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,c))}return i||null}function V_(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ma(a,l,(c,d)=>rb(c,d))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Rl extends Fc{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ds extends Fc{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function R0(s){const t=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}}),t}function M_(s,t,i){const a=new Map;qt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,ib(d,g,i[l]))}return a}function P_(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,nb(c,d,t))}return a}class w0 extends Fc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lb extends Fc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&ab(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=_0();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=b0(d,g);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(vt.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Ma(this.mutations,t.mutations,(i,a)=>V_(i,a))&&Ma(this.baseMutations,t.baseMutations,(i,a)=>V_(i,a))}}class tm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){qt(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let l=function(){return Z1}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new tm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function fb(s){switch(s){case X.OK:return pt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function I0(s){if(s===void 0)return zi("GRPC error has no .code"),X.UNKNOWN;switch(s){case pe.OK:return X.OK;case pe.CANCELLED:return X.CANCELLED;case pe.UNKNOWN:return X.UNKNOWN;case pe.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pe.INTERNAL:return X.INTERNAL;case pe.UNAVAILABLE:return X.UNAVAILABLE;case pe.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pe.NOT_FOUND:return X.NOT_FOUND;case pe.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pe.ABORTED:return X.ABORTED;case pe.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pe.DATA_LOSS:return X.DATA_LOSS;default:return pt(39323,{code:s})}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=new wr([4294967295,4294967295],0);function x_(s){const t=$v().encode(s),i=new jv;return i.update(t),new Uint8Array(i.digest())}function U_(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new wr([i,a],0),new wr([l,c],0)]}class em{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new sl(`Invalid padding: ${i}`);if(a<0)throw new sl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new sl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=wr.fromNumber(this.pe)}we(t,i,a){let l=t.add(i.multiply(wr.fromNumber(a)));return l.compare(db)===1&&(l=new wr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=x_(t),[a,l]=U_(i);for(let c=0;c<this.hashCount;c++){const d=this.we(a,l,c);if(!this.Se(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new em(c,l,i);return a.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const i=x_(t),[a,l]=U_(i);for(let c=0;c<this.hashCount;c++){const d=this.we(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,wl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Qc(vt.min(),l,new ne(bt),Bi(),Vt())}}class wl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new wl(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,i,a,l){this.De=t,this.removedTargetIds=i,this.key=a,this.ve=l}}class C0{constructor(t,i){this.targetId=t,this.Ce=i}}class D0{constructor(t,i,a=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class k_{constructor(){this.Fe=0,this.Me=L_(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Vt(),i=Vt(),a=Vt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}}),new wl(this.xe,this.Oe,t,i,a)}Qe(){this.Ne=!1,this.Me=L_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class mb{constructor(t){this.ze=t,this.je=new Map,this.He=Bi(),this.Je=sc(),this.Ye=sc(),this.Ze=new ne(bt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const a=this.rt(i);switch(t.state){case 0:this.it(i)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(t.resumeToken));break;default:pt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((a,l)=>{this.it(l)&&i(l)})}ot(t){const i=t.targetId,a=t.Ce.count,l=this._t(i);if(l){const c=l.target;if(Cd(c))if(a===0){const d=new ft(c.path);this.tt(i,d,Qe.newNoDocument(d,vt.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const g=this.ct(t),p=g?this.lt(g,t,d):1;if(p!==0){this.st(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Or(a).toUint8Array()}catch(p){if(p instanceof t0)return Va("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new em(d,l,c)}catch(p){return Va(p instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,i,a){return i.Ce.count===a-this.Tt(t,i.targetId)?0:2}Tt(t,i){const a=this.ze.getRemoteKeysForTarget(i);let l=0;return a.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(i,c,null),l++)}),l}It(t){const i=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&Cd(g.target)){const p=new ft(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Qe.newNoDocument(p,t))}c.Le&&(i.set(d,c.qe()),c.Qe())}});let a=Vt();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const v=this._t(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new Qc(t,i,this.Ze,this.He,a);return this.He=Bi(),this.Je=sc(),this.Ye=sc(),this.Ze=new ne(bt),l}et(t,i){if(!this.it(t))return;const a=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,a){if(!this.it(t))return;const l=this.rt(t);this.dt(t,i)?l.$e(i,1):l.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),a&&(this.He=this.He.insert(i,a))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new k_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new be(bt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new be(bt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new k_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function sc(){return new ne(ft.comparator)}function L_(){return new ne(ft.comparator)}const gb={asc:"ASCENDING",desc:"DESCENDING"},pb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yb={and:"AND",or:"OR"};class _b{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Od(s,t){return s.useProto3Json||zc(t)?t:{value:t}}function wc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function O0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function vb(s,t){return wc(s,t.toTimestamp())}function ii(s){return qt(!!s,49232),vt.fromTimestamp(function(i){const a=Dr(i);return new Se(a.seconds,a.nanos)}(s))}function nm(s,t){return Nd(s,t).canonicalString()}function Nd(s,t){const i=function(l){return new oe(["projects",l.projectId,"databases",l.database])}(s).child("documents");return t===void 0?i:i.child(t)}function N0(s){const t=oe.fromString(s);return qt(U0(t),10190,{key:t.toString()}),t}function Vd(s,t){return nm(s.databaseId,t.path)}function hd(s,t){const i=N0(t);if(i.get(1)!==s.databaseId.projectId)throw new ht(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ht(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(M0(i))}function V0(s,t){return nm(s.databaseId,t)}function Eb(s){const t=N0(s);return t.length===4?oe.emptyPath():M0(t)}function Md(s){return new oe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function M0(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function z_(s,t,i){return{name:Vd(s,t),fields:i.value.mapValue.fields}}function Tb(s,t){let i;if("targetChange"in t){t.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:I0(v.code);return new ht(A,v.message||"")}(d);i=new D0(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=hd(s,a.document.name),c=ii(a.document.updateTime),d=a.document.createTime?ii(a.document.createTime):vt.min(),g=new Rn({mapValue:{fields:a.document.fields}}),p=Qe.newFoundDocument(l,c,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new fc(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=hd(s,a.document),c=a.readTime?ii(a.readTime):vt.min(),d=Qe.newNoDocument(l,c),g=a.removedTargetIds||[];i=new fc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=hd(s,a.document),c=a.removedTargetIds||[];i=new fc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new hb(l,c),g=a.targetId;i=new C0(g,d)}}return i}function Ab(s,t){let i;if(t instanceof Rl)i={update:z_(s,t.key,t.value)};else if(t instanceof w0)i={delete:Vd(s,t.key)};else if(t instanceof Ds)i={update:z_(s,t.key,t.data),updateMask:Nb(t.fieldMask)};else{if(!(t instanceof lb))return pt(16599,{ft:t.type});i={verify:Vd(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(c,d){const g=d.transform;if(g instanceof bc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof _l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Rc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw pt(20930,{transform:d.transform})}(0,a))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:vb(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)}(s,t.precondition)),i}function Sb(s,t){return s&&s.length>0?(qt(t!==void 0,14353),s.map(i=>function(l,c){let d=l.updateTime?ii(l.updateTime):ii(c);return d.isEqual(vt.min())&&(d=ii(c)),new sb(d,l.transformResults||[])}(i,t))):[]}function bb(s,t){return{documents:[V0(s,t.path)]}}function Rb(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=V0(s,l);const c=function(v){if(v.length!==0)return x0(ai.create(v,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(N){return{field:Ra(N.field),direction:Cb(N.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Od(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{gt:i,parent:l}}function wb(s){let t=Eb(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=function(I){const N=P0(I);return N instanceof ai&&c0(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(N=>function($){return new Sc(wa($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(N))}(i.orderBy));let g=null;i.limit&&(g=function(I){let N;return N=typeof I=="object"?I.value:I,zc(N)?null:N}(i.limit));let p=null;i.startAt&&(p=function(I){const N=!!I.before,j=I.values||[];return new Ac(j,N)}(i.startAt));let v=null;return i.endAt&&(v=function(I){const N=!I.before,j=I.values||[];return new Ac(j,N)}(i.endAt)),F1(t,l,d,c,g,"F",p,v)}function Ib(s,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function P0(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=wa(i.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=wa(i.unaryFilter.field);return Ae.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=wa(i.unaryFilter.field);return Ae.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=wa(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(wa(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ai.create(i.compositeFilter.filters.map(a=>P0(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(s):pt(30097,{filter:s})}function Cb(s){return gb[s]}function Db(s){return pb[s]}function Ob(s){return yb[s]}function Ra(s){return{fieldPath:s.canonicalString()}}function wa(s){return ze.fromServerFormat(s.fieldPath)}function x0(s){return s instanceof Ae?function(i){if(i.op==="=="){if(w_(i.value))return{unaryFilter:{field:Ra(i.field),op:"IS_NAN"}};if(R_(i.value))return{unaryFilter:{field:Ra(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(w_(i.value))return{unaryFilter:{field:Ra(i.field),op:"IS_NOT_NAN"}};if(R_(i.value))return{unaryFilter:{field:Ra(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ra(i.field),op:Db(i.op),value:i.value}}}(s):s instanceof ai?function(i){const a=i.getFilters().map(l=>x0(l));return a.length===1?a[0]:{compositeFilter:{op:Ob(i.op),filters:a}}}(s):pt(54877,{filter:s})}function Nb(s){const t=[];return s.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function U0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t,i,a,l,c=vt.min(),d=vt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t){this.wt=t}}function Mb(s){const t=wb({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Dd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.Cn=new xb}addToCollectionParentIndex(t,i){return this.Cn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Cr.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Cr.min())}updateCollectionGroup(t,i,a){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class xb{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new be(oe.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new be(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k0=41943040;class en{static withCacheSize(t){return new en(t,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(k0,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ua(0)}static lr(){return new Ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="LruGarbageCollector",Ub=1048576;function j_([s,t],[i,a]){const l=bt(s,i);return l===0?bt(t,a):l}class kb{constructor(t){this.Er=t,this.buffer=new be(j_),this.dr=0}Ar(){return++this.dr}Rr(t){const i=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();j_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Lb{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){it(q_,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ha(i)?it(q_,"Ignoring IndexedDB error during garbage collection: ",i):await ja(i)}await this.mr(3e5)})}}class zb{constructor(t,i){this.gr=t,this.params=i}calculateTargetCount(t,i){return this.gr.pr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return K.resolve(Lc.le);const a=new kb(i);return this.gr.forEachTarget(t,l=>a.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>a.Rr(l))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.gr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.gr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(B_)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B_):this.wr(t,i))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,i){let a,l,c,d,g,p,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(a=I,g=Date.now(),this.removeTargets(t,a,i))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(I=>(v=Date.now(),Sa()<=Nt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(v-p)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function Bb(s,t){return new zb(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.changes=new Cs(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(a!==null&&cl(a.mutation,l,xn.empty(),Se.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Vt()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Vt()){const l=vs();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,a).next(c=>{let d=rl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const a=vs();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Vt()))}populateOverlays(t,i,a){const l=[];return a.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,a,l){let c=Bi();const d=ul(),g=function(){return ul()}();return i.forEach((p,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Ds)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),cl(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,xn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var I;return g.set(v,new jb(A,(I=d.get(v))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,i){const a=ul();let l=new ne((d,g)=>d-g),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=i.get(p);if(v===null)return;let A=a.get(p)||xn.empty();A=g.applyToLocalView(v,A),a.set(p,A);const I=(l.get(g.batchId)||Vt()).add(p);l=l.insert(g.batchId,I)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,I=_0();A.forEach(N=>{if(!c.has(N)){const j=b0(i.get(N),a.get(N));j!==null&&I.set(N,j),c=c.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,I))}return K.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,l){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Q1(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):K.resolve(vs());let g=dl,p=c;return d.next(v=>K.forEach(v,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(N=>{p=p.insert(A,N)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,p,v,Vt())).next(A=>({batchId:g,changes:y0(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next(a=>{let l=rl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=rl();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,p=>{const v=function(I,N){return new qc(N,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next(A=>{A.forEach((I,N)=>{d=d.insert(I,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l))).next(d=>{c.forEach((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=rl();return d.forEach((p,v)=>{const A=c.get(p);A!==void 0&&cl(A.mutation,v,xn.empty(),Se.now()),Hc(i,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,i){return K.resolve(this.kr.get(i))}saveBundleMetadata(t,i){return this.kr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ii(l.createTime)}}(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.qr.get(i))}saveNamedQuery(t,i){return this.qr.set(i.name,function(l){return{name:l.name,query:Mb(l.bundledQuery),readTime:ii(l.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.overlays=new ne(ft.comparator),this.Qr=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const a=vs();return K.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((l,c)=>{this.bt(t,i,c)}),K.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Qr.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(a)),K.resolve()}getOverlaysForCollection(t,i,a){const l=vs(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ne((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=c.get(v.largestBatchId);A===null&&(A=vs(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=vs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return K.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(a.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new cb(i,a));let c=this.Qr.get(i);c===void 0&&(c=Vt(),this.Qr.set(i,c)),this.Qr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this.$r=new be(Ne.Ur),this.Kr=new be(Ne.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,i){const a=new Ne(t,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.zr(new Ne(t,i))}jr(t,i){t.forEach(a=>this.removeReference(a,i))}Hr(t){const i=new ft(new oe([])),a=new Ne(i,t),l=new Ne(i,t+1),c=[];return this.Kr.forEachInRange([a,l],d=>{this.zr(d),c.push(d.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const i=new ft(new oe([])),a=new Ne(i,t),l=new Ne(i,t+1);let c=Vt();return this.Kr.forEachInRange([a,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Ne(t,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ne{constructor(t,i){this.key=t,this.Zr=i}static Ur(t,i){return ft.comparator(t.key,i.key)||bt(t.Zr,i.Zr)}static Wr(t,i){return bt(t.Zr,i.Zr)||ft.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new be(Ne.Ur)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ub(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Xr=this.Xr.add(new Ne(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ti(a),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Kd:this.nr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ne(i,0),l=new Ne(i,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([a,l],d=>{const g=this.ei(d.Zr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new be(bt);return i.forEach(l=>{const c=new Ne(l,0),d=new Ne(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,d],g=>{a=a.add(g.Zr)})}),K.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Ne(new ft(c),0);let g=new be(bt);return this.Xr.forEachWhile(p=>{const v=p.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Zr)),!0)},d),K.resolve(this.ni(g))}ni(t){const i=[];return t.forEach(a=>{const l=this.ei(a);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){qt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return K.forEach(i.mutations,l=>{const c=new Ne(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=a})}sr(t){}containsKey(t,i){const a=new Ne(i,0),l=this.Xr.firstAfterOrEqual(a);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ri(t,i){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const i=this.ti(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t){this.ii=t,this.docs=function(){return new ne(ft.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(t,i){let a=Bi();return i.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))}),K.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Bi();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||S1(A1(A),a)<=0||(l.has(A.key)||Hc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}si(t,i){return K.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new Xb(this)}getSize(t){return K.resolve(this.size)}}class Xb extends qb{constructor(t){super(),this.Br=t}applyChanges(t){const i=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?i.push(this.Br.addEntry(t,l)):this.Br.removeEntry(a)}),K.waitFor(i)}getFromCache(t,i){return this.Br.getEntry(t,i)}getAllFromCache(t,i){return this.Br.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t){this.persistence=t,this.oi=new Cs(i=>$d(i),Zd),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this._i=0,this.ai=new im,this.targetCount=0,this.ui=Ua.cr()}forEachTarget(t,i){return this.oi.forEach((a,l)=>i(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),K.resolve()}Tr(t){this.oi.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ui=new Ua(i),this.highestTargetId=i),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,i){return this.Tr(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.Tr(i),K.resolve()}removeTargetData(t,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.oi.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const a=this.oi.get(i)||null;return K.resolve(a)}addMatchingKeys(t,i,a){return this.ai.Gr(i,a),K.resolve()}removeMatchingKeys(t,i,a){this.ai.jr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.ai.Hr(i),K.resolve()}getMatchingKeysForTargetId(t,i){const a=this.ai.Yr(i);return K.resolve(a)}containsKey(t,i){return K.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,i){this.ci={},this.overlays={},this.li=new Lc(0),this.hi=!1,this.hi=!0,this.Pi=new Qb,this.referenceDelegate=t(this),this.Ti=new $b(this),this.indexManager=new Pb,this.remoteDocumentCache=function(l){return new Yb(l)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new Vb(i),this.Ei=new Gb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Fb,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ci[t.toKey()];return a||(a=new Kb(i,this.referenceDelegate),this.ci[t.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new Zb(this.li.next());return this.referenceDelegate.di(),a(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,i){return K.or(Object.values(this.ci).map(a=>()=>a.containsKey(t,i)))}}class Zb extends R1{constructor(t){super(),this.currentSequenceNumber=t}}class rm{constructor(t){this.persistence=t,this.Vi=new im,this.mi=null}static fi(t){return new rm(t)}get gi(){if(this.mi)return this.mi;throw pt(60996)}addReference(t,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),K.resolve()}removeReference(t,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.gi.add(i.toString()),K.resolve()}removeTarget(t,i){this.Vi.Hr(i.targetId).forEach(l=>this.gi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>a.removeTargetData(t,i))}di(){this.mi=new Set}Ai(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,a=>{const l=ft.fromPath(a);return this.pi(t,l).next(c=>{c||i.removeEntry(l,vt.min())})}).next(()=>(this.mi=null,i.apply(t)))}updateLimboDocument(t,i){return this.pi(t,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(t){return 0}pi(t,i){return K.or([()=>K.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ri(t,i)])}}class Ic{constructor(t,i){this.persistence=t,this.yi=new Cs(a=>C1(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=Bb(this,i)}static fi(t,i){return new Ic(t,i)}di(){}Ai(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}pr(t){const i=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(l=>a+l))}Sr(t){let i=0;return this.yr(t,a=>{i++}).next(()=>i)}yr(t,i){return K.forEach(this.yi,(a,l)=>this.Dr(t,a,l).next(c=>c?K.resolve():i(l)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,d=>this.Dr(t,d,i).next(g=>{g||(a++,c.removeEntry(d,vt.min()))})).next(()=>c.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.yi.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.yi.set(a,t.currentSequenceNumber),K.resolve()}removeReference(t,i,a){return this.yi.set(a,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.yi.set(i,t.currentSequenceNumber),K.resolve()}Ii(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=uc(t.data.value)),i}Dr(t,i,a){return K.or([()=>this.persistence.Ri(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.yi.get(i);return K.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.ds=a,this.As=l}static Rs(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new sm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return QA()?8:w1(Ke())>0?6:4}()}initialize(t,i){this.ys=t,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ws(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Ss(t,i,l,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Jb;return this.bs(t,i,d).next(g=>{if(c.result=g,this.fs)return this.Ds(t,i,d,g.size)})}).next(()=>c.result)}Ds(t,i,a,l){return a.documentReadCount<this.gs?(Sa()<=Nt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(Sa()<=Nt.DEBUG&&it("QueryEngine","Query:",ba(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ps*l?(Sa()<=Nt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ni(i))):K.resolve())}ws(t,i){if(O_(i))return K.resolve(null);let a=ni(i);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Dd(i,null,"F"),a=ni(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(c=>{const d=Vt(...c);return this.ys.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,a).next(p=>{const v=this.vs(i,g);return this.Cs(i,v,d,p.readTime)?this.ws(t,Dd(i,null,"F")):this.Fs(t,v,i,p)}))})))}Ss(t,i,a,l){return O_(i)||l.isEqual(vt.min())?K.resolve(null):this.ys.getDocuments(t,a).next(c=>{const d=this.vs(i,c);return this.Cs(i,d,a,l)?K.resolve(null):(Sa()<=Nt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ba(i)),this.Fs(t,d,i,T1(l,dl)).next(g=>g))})}vs(t,i){let a=new be(g0(t));return i.forEach((l,c)=>{Hc(t,c)&&(a=a.add(c))}),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}bs(t,i,a){return Sa()<=Nt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ba(i)),this.ys.getDocumentsMatchingQuery(t,i,Cr.min(),a)}Fs(t,i,a,l){return this.ys.getDocumentsMatchingQuery(t,a,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="LocalStore",tR=3e8;class eR{constructor(t,i,a,l){this.persistence=t,this.Ms=i,this.serializer=l,this.xs=new ne(bt),this.Os=new Cs(c=>$d(c),Zd),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(a)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Hb(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.xs))}}function nR(s,t,i,a){return new eR(s,t,i,a)}async function z0(s,t){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,i.Ls(t),i.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],g=[];let p=Vt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(a,p).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:g}))})})}function iR(s,t){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),c=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,v,A){const I=v.batch,N=I.keys();let j=K.resolve();return N.forEach($=>{j=j.next(()=>A.getEntry(p,$)).next(nt=>{const Z=v.docVersions.get($);qt(Z!==null,48541),nt.version.compareTo(Z)<0&&(I.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(i,a,t,c).next(()=>c.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let p=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(t))).next(()=>i.localDocuments.getDocuments(a,l))})}function B0(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ti.getLastRemoteSnapshotVersion(i))}function rR(s,t){const i=Et(s),a=t.snapshotVersion;let l=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});l=i.xs;const g=[];t.targetChanges.forEach((A,I)=>{const N=l.get(I);if(!N)return;g.push(i.Ti.removeMatchingKeys(c,A.removedDocuments,I).next(()=>i.Ti.addMatchingKeys(c,A.addedDocuments,I)));let j=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,a)),l=l.insert(I,j),function(nt,Z,Tt){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=tR?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(N,j,A)&&g.push(i.Ti.updateTargetData(c,j))});let p=Bi(),v=Vt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(sR(c,d,t.documentUpdates).next(A=>{p=A.qs,v=A.Qs})),!a.isEqual(vt.min())){const A=i.Ti.getLastRemoteSnapshotVersion(c).next(I=>i.Ti.setTargetsMetadata(c,c.currentSequenceNumber,a));g.push(A)}return K.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(i.xs=l,c))}function sR(s,t,i){let a=Vt(),l=Vt();return i.forEach(c=>a=a.add(c)),t.getEntries(s,a).next(c=>{let d=Bi();return i.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(vt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):it(am,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{qs:d,Qs:l}})}function aR(s,t){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Kd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function oR(s,t){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return i.Ti.getTargetData(a,t).next(c=>c?(l=c,K.resolve(l)):i.Ti.allocateTargetId(a).next(d=>(l=new Ar(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ti.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=i.xs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.xs=i.xs.insert(a.targetId,a),i.Os.set(t,a.targetId)),a})}async function Pd(s,t,i){const a=Et(s),l=a.xs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Ha(d))throw d;it(am,`Failed to update sequence numbers for target ${t}: ${d}`)}a.xs=a.xs.remove(t),a.Os.delete(l.target)}function H_(s,t,i){const a=Et(s);let l=vt.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,A){const I=Et(p),N=I.Os.get(A);return N!==void 0?K.resolve(I.xs.get(N)):I.Ti.getTargetData(v,A)}(a,d,ni(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Vt())).next(g=>(lR(a,Y1(t),g),{documents:g,$s:c})))}function lR(s,t,i){let a=s.Ns.get(t)||vt.min();i.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),s.Ns.set(t,a)}class G_{constructor(){this.activeTargetIds=tb()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uR{constructor(){this.xo=new G_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,i,a){this.Oo[t]=i}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new G_,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="ConnectivityMonitor";class Q_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(F_,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){it(F_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function xd(){return ac===null?ac=function(){return 268435456+Math.round(2147483648*Math.random())}():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="RestConnection",hR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fR{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+t.host,this.Wo=`projects/${a}/databases/${l}`,this.Go=this.databaseId.database===Ec?`project_id=${a}`:`project_id=${a}&database_id=${l}`}zo(t,i,a,l,c){const d=xd(),g=this.jo(t,i.toUriEncodedString());it(fd,`Sending RPC '${t}' ${d}:`,g,a);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,l,c);const{host:v}=new URL(g),A=Al(v);return this.Jo(t,g,p,a,A).then(I=>(it(fd,`Received RPC '${t}' ${d}: `,I),I),I=>{throw Va(fd,`RPC '${t}' ${d} failed with error: `,I,"url: ",g,"request:",a),I})}Yo(t,i,a,l,c,d){return this.zo(t,i,a,l,c)}Ho(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),a&&a.headers.forEach((l,c)=>t[c]=l)}jo(t,i){const a=hR[t];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class mR extends fR{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=xd();return new Promise((g,p)=>{const v=new Hv;v.setWithCredentials(!0),v.listenOnce(Gv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case lc.NO_ERROR:const I=v.getResponseJson();it(Ge,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),g(I);break;case lc.TIMEOUT:it(Ge,`RPC '${t}' ${d} timed out`),p(new ht(X.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const N=v.getStatus();if(it(Ge,`RPC '${t}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let j=v.getResponseJson();Array.isArray(j)&&(j=j[0]);const $=j==null?void 0:j.error;if($&&$.status&&$.message){const nt=function(Tt){const ut=Tt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ut)>=0?ut:X.UNKNOWN}($.status);p(new ht(nt,$.message))}else p(new ht(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new ht(X.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{it(Ge,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);it(Ge,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,a,15)})}T_(t,i,a){const l=xd(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Kv(),g=Qv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const A=c.join("");it(Ge,`Creating RPC '${t}' stream ${l}: ${A}`,p);const I=d.createWebChannel(A,p);let N=!1,j=!1;const $=new dR({Zo:Z=>{j?it(Ge,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(N||(it(Ge,`Opening RPC '${t}' stream ${l} transport.`),I.open(),N=!0),it(Ge,`RPC '${t}' stream ${l} sending:`,Z),I.send(Z))},Xo:()=>I.close()}),nt=(Z,Tt,ut)=>{Z.listen(Tt,at=>{try{ut(at)}catch(Rt){setTimeout(()=>{throw Rt},0)}})};return nt(I,il.EventType.OPEN,()=>{j||(it(Ge,`RPC '${t}' stream ${l} transport opened.`),$.__())}),nt(I,il.EventType.CLOSE,()=>{j||(j=!0,it(Ge,`RPC '${t}' stream ${l} transport closed`),$.u_())}),nt(I,il.EventType.ERROR,Z=>{j||(j=!0,Va(Ge,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),$.u_(new ht(X.UNAVAILABLE,"The operation could not be completed")))}),nt(I,il.EventType.MESSAGE,Z=>{var Tt;if(!j){const ut=Z.data[0];qt(!!ut,16349);const at=ut,Rt=(at==null?void 0:at.error)||((Tt=at[0])===null||Tt===void 0?void 0:Tt.error);if(Rt){it(Ge,`RPC '${t}' stream ${l} received error:`,Rt);const mt=Rt.status;let Ct=function(b){const D=pe[b];if(D!==void 0)return I0(D)}(mt),V=Rt.message;Ct===void 0&&(Ct=X.INTERNAL,V="Unknown error status: "+mt+" with message "+Rt.message),j=!0,$.u_(new ht(Ct,V)),I.close()}else it(Ge,`RPC '${t}' stream ${l} received:`,ut),$.c_(ut)}}),nt(g,Fv.STAT_EVENT,Z=>{Z.stat===Sd.PROXY?it(Ge,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Sd.NOPROXY&&it(Ge,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$.a_()},0),$}}function dd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(s){return new _b(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t,i,a=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=i,this.I_=a,this.E_=l,this.d_=c,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const i=Math.floor(this.A_+this.g_()),a=Math.max(0,Date.now()-this.V_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="PersistentStream";class j0{constructor(t,i,a,l,c,d,g,p){this.xi=t,this.y_=a,this.w_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new q0(t,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(zi(i.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.S_===i&&this.K_(a,l)},a=>{t(()=>{const l=new ht(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.W_(l)})})}K_(t,i){const a=this.U_(this.S_);this.stream=this.G_(t,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{a(()=>this.W_(l))}),this.stream.onMessage(l=>{a(()=>++this.v_==1?this.z_(l):this.onNext(l))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return it(K_,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return i=>{this.xi.enqueueAndForget(()=>this.S_===t?i():(it(K_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gR extends j0{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}G_(t,i){return this.connection.T_("Listen",t,i)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const i=Tb(this.serializer,t),a=function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?ii(d.readTime):vt.min()}(t);return this.listener.j_(i,a)}H_(t){const i={};i.database=Md(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=Cd(p)?{documents:bb(c,p)}:{query:Rb(c,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=O0(c,d.resumeToken);const v=Od(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=wc(c,d.snapshotVersion.toTimestamp());const v=Od(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const a=Ib(this.serializer,t);a&&(i.labels=a),this.L_(i)}J_(t){const i={};i.database=Md(this.serializer),i.removeTarget=t,this.L_(i)}}class pR extends j0{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,i){return this.connection.T_("Write",t,i)}z_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const i=Sb(t.writeResults,t.commitTime),a=ii(t.commitTime);return this.listener.ea(a,i)}ta(){const t={};t.database=Md(this.serializer),this.L_(t)}Z_(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>Ab(this.serializer,a))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{}class _R extends yR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.na=!1}ra(){if(this.na)throw new ht(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,i,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.zo(t,Nd(i,a),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(X.UNKNOWN,c.toString())})}Yo(t,i,a,l,c){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(t,Nd(i,a),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(X.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class vR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(zi(i),this.oa=!1):it("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="RemoteStore";class ER{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=c,this.Ea.No(d=>{a.enqueueAndForget(async()=>{Os(this)&&(it(Rs,"Restarting streams for network reachability change."),await async function(p){const v=Et(p);v.Ta.add(4),await Il(v),v.da.set("Unknown"),v.Ta.delete(4),await Yc(v)}(this))})}),this.da=new vR(a,l)}}async function Yc(s){if(Os(s))for(const t of s.Ia)await t(!0)}async function Il(s){for(const t of s.Ia)await t(!1)}function H0(s,t){const i=Et(s);i.Pa.has(t.targetId)||(i.Pa.set(t.targetId,t),cm(i)?um(i):Ga(i).M_()&&lm(i,t))}function om(s,t){const i=Et(s),a=Ga(i);i.Pa.delete(t),a.M_()&&G0(i,t),i.Pa.size===0&&(a.M_()?a.N_():Os(i)&&i.da.set("Unknown"))}function lm(s,t){if(s.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ga(s).H_(t)}function G0(s,t){s.Aa.Ke(t),Ga(s).J_(t)}function um(s){s.Aa=new mb({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>s.Pa.get(t)||null,Pt:()=>s.datastore.serializer.databaseId}),Ga(s).start(),s.da._a()}function cm(s){return Os(s)&&!Ga(s).F_()&&s.Pa.size>0}function Os(s){return Et(s).Ta.size===0}function F0(s){s.Aa=void 0}async function TR(s){s.da.set("Online")}async function AR(s){s.Pa.forEach((t,i)=>{lm(s,t)})}async function SR(s,t){F0(s),cm(s)?(s.da.ca(t),um(s)):s.da.set("Unknown")}async function bR(s,t,i){if(s.da.set("Online"),t instanceof D0&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Pa.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Pa.delete(g),l.Aa.removeTarget(g))}(s,t)}catch(a){it(Rs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Cc(s,a)}else if(t instanceof fc?s.Aa.Xe(t):t instanceof C0?s.Aa.ot(t):s.Aa.nt(t),!i.isEqual(vt.min()))try{const a=await B0(s.localStore);i.compareTo(a)>=0&&await function(c,d){const g=c.Aa.It(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.Pa.get(v);A&&c.Pa.set(v,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const A=c.Pa.get(p);if(!A)return;c.Pa.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),G0(c,p);const I=new Ar(A.target,p,v,A.sequenceNumber);lm(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){it(Rs,"Failed to raise snapshot:",a),await Cc(s,a)}}async function Cc(s,t,i){if(!Ha(t))throw t;s.Ta.add(1),await Il(s),s.da.set("Offline"),i||(i=()=>B0(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(Rs,"Retrying IndexedDB access"),await i(),s.Ta.delete(1),await Yc(s)})}function Q0(s,t){return t().catch(i=>Cc(s,i,t))}async function Xc(s){const t=Et(s),i=Vr(t);let a=t.ha.length>0?t.ha[t.ha.length-1].batchId:Kd;for(;RR(t);)try{const l=await aR(t.localStore,a);if(l===null){t.ha.length===0&&i.N_();break}a=l.batchId,wR(t,l)}catch(l){await Cc(t,l)}K0(t)&&Y0(t)}function RR(s){return Os(s)&&s.ha.length<10}function wR(s,t){s.ha.push(t);const i=Vr(s);i.M_()&&i.Y_&&i.Z_(t.mutations)}function K0(s){return Os(s)&&!Vr(s).F_()&&s.ha.length>0}function Y0(s){Vr(s).start()}async function IR(s){Vr(s).ta()}async function CR(s){const t=Vr(s);for(const i of s.ha)t.Z_(i.mutations)}async function DR(s,t,i){const a=s.ha.shift(),l=tm.from(a,t,i);await Q0(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await Xc(s)}async function OR(s,t){t&&Vr(s).Y_&&await async function(a,l){if(function(d){return fb(d)&&d!==X.ABORTED}(l.code)){const c=a.ha.shift();Vr(a).O_(),await Q0(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await Xc(a)}}(s,t),K0(s)&&Y0(s)}async function Y_(s,t){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),it(Rs,"RemoteStore received new credentials");const a=Os(i);i.Ta.add(3),await Il(i),a&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ta.delete(3),await Yc(i)}async function NR(s,t){const i=Et(s);t?(i.Ta.delete(2),await Yc(i)):t||(i.Ta.add(2),await Il(i),i.da.set("Unknown"))}function Ga(s){return s.Ra||(s.Ra=function(i,a,l){const c=Et(i);return c.ra(),new gR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{e_:TR.bind(null,s),n_:AR.bind(null,s),i_:SR.bind(null,s),j_:bR.bind(null,s)}),s.Ia.push(async t=>{t?(s.Ra.O_(),cm(s)?um(s):s.da.set("Unknown")):(await s.Ra.stop(),F0(s))})),s.Ra}function Vr(s){return s.Va||(s.Va=function(i,a,l){const c=Et(i);return c.ra(),new pR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:IR.bind(null,s),i_:OR.bind(null,s),X_:CR.bind(null,s),ea:DR.bind(null,s)}),s.Ia.push(async t=>{t?(s.Va.O_(),await Xc(s)):(await s.Va.stop(),s.ha.length>0&&(it(Rs,`Stopping write stream with ${s.ha.length} pending writes`),s.ha=[]))})),s.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new hm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fm(s,t){if(zi("AsyncQueue",`${t}: ${s}`),Ha(s))return new ht(X.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{static emptySet(t){return new Ia(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=rl(),this.sortedSet=new ne(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ia)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ia;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.ma=new ne(ft.comparator)}track(t){const i=t.doc.key,a=this.ma.get(i);a?t.type!==0&&a.type===3?this.ma=this.ma.insert(i,t):t.type===3&&a.type!==1?this.ma=this.ma.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ma=this.ma.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ma=this.ma.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ma=this.ma.remove(i):t.type===1&&a.type===2?this.ma=this.ma.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ma=this.ma.insert(i,{type:2,doc:t.doc}):pt(63341,{Vt:t,fa:a}):this.ma=this.ma.insert(i,t)}ga(){const t=[];return this.ma.inorderTraversal((i,a)=>{t.push(a)}),t}}class ka{constructor(t,i,a,l,c,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ka(t,i,Ia.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class MR{constructor(){this.queries=$_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=$_(),c.forEach((d,g)=>{for(const p of g.ya)p.onError(a)})})(this,new ht(X.ABORTED,"Firestore shutting down"))}}function $_(){return new Cs(s=>m0(s),jc)}async function PR(s,t){const i=Et(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.wa()&&t.Sa()&&(a=2):(c=new VR,a=t.Sa()?0:1);try{switch(a){case 0:c.pa=await i.onListen(l,!0);break;case 1:c.pa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=fm(d,`Initialization of query '${ba(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ya.push(t),t.Da(i.onlineState),c.pa&&t.va(c.pa)&&dm(i)}async function xR(s,t){const i=Et(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ya.indexOf(t);d>=0&&(c.ya.splice(d,1),c.ya.length===0?l=t.Sa()?0:1:!c.wa()&&t.Sa()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function UR(s,t){const i=Et(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ya)g.va(l)&&(a=!0);d.pa=l}}a&&dm(i)}function kR(s,t,i){const a=Et(s),l=a.queries.get(t);if(l)for(const c of l.ya)c.onError(i);a.queries.delete(t)}function dm(s){s.ba.forEach(t=>{t.next()})}var Ud,Z_;(Z_=Ud||(Ud={})).Ca="default",Z_.Cache="cache";class LR{constructor(t,i,a){this.query=t,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=a||{}}va(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ka(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),i=!0):this.Na(t,this.onlineState)&&(this.Ba(t),i=!0),this.xa=t,i}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),i=!0),i}Na(t,i){if(!t.fromCache||!this.Sa())return!0;const a=i!=="Offline";return(!this.options.La||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(t){t=ka.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==Ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t){this.key=t}}class $0{constructor(t){this.key=t}}class zR{constructor(t,i){this.query=t,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Vt(),this.mutatedKeys=Vt(),this.Ha=g0(t),this.Ja=new Ia(this.Ha)}get Ya(){return this.Ga}Za(t,i){const a=i?i.Xa:new X_,l=i?i.Ja:this.Ja;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,I)=>{const N=l.get(A),j=Hc(this.query,I)?I:null,$=!!N&&this.mutatedKeys.has(N.key),nt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;N&&j?N.data.isEqual(j.data)?$!==nt&&(a.track({type:3,doc:j}),Z=!0):this.eu(N,j)||(a.track({type:2,doc:j}),Z=!0,(p&&this.Ha(j,p)>0||v&&this.Ha(j,v)<0)&&(g=!0)):!N&&j?(a.track({type:0,doc:j}),Z=!0):N&&!j&&(a.track({type:1,doc:N}),Z=!0,(p||v)&&(g=!0)),Z&&(j?(d=d.add(j),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{Ja:d,Xa:a,Cs:g,mutatedKeys:c}}eu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const d=t.Xa.ga();d.sort((A,I)=>function(j,$){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:Z})}};return nt(j)-nt($)}(A.type,I.type)||this.Ha(A.doc,I.doc)),this.tu(a),l=l!=null&&l;const g=i&&!l?this.nu():[],p=this.ja.size===0&&this.current&&!l?1:0,v=p!==this.za;return this.za=p,d.length!==0||v?{snapshot:new ka(this.query,t.Ja,c,d,t.mutatedKeys,p===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),ru:g}:{ru:g}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new X_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=Vt(),this.Ja.forEach(a=>{this.iu(a.key)&&(this.ja=this.ja.add(a.key))});const i=[];return t.forEach(a=>{this.ja.has(a)||i.push(new $0(a))}),this.ja.forEach(a=>{t.has(a)||i.push(new X0(a))}),i}su(t){this.Ga=t.$s,this.ja=Vt();const i=this.Za(t.documents);return this.applyChanges(i,!0)}ou(){return ka.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const mm="SyncEngine";class BR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class qR{constructor(t){this.key=t,this._u=!1}}class jR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new Cs(g=>m0(g),jc),this.cu=new Map,this.lu=new Set,this.hu=new ne(ft.comparator),this.Pu=new Map,this.Tu=new im,this.Iu={},this.Eu=new Map,this.du=Ua.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function HR(s,t,i=!0){const a=nE(s);let l;const c=a.uu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.ou()):l=await Z0(a,t,i,!0),l}async function GR(s,t){const i=nE(s);await Z0(i,t,!0,!1)}async function Z0(s,t,i,a){const l=await oR(s.localStore,ni(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await FR(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&H0(s.remoteStore,l),g}async function FR(s,t,i,a,l){s.Ru=(I,N,j)=>async function(nt,Z,Tt,ut){let at=Z.view.Za(Tt);at.Cs&&(at=await H_(nt.localStore,Z.query,!1).then(({documents:V})=>Z.view.Za(V,at)));const Rt=ut&&ut.targetChanges.get(Z.targetId),mt=ut&&ut.targetMismatches.get(Z.targetId)!=null,Ct=Z.view.applyChanges(at,nt.isPrimaryClient,Rt,mt);return W_(nt,Z.targetId,Ct.ru),Ct.snapshot}(s,I,N,j);const c=await H_(s.localStore,t,!0),d=new zR(t,c.$s),g=d.Za(c.documents),p=wl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),v=d.applyChanges(g,s.isPrimaryClient,p);W_(s,i,v.ru);const A=new BR(t,i,d);return s.uu.set(t,A),s.cu.has(i)?s.cu.get(i).push(t):s.cu.set(i,[t]),v.snapshot}async function QR(s,t,i){const a=Et(s),l=a.uu.get(t),c=a.cu.get(l.targetId);if(c.length>1)return a.cu.set(l.targetId,c.filter(d=>!jc(d,t))),void a.uu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Pd(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),i&&om(a.remoteStore,l.targetId),kd(a,l.targetId)}).catch(ja)):(kd(a,l.targetId),await Pd(a.localStore,l.targetId,!0))}async function KR(s,t){const i=Et(s),a=i.uu.get(t),l=i.cu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),om(i.remoteStore,a.targetId))}async function YR(s,t,i){const a=ew(s);try{const l=await function(d,g){const p=Et(d),v=Se.now(),A=g.reduce((j,$)=>j.add($.key),Vt());let I,N;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=Bi(),nt=Vt();return p.Bs.getEntries(j,A).next(Z=>{$=Z,$.forEach((Tt,ut)=>{ut.isValidDocument()||(nt=nt.add(Tt))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,$)).next(Z=>{I=Z;const Tt=[];for(const ut of g){const at=ob(ut,I.get(ut.key).overlayedDocument);at!=null&&Tt.push(new Ds(ut.key,at,o0(at.value.mapValue),ki.exists(!0)))}return p.mutationQueue.addMutationBatch(j,v,Tt,g)}).next(Z=>{N=Z;const Tt=Z.applyToLocalDocumentSet(I,nt);return p.documentOverlayCache.saveOverlays(j,Z.batchId,Tt)})}).then(()=>({batchId:N.batchId,changes:y0(I)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let v=d.Iu[d.currentUser.toKey()];v||(v=new ne(bt)),v=v.insert(g,p),d.Iu[d.currentUser.toKey()]=v}(a,l.batchId,i),await Cl(a,l.changes),await Xc(a.remoteStore)}catch(l){const c=fm(l,"Failed to persist write");i.reject(c)}}async function J0(s,t){const i=Et(s);try{const a=await rR(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i.Pu.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d._u=!0:l.modifiedDocuments.size>0?qt(d._u,14607):l.removedDocuments.size>0&&(qt(d._u,42227),d._u=!1))}),await Cl(i,a,t)}catch(a){await ja(a)}}function J_(s,t,i){const a=Et(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.uu.forEach((c,d)=>{const g=d.view.Da(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let v=!1;p.queries.forEach((A,I)=>{for(const N of I.ya)N.Da(g)&&(v=!0)}),v&&dm(p)}(a.eventManager,t),l.length&&a.au.j_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function XR(s,t,i){const a=Et(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Pu.get(t),c=l&&l.key;if(c){let d=new ne(ft.comparator);d=d.insert(c,Qe.newNoDocument(c,vt.min()));const g=Vt().add(c),p=new Qc(vt.min(),new Map,new ne(bt),d,g);await J0(a,p),a.hu=a.hu.remove(c),a.Pu.delete(t),gm(a)}else await Pd(a.localStore,t,!1).then(()=>kd(a,t,i)).catch(ja)}async function $R(s,t){const i=Et(s),a=t.batch.batchId;try{const l=await iR(i.localStore,t);tE(i,a,null),W0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Cl(i,l)}catch(l){await ja(l)}}async function ZR(s,t,i){const a=Et(s);try{const l=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next(I=>(qt(I!==null,37113),A=I.keys(),p.mutationQueue.removeMutationBatch(v,I))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>p.localDocuments.getDocuments(v,A))})}(a.localStore,t);tE(a,t,i),W0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Cl(a,l)}catch(l){await ja(l)}}function W0(s,t){(s.Eu.get(t)||[]).forEach(i=>{i.resolve()}),s.Eu.delete(t)}function tE(s,t,i){const a=Et(s);let l=a.Iu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Iu[a.currentUser.toKey()]=l}}function kd(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.cu.get(t))s.uu.delete(a),i&&s.au.Vu(a,i);s.cu.delete(t),s.isPrimaryClient&&s.Tu.Hr(t).forEach(a=>{s.Tu.containsKey(a)||eE(s,a)})}function eE(s,t){s.lu.delete(t.path.canonicalString());const i=s.hu.get(t);i!==null&&(om(s.remoteStore,i),s.hu=s.hu.remove(t),s.Pu.delete(i),gm(s))}function W_(s,t,i){for(const a of i)a instanceof X0?(s.Tu.addReference(a.key,t),JR(s,a)):a instanceof $0?(it(mm,"Document no longer in limbo: "+a.key),s.Tu.removeReference(a.key,t),s.Tu.containsKey(a.key)||eE(s,a.key)):pt(19791,{mu:a})}function JR(s,t){const i=t.key,a=i.path.canonicalString();s.hu.get(i)||s.lu.has(a)||(it(mm,"New document in limbo: "+i),s.lu.add(a),gm(s))}function gm(s){for(;s.lu.size>0&&s.hu.size<s.maxConcurrentLimboResolutions;){const t=s.lu.values().next().value;s.lu.delete(t);const i=new ft(oe.fromString(t)),a=s.du.next();s.Pu.set(a,new qR(i)),s.hu=s.hu.insert(i,a),H0(s.remoteStore,new Ar(ni(Jd(i.path)),a,"TargetPurposeLimboResolution",Lc.le))}}async function Cl(s,t,i){const a=Et(s),l=[],c=[],d=[];a.uu.isEmpty()||(a.uu.forEach((g,p)=>{d.push(a.Ru(p,t,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const I=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(v){l.push(v);const I=sm.Rs(p.targetId,v);c.push(I)}}))}),await Promise.all(d),a.au.j_(l),await async function(p,v){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>K.forEach(v,N=>K.forEach(N.ds,j=>A.persistence.referenceDelegate.addReference(I,N.targetId,j)).next(()=>K.forEach(N.As,j=>A.persistence.referenceDelegate.removeReference(I,N.targetId,j)))))}catch(I){if(!Ha(I))throw I;it(am,"Failed to update sequence numbers: "+I)}for(const I of v){const N=I.targetId;if(!I.fromCache){const j=A.xs.get(N),$=j.snapshotVersion,nt=j.withLastLimboFreeSnapshotVersion($);A.xs=A.xs.insert(N,nt)}}}(a.localStore,c))}async function WR(s,t){const i=Et(s);if(!i.currentUser.isEqual(t)){it(mm,"User change. New user:",t.toKey());const a=await z0(i.localStore,t);i.currentUser=t,function(c,d){c.Eu.forEach(g=>{g.forEach(p=>{p.reject(new ht(X.CANCELLED,d))})}),c.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Cl(i,a.ks)}}function tw(s,t){const i=Et(s),a=i.Pu.get(t);if(a&&a._u)return Vt().add(a.key);{let l=Vt();const c=i.cu.get(t);if(!c)return l;for(const d of c){const g=i.uu.get(d);l=l.unionWith(g.view.Ya)}return l}}function nE(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=J0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=XR.bind(null,t),t.au.j_=UR.bind(null,t.eventManager),t.au.Vu=kR.bind(null,t.eventManager),t}function ew(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$R.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZR.bind(null,t),t}class Dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kc(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,i){return null}bu(t,i){return null}wu(t){return nR(this.persistence,new Wb,t.initialUser,this.serializer)}yu(t){return new L0(rm.fi,this.serializer)}pu(t){return new uR}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dc.provider={build:()=>new Dc};class nw extends Dc{constructor(t){super(),this.cacheSizeBytes=t}Su(t,i){qt(this.persistence.referenceDelegate instanceof Ic,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Lb(a,t.asyncQueue,i)}yu(t){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new L0(a=>Ic.fi(a,i),this.serializer)}}class Ld{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>J_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=WR.bind(null,this.syncEngine),await NR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new MR}()}createDatastore(t){const i=Kc(t.databaseInfo.databaseId),a=function(c){return new mR(c)}(t.databaseInfo);return function(c,d,g,p){return new _R(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,l,c,d,g){return new ER(a,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>J_(this.syncEngine,i,0),function(){return Q_.C()?new Q_:new cR}())}createSyncEngine(t,i){return function(l,c,d,g,p,v,A){const I=new jR(l,c,d,g,p,v);return A&&(I.Au=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=Et(l);it(Rs,"RemoteStore shutting down."),c.Ta.add(5),await Il(c),c.Ea.shutdown(),c.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Ld.provider={build:()=>new Ld};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):zi("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="FirestoreClient";class rw{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Fe.UNAUTHENTICATED,this.clientId=Zv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{it(Mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(Mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=fm(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function md(s,t){s.asyncQueue.verifyOperationInProgress(),it(Mr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async l=>{a.isEqual(l)||(await z0(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function tv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await sw(s);it(Mr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Y_(t.remoteStore,a)),s.setAppCheckTokenChangeListener((a,l)=>Y_(t.remoteStore,l)),s._onlineComponents=t}async function sw(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Mr,"Using user provided OfflineComponentProvider");try{await md(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Va("Error using user provided cache. Falling back to memory cache: "+i),await md(s,new Dc)}}else it(Mr,"Using default OfflineComponentProvider"),await md(s,new nw(void 0));return s._offlineComponents}async function iE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Mr,"Using user provided OnlineComponentProvider"),await tv(s,s._uninitializedComponentsProvider._online)):(it(Mr,"Using default OnlineComponentProvider"),await tv(s,new Ld))),s._onlineComponents}function aw(s){return iE(s).then(t=>t.syncEngine)}async function ow(s){const t=await iE(s),i=t.eventManager;return i.onListen=HR.bind(null,t.syncEngine),i.onUnlisten=QR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=GR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=KR.bind(null,t.syncEngine),i}function lw(s,t,i={}){const a=new Ir;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,v){const A=new iw({next:N=>{A.Cu(),d.enqueueAndForget(()=>xR(c,I));const j=N.docs.has(g);!j&&N.fromCache?v.reject(new ht(X.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&N.fromCache&&p&&p.source==="server"?v.reject(new ht(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),I=new LR(Jd(g.path),A,{includeMetadataChanges:!0,La:!0});return PR(c,I)}(await ow(s),s.asyncQueue,t,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(s,t,i){if(!i)throw new ht(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function cw(s,t,i,a){if(t===!0&&a===!0)throw new ht(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function nv(s){if(!ft.isDocumentKey(s))throw new ht(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function pm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function vl(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ht(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pm(s);throw new ht(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firestore.googleapis.com",iv=!0;class rv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sE,this.ssl=iv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:iv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=k0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ub)throw new ht(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ht(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ht(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ht(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ym{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new f1;switch(a.type){case"firstParty":return new p1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=ev.get(i);a&&(it("ComponentProvider","Removing Datastore"),ev.delete(i),a.terminate())}(this),Promise.resolve()}}function hw(s,t,i,a={}){var l;s=vl(s,ym);const c=Al(t),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),p=`${t}:${i}`;c&&(Pv(`https://${p}`),xv("Firestore",!0)),d.host!==sE&&d.host!==p&&Va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:a});if(!As(v,g)&&(s._setSettings(v),a.mockUserToken)){let A,I;if(typeof a.mockUserToken=="string")A=a.mockUserToken,I=Fe.MOCK_USER;else{A=kA(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new ht(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Fe(N)}s._authCredentials=new d1(new Xv(A,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new _m(this.firestore,t,this._query)}}class wn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new El(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new wn(this.firestore,t,this._key)}}class El extends _m{constructor(t,i,a){super(t,i,Jd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new wn(this.firestore,null,new ft(t))}withConverter(t){return new El(this.firestore,t,this._path)}}function sv(s,t,...i){if(s=In(s),arguments.length===1&&(t=Zv.newId()),uw("doc","path",t),s instanceof ym){const a=oe.fromString(t,...i);return nv(a),new wn(s,null,new ft(a))}{if(!(s instanceof wn||s instanceof El))throw new ht(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(oe.fromString(t,...i));return nv(a),new wn(s.firestore,s instanceof El?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="AsyncQueue";class ov{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new q0(this,"async_queue_retry"),this.ec=()=>{const a=dd();a&&it(av,"Visibility state changed to "+a.visibilityState),this.C_.p_()},this.tc=t;const i=dd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const i=dd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const i=new Ir;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!Ha(t))throw t;it(av,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const i=this.tc.then(()=>(this.Yu=!0,t().catch(a=>{throw this.Ju=a,this.Yu=!1,zi("INTERNAL UNHANDLED ERROR: ",lv(a)),a}).then(a=>(this.Yu=!1,a))));return this.tc=i,i}enqueueAfterDelay(t,i,a){this.nc(),this.Xu.indexOf(t)>-1&&(i=0);const l=hm.createAndSchedule(this,t,i,a,c=>this.oc(c));return this.Hu.push(l),l}nc(){this.Ju&&pt(47125,{_c:lv(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const i of this.Hu)if(i.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const i=this.Hu.indexOf(t);this.Hu.splice(i,1)}}function lv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class vm extends ym{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new ov,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ov(t),this._firestoreClient=void 0,await t}}}function fw(s,t){const i=typeof s=="object"?s:zv(),a=typeof s=="string"?s:Ec,l=Fd(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=xA("firestore");c&&hw(l,...c)}return l}function aE(s){if(s._terminated)throw new ht(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||dw(s),s._firestoreClient}function dw(s){var t,i,a;const l=s._freezeSettings(),c=function(g,p,v,A){return new N1(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,rE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new rw(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this._byteString=t}static fromBase64String(t){try{return new La(Be.fromBase64String(t))}catch(i){throw new ht(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new La(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return bt(this._lat,t._lat)||bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=/^__.*__$/;class gw{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Ds(t,this.data,this.fieldMask,i,this.fieldTransforms):new Rl(t,this.data,i,this.fieldTransforms)}}function lE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{hc:s})}}class Sm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Pc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new Sm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Tc({path:a,Ec:!1});return l.dc(t),l}Ac(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Tc({path:a,Ec:!1});return l.Pc(),l}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return Oc(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(lE(this.hc)&&mw.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class pw{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Kc(t)}gc(t,i,a,l=!1){return new Sm({hc:t,methodName:i,fc:a,path:ze.emptyPath(),Ec:!1,mc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yw(s){const t=s._freezeSettings(),i=Kc(s._databaseId);return new pw(s._databaseId,!!t.ignoreUndefinedProperties,i)}function _w(s,t,i,a,l,c={}){const d=s.gc(c.merge||c.mergeFields?2:0,t,i,l);fE("Data must be an object, but it was:",d,a);const g=cE(a,d);let p,v;if(c.merge)p=new xn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const I of c.mergeFields){const N=vw(t,I,i);if(!d.contains(N))throw new ht(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Tw(A,N)||A.push(N)}p=new xn(A),v=d.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,v=d.fieldTransforms;return new gw(new Rn(g),p,v)}function uE(s,t){if(hE(s=In(s)))return fE("Unsupported field value:",t,s),cE(s,t);if(s instanceof oE)return function(a,l){if(!lE(l.hc))throw l.Vc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Vc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(a,l){const c=[];let d=0;for(const g of a){let p=uE(g,l.Rc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(s,t)}return function(a,l){if((a=In(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return eb(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Se.fromDate(a);return{timestampValue:wc(l.serializer,c)}}if(a instanceof Se){const c=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:wc(l.serializer,c)}}if(a instanceof Tm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof La)return{bytesValue:O0(l.serializer,a._byteString)};if(a instanceof wn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:nm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Am)return function(d,g){return{mapValue:{fields:{[s0]:{stringValue:a0},[Tc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Vc("VectorValues must only contain numeric values.");return Wd(g.serializer,v)})}}}}}}(a,l);throw l.Vc(`Unsupported field value: ${pm(a)}`)}(s,t)}function cE(s,t){const i={};return Wv(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Is(s,(a,l)=>{const c=uE(l,t.Ic(a));c!=null&&(i[a]=c)}),{mapValue:{fields:i}}}function hE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof Tm||s instanceof La||s instanceof wn||s instanceof oE||s instanceof Am)}function fE(s,t,i){if(!hE(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const a=pm(i);throw a==="an object"?t.Vc(s+" a custom object"):t.Vc(s+" "+a)}}function vw(s,t,i){if((t=In(t))instanceof Em)return t._internalPath;if(typeof t=="string")return dE(s,t);throw Oc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Ew=new RegExp("[~\\*/\\[\\]]");function dE(s,t,i){if(t.search(Ew)>=0)throw Oc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Em(...t.split("."))._internalPath}catch{throw Oc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Oc(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new ht(X.INVALID_ARGUMENT,g+s+p)}function Tw(s,t){return s.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Aw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(gE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Aw extends mE{data(){return super.data()}}function gE(s,t){return typeof t=="string"?dE(s,t):t instanceof Em?t._internalPath:t._delegate._internalPath}class Sw{convertValue(t,i="none"){switch(Nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Is(t,(l,c)=>{a[l]=this.convertValue(c,i)}),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i[Tc].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(d=>he(d.doubleValue));return new Am(c)}convertGeoPoint(t){return new Tm(he(t.latitude),he(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Bc(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ml(t));default:return null}}convertTimestamp(t){const i=Dr(t);return new Se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=oe.fromString(t);qt(U0(a),9688,{name:t});const l=new gl(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||zi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(s,t,i){let a;return a=s?s.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pE extends mE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ww(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(gE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class ww extends pE{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(s){s=vl(s,wn);const t=vl(s.firestore,vm);return lw(aE(t),s._key).then(i=>Nw(t,s,i))}class Cw extends Sw{constructor(t){super(),this.firestore=t}convertBytes(t){return new La(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new wn(this.firestore,null,i)}}function Dw(s,t,i){s=vl(s,wn);const a=vl(s.firestore,vm),l=bw(s.converter,t);return Ow(a,[_w(yw(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ki.none())])}function Ow(s,t){return function(a,l){const c=new Ir;return a.asyncQueue.enqueueAndForget(async()=>YR(await aw(a),l,c)),c.promise}(aE(s),t)}function Nw(s,t,i){const a=i.docs.get(t._key),l=new Cw(s);return new pE(s,l,t._key,a,new Rw(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){qa=l})(Ba),Na(new Ss("firestore",(a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new vm(new m1(a.getProvider("auth-internal")),new y1(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ht(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(v.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Rr(d_,m_,t),Rr(d_,m_,"esm2017")})();function bm(s,t){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(i[a[l]]=s[a[l]]);return i}function yE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vw=yE,_E=new Sl("auth","Firebase",yE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Hd("@firebase/auth");function Mw(s,...t){Nc.logLevel<=Nt.WARN&&Nc.warn(`Auth (${Ba}): ${s}`,...t)}function dc(s,...t){Nc.logLevel<=Nt.ERROR&&Nc.error(`Auth (${Ba}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(s,...t){throw wm(s,...t)}function kn(s,...t){return wm(s,...t)}function Rm(s,t,i){const a=Object.assign(Object.assign({},Vw()),{[t]:i});return new Sl("auth","Firebase",a).create(t,{appName:s.name})}function Ts(s){return Rm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pw(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&oi(s,"argument-error"),Rm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return _E.create(s,...t)}function yt(s,t,...i){if(!s)throw wm(t,...i)}function xi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw dc(t),new Error(t)}function qi(s,t){s||xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function xw(){return uv()==="http:"||uv()==="https:"}function uv(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xw()||HA()||"connection"in navigator)?navigator.onLine:!0}function kw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,i){this.shortDelay=t,this.longDelay=i,qi(i>t,"Short delay should be less than long delay!"),this.isMobile=BA()||GA()}get(){return Uw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(s,t){qi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bw=new Dl(3e4,6e4);function Cm(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function Fa(s,t,i,a,l={}){return EE(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=bl(Object.assign({key:s.config.apiKey},d)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const v=Object.assign({method:t,headers:p},c);return jA()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Al(s.emulatorConfig.host)&&(v.credentials="include"),vE.fetch()(await TE(s,s.config.apiHost,i,g),v)})}async function EE(s,t,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},Lw),t);try{const l=new jw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw oc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw oc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw oc(s,"user-disabled",d);const A=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Rm(s,A,v);oi(s,A)}}catch(l){if(l instanceof ji)throw l;oi(s,"network-request-failed",{message:String(l)})}}async function qw(s,t,i,a,l={}){const c=await Fa(s,t,i,a,l);return"mfaPendingCredential"in c&&oi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function TE(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Im(s.config,l):`${s.config.apiScheme}://${l}`;return zw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class jw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(kn(this.auth,"network-request-failed")),Bw.get())})}}function oc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=kn(s,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(s,t){return Fa(s,"POST","/v1/accounts:delete",t)}async function Vc(s,t){return Fa(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Gw(s,t=!1){const i=In(s),a=await i.getIdToken(t),l=Dm(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:hl(gd(l.auth_time)),issuedAtTime:hl(gd(l.iat)),expirationTime:hl(gd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function gd(s){return Number(s)*1e3}function Dm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Ov(i);return l?JSON.parse(l):(dc("Failed to decode base64 JWT payload"),null)}catch(l){return dc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function cv(s){const t=Dm(s);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ji&&Fw(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Fw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(s){var t;const i=s.auth,a=await s.getIdToken(),l=await Tl(s,Vc(i,{idToken:a}));yt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?AE(c.providerUserInfo):[],g=Yw(s.providerData,d),p=s.isAnonymous,v=!(s.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Bd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(s,I)}async function Kw(s){const t=In(s);await Mc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Yw(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function AE(s){return s.map(t=>{var{providerId:i}=t,a=bm(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(s,t){const i=await EE(s,{},async()=>{const a=bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await TE(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",vE.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function $w(s,t){return Fa(s,"POST","/v2/accounts:revokeToken",Cm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=cv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Xw(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ca;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(s,t){yt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Un{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,c=bm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Bd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await Tl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Gw(this,t)}reload(){return Kw(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Un(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Mc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Ts(this.auth));const t=await this.getIdToken();return await Tl(this,Hw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,c,d,g,p,v,A;const I=(a=i.displayName)!==null&&a!==void 0?a:void 0,N=(l=i.email)!==null&&l!==void 0?l:void 0,j=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,$=(d=i.photoURL)!==null&&d!==void 0?d:void 0,nt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,Z=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,Tt=(v=i.createdAt)!==null&&v!==void 0?v:void 0,ut=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:at,emailVerified:Rt,isAnonymous:mt,providerData:Ct,stsTokenManager:V}=i;yt(at&&V,t,"internal-error");const S=Ca.fromJSON(this.name,V);yt(typeof at=="string",t,"internal-error"),_r(I,t.name),_r(N,t.name),yt(typeof Rt=="boolean",t,"internal-error"),yt(typeof mt=="boolean",t,"internal-error"),_r(j,t.name),_r($,t.name),_r(nt,t.name),_r(Z,t.name),_r(Tt,t.name),_r(ut,t.name);const b=new Un({uid:at,auth:t,email:N,emailVerified:Rt,displayName:I,isAnonymous:mt,photoURL:$,phoneNumber:j,tenantId:nt,stsTokenManager:S,createdAt:Tt,lastLoginAt:ut});return Ct&&Array.isArray(Ct)&&(b.providerData=Ct.map(D=>Object.assign({},D))),Z&&(b._redirectEventId=Z),b}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ca;l.updateFromServerResponse(i);const c=new Un({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Mc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?AE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ca;g.updateFromIdToken(a);const p=new Un({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Bd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map;function Ui(s){qi(s instanceof Function,"Expected a class definition");let t=hv.get(s);return t?(qi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,hv.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}SE.type="NONE";const fv=SE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(s,t,i){return`firebase:${s}:${t}:${i}`}class Da{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Vc(this.auth,{idToken:t}).catch(()=>{});return i?Un._fromGetAccountInfoResponse(this.auth,i,t):null}return Un._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Da(Ui(fv),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Ui(fv);const d=mc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let I;if(typeof A=="string"){const N=await Vc(t,{idToken:A}).catch(()=>{});if(!N)break;I=await Un._fromGetAccountInfoResponse(t,N,A)}else I=Un._fromJSON(t,A);v!==c&&(g=I),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Da(c,t,a):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Da(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(IE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(DE(t))return"Blackberry";if(OE(t))return"Webos";if(RE(t))return"Safari";if((t.includes("chrome/")||wE(t))&&!t.includes("edge/"))return"Chrome";if(CE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function bE(s=Ke()){return/firefox\//i.test(s)}function RE(s=Ke()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wE(s=Ke()){return/crios\//i.test(s)}function IE(s=Ke()){return/iemobile/i.test(s)}function CE(s=Ke()){return/android/i.test(s)}function DE(s=Ke()){return/blackberry/i.test(s)}function OE(s=Ke()){return/webos/i.test(s)}function Om(s=Ke()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Zw(s=Ke()){var t;return Om(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Jw(){return FA()&&document.documentMode===10}function NE(s=Ke()){return Om(s)||CE(s)||OE(s)||DE(s)||/windows phone/i.test(s)||IE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(s,t=[]){let i;switch(s){case"Browser":i=dv(Ke());break;case"Worker":i=`${dv(Ke())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ba}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(s,t={}){return Fa(s,"GET","/v2/passwordPolicy",Cm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=6;class nI{constructor(t){var i,a,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:eI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mv(this),this.idTokenSubscription=new mv(this),this.beforeStateQueue=new Ww(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_E,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ui(i)),this._initializationPromise=this.queue(async()=>{var a,l,c;if(!this._deleted&&(this.persistenceManager=await Da.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Vc(this,{idToken:t}),a=await Un._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Pn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Mc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(Ts(this));const i=t?In(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tI(this),i=new nI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Sl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await $w(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ui(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Da.create(this,[Ui(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=VE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&Mw(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function $c(s){return In(s)}class mv{constructor(t){this.auth=t,this.observer=null,this.addObserver=WA(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rI(s){Nm=s}function sI(s){return Nm.loadJS(s)}function aI(){return Nm.gapiScript}function oI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(s,t){const i=Fd(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(As(c,t??{}))return l;oi(l,"already-initialized")}return i.initialize({options:t})}function uI(s,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Ui);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function cI(s,t,i){const a=$c(s);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=ME(t),{host:d,port:g}=hI(t),p=g===null?"":`:${g}`,v={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(As(v,a.config.emulator)&&As(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Al(d)?(Pv(`${c}//${d}${p}`),xv("Auth",!0)):fI()}function ME(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function hI(s){const t=ME(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:gv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:gv(d)}}}function gv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function fI(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return xi("not implemented")}_getIdTokenResponse(t){return xi("not implemented")}_linkToIdToken(t,i){return xi("not implemented")}_getReauthenticationResolver(t){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(s,t){return qw(s,"POST","/v1/accounts:signInWithIdp",Cm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="http://localhost";class ws extends PE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):oi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,c=bm(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new ws(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Oa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Oa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Oa(t,i)}buildRequest(){const t={requestUri:dI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=bl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Vm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ol{constructor(){super("facebook.com")}static credential(t){return ws._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ws._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Pi.credentialFromTaggedObject(t)}static credentialFromError(t){return Pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Pi.credential(i,a)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Ol{constructor(){super("github.com")}static credential(t){return ws._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Er.credential(t.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Ol{constructor(){super("twitter.com")}static credential(t,i){return ws._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Tr.credential(i,a)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Un._fromIdTokenResponse(t,a,l),d=pv(a);return new za({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=pv(a);return new za({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function pv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends ji{constructor(t,i,a,l){var c;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Pc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Pc(t,i,a,l)}}function xE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Pc._fromErrorAndOperation(s,c,t,a):c})}async function mI(s,t,i=!1){const a=await Tl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return za._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(s,t,i=!1){const{auth:a}=s;if(Pn(a.app))return Promise.reject(Ts(a));const l="reauthenticate";try{const c=await Tl(s,xE(a,l,t,s),i);yt(c.idToken,a,"internal-error");const d=Dm(c.idToken);yt(d,a,"internal-error");const{sub:g}=d;return yt(s.uid===g,a,"user-mismatch"),za._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&oi(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(s,t,i=!1){if(Pn(s.app))return Promise.reject(Ts(s));const a="signIn",l=await xE(s,a,t),c=await za._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function yI(s,t,i,a){return In(s).onIdTokenChanged(t,i,a)}function _I(s,t,i){return In(s).beforeAuthStateChanged(t,i)}function vI(s,t,i,a){return In(s).onAuthStateChanged(t,i,a)}function EI(s){return In(s).signOut()}const xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=1e3,AI=10;class kE extends UE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Jw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,AI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},TI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}kE.type="LOCAL";const SI=kE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends UE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}LE.type="SESSION";const zE=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Zc(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),p=await bI(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=Mm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(I){const N=I;if(N.data.eventId===v)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function wI(s){ri().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function II(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CI(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function DI(){return BE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="firebaseLocalStorageDb",OI=1,Uc="firebaseLocalStorage",jE="fbase_key";class Nl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Jc(s,t){return s.transaction([Uc],t?"readwrite":"readonly").objectStore(Uc)}function NI(){const s=indexedDB.deleteDatabase(qE);return new Nl(s).toPromise()}function qd(){const s=indexedDB.open(qE,OI);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Uc,{keyPath:jE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Uc)?t(a):(a.close(),await NI(),t(await qd()))})})}async function yv(s,t,i){const a=Jc(s,!0).put({[jE]:t,value:i});return new Nl(a).toPromise()}async function VI(s,t){const i=Jc(s,!1).get(t),a=await new Nl(i).toPromise();return a===void 0?null:a.value}function _v(s,t){const i=Jc(s,!0).delete(t);return new Nl(i).toPromise()}const MI=800,PI=3;class HE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>PI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zc._getInstance(DI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await II(),!this.activeServiceWorker)return;this.sender=new RI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||CI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await qd();return await yv(t,xc,"1"),await _v(t,xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>yv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>VI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>_v(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Jc(l,!1).getAll();return new Nl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HE.type="LOCAL";const xI=HE;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(s,t){return t?Ui(t):(yt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends PE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Oa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Oa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function UI(s){return pI(s.auth,new Pm(s),s.bypassAuthState)}function kI(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),gI(i,new Pm(s),s.bypassAuthState)}async function LI(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),mI(i,new Pm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return UI;case"linkViaPopup":case"linkViaRedirect":return LI;case"reauthViaPopup":case"reauthViaRedirect":return kI;default:oi(this.auth,"internal-error")}}resolve(t){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Dl(2e3,1e4);async function BI(s,t,i){if(Pn(s.app))return Promise.reject(kn(s,"operation-not-supported-in-this-environment"));const a=$c(s);Pw(s,t,Vm);const l=GE(a,i);return new Es(a,"signInViaPopup",t,l).executeNotNull()}class Es extends FE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const t=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zI.get())};t()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="pendingRedirect",gc=new Map;class jI extends FE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=gc.get(this.auth._key());if(!t){try{const a=await HI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}gc.set(this.auth._key(),t)}return this.bypassAuthState||gc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HI(s,t){const i=QI(t),a=FI(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function GI(s,t){gc.set(s._key(),t)}function FI(s){return Ui(s._redirectPersistence)}function QI(s){return mc(qI,s.config.apiKey,s.name)}async function KI(s,t,i=!1){if(Pn(s.app))return Promise.reject(Ts(s));const a=$c(s),l=GE(a,t),d=await new jI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=10*60*1e3;class XI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$I(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!QE(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(kn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=YI&&this.cachedEventUids.clear(),this.cachedEventUids.has(vv(t))}saveEventToCache(t){this.cachedEventUids.add(vv(t)),this.lastProcessedEventTime=Date.now()}}function vv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function QE({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function $I(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(s,t={}){return Fa(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WI=/^https?/;async function t2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await ZI(s);for(const i of t)try{if(e2(i))return}catch{}oi(s,"unauthorized-domain")}function e2(s){const t=zd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!WI.test(i))return!1;if(JI.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new Dl(3e4,6e4);function Ev(){const s=ri().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function i2(s){return new Promise((t,i)=>{var a,l,c;function d(){Ev(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ev(),i(kn(s,"network-request-failed"))},timeout:n2.get()})}if(!((l=(a=ri().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ri().gapi)===null||c===void 0)&&c.load)d();else{const g=oI("iframefcb");return ri()[g]=()=>{gapi.load?d():i(kn(s,"network-request-failed"))},sI(`${aI()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw pc=null,t})}let pc=null;function r2(s){return pc=pc||i2(s),pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Dl(5e3,15e3),a2="__/auth/iframe",o2="emulator/auth/iframe",l2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c2(s){const t=s.config;yt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Im(t,o2):`https://${s.config.authDomain}/${a2}`,a={apiKey:t.apiKey,appName:s.name,v:Ba},l=u2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${bl(a).slice(1)}`}async function h2(s){const t=await r2(s),i=ri().gapi;return yt(i,s,"internal-error"),t.open({where:document.body,url:c2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=kn(s,"network-request-failed"),g=ri().setTimeout(()=>{c(d)},s2.get());function p(){ri().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d2=500,m2=600,g2="_blank",p2="http://localhost";class Tv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y2(s,t,i,a=d2,l=m2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},f2),{width:a.toString(),height:l.toString(),top:c,left:d}),v=Ke().toLowerCase();i&&(g=wE(v)?g2:i),bE(v)&&(t=t||p2,p.scrollbars="yes");const A=Object.entries(p).reduce((N,[j,$])=>`${N}${j}=${$},`,"");if(Zw(v)&&g!=="_self")return _2(t||"",g),new Tv(null);const I=window.open(t||"",g,A);yt(I,s,"popup-blocked");try{I.focus()}catch{}return new Tv(I)}function _2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="__/auth/handler",E2="emulator/auth/handler",T2=encodeURIComponent("fac");async function Av(s,t,i,a,l,c){yt(s.config.authDomain,s,"auth-domain-config-required"),yt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Ba,eventId:l};if(t instanceof Vm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",JA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof Ol){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await s._getAppCheckToken(),v=p?`#${T2}=${encodeURIComponent(p)}`:"";return`${A2(s)}?${bl(g).slice(1)}${v}`}function A2({config:s}){return s.emulator?Im(s,E2):`https://${s.authDomain}/${v2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="webStorageSupport";class S2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zE,this._completeRedirectFn=KI,this._overrideRedirectResult=GI}async _openPopup(t,i,a,l){var c;qi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Av(t,i,a,zd(),l);return y2(t,d,Mm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await Av(t,i,a,zd(),l);return wI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(qi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await h2(t),a=new XI(t);return i.register("authEvent",l=>(yt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(pd,{type:pd},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[pd];d!==void 0&&i(!!d),oi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=t2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return NE()||RE()||Om()}}const b2=S2;var Sv="@firebase/auth",bv="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I2(s){Na(new Ss("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VE(s)},v=new iI(a,l,c,p);return uI(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Na(new Ss("auth-internal",t=>{const i=$c(t.getProvider("auth").getImmediate());return(a=>new R2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(Sv,bv,w2(s)),Rr(Sv,bv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=5*60,D2=Mv("authIdTokenMaxAge")||C2;let Rv=null;const O2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>D2)return;const l=i==null?void 0:i.token;Rv!==l&&(Rv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function N2(s=zv()){const t=Fd(s,"auth");if(t.isInitialized())return t.getImmediate();const i=lI(s,{popupRedirectResolver:b2,persistence:[xI,SI,zE]}),a=Mv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=O2(c.toString());_I(i,d,()=>d(i.currentUser)),yI(i,g=>d(g))}}const l=Nv("auth");return l&&cI(i,`http://${l}`),i}function V2(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}rI({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=kn("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",V2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I2("Browser");function wv({page:s,totalPages:t,onPageChange:i}){return Ft.jsxs("div",{style:{marginTop:"1rem"},children:[Ft.jsx("button",{onClick:()=>i(Math.max(1,s-1)),disabled:s===1,children:" "}),Ft.jsxs("span",{style:{margin:"0 1rem"},children:[" ",s," / ",t]}),Ft.jsx("button",{onClick:()=>i(Math.min(t,s+1)),disabled:s===t,children:" "})]})}const M2={apiKey:"AIzaSyCS2cdIvwE8RuZXdAgCL-QE6tAYobYeixw",authDomain:"word-practice-app.firebaseapp.com",projectId:"word-practice-app",storageBucket:"word-practice-app.firebasestorage.app",messagingSenderId:"489669791875",appId:"1:489669791875:web:45291b0005ac5913068bb6"},P2=Lv(M2),Iv=fw(P2),yd=N2(),x2=new Pi;function U2(){const[s,t]=ys.useState({}),[i,a]=ys.useState(""),[l,c]=ys.useState(null),[d,g]=ys.useState("countAsc"),[p,v]=ys.useState(1),A=30;ys.useEffect(()=>{const S=JSON.parse(localStorage.getItem("wordData"))||{};t(S),vI(yd,b=>c(b))},[]);const I=()=>new Date().toISOString().slice(0,10),N=S=>{const b=new Date,D=new Date(S),M=b.getTime()-D.getTime();return Math.floor(M/(1e3*60*60*24))},j=S=>{const b=S.toLowerCase(),D=I(),M=s[b],P={...s};M?P[b]={count:M.count+1,lastReviewedAt:D}:P[b]={count:0,lastReviewedAt:D},t(P),localStorage.setItem("wordData",JSON.stringify(P))},$=S=>{const b=I(),D={...s,[S]:{count:s[S].count+1,lastReviewedAt:b}};t(D),localStorage.setItem("wordData",JSON.stringify(D))},nt=S=>{const b={...s};delete b[S],t(b),localStorage.setItem("wordData",JSON.stringify(b))},Z=async()=>{try{const S=await BI(yd,x2);c(S.user)}catch(S){alert(" : "+S.message)}},Tt=async()=>{confirm(" ?")&&(await EI(yd),c(null))},ut=async()=>{if(!l)return alert(".");await Dw(sv(Iv,"users",l.uid),{wordData:s}),alert("  !")},at=async()=>{if(!l)return alert(".");const S=await Iw(sv(Iv,"users",l.uid));S.exists()?(t(S.data().wordData),localStorage.setItem("wordData",JSON.stringify(S.data().wordData)),alert("  ! .")):alert("   ")},Rt=S=>{g(b=>S==="abc"?b==="abcAsc"?"abcDesc":"abcAsc":b==="countAsc"?"countDesc":"countAsc")},mt=Object.entries(s).sort(([S,b],[D,M])=>{switch(d){case"abcAsc":return S.localeCompare(D);case"abcDesc":return D.localeCompare(S);case"countDesc":return M.count-b.count;case"countAsc":default:return b.count-M.count}}),Ct=mt.slice((p-1)*A,p*A),V=Math.ceil(mt.length/A);return Ft.jsxs("div",{style:{padding:"1rem",fontFamily:"Arial"},children:[Ft.jsxs("h1",{children:["Quick Word Practice ( ",Object.keys(s).length,")"]}),Ft.jsxs("div",{children:[Ft.jsx("button",{onClick:Z,children:" "}),Ft.jsx("button",{onClick:ut,children:" "}),Ft.jsx("button",{onClick:at,children:" "}),Ft.jsx("button",{onClick:Tt,children:" "}),l&&Ft.jsxs("div",{children:[" , ",l.displayName,"!"]})]}),Ft.jsxs("div",{style:{marginTop:"1rem"},children:[Ft.jsx("button",{onClick:()=>Rt("abc"),children:" ABC "}),Ft.jsx("button",{onClick:()=>Rt("count"),children:"  "})]}),V>1&&Ft.jsx(wv,{page:p,totalPages:V,onPageChange:v}),Ft.jsx("input",{value:i,onChange:S=>a(S.target.value),onKeyDown:S=>{if(S.key==="Enter"){const b=i.trim().toLowerCase();b&&j(b),a("")}},placeholder:"Enter a word...",style:{width:"100%",padding:"0.5rem",marginTop:"1rem"}}),Ft.jsx("div",{children:Ct.map(([S,b])=>Ft.jsxs("div",{style:{background:"white",borderRadius:"10px",padding:"1rem",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",marginTop:"1rem",color:"#222"},children:[Ft.jsx("strong",{style:{fontSize:"1.2rem"},children:S})," ( : ",b.count,")",Ft.jsxs("div",{style:{fontSize:"0.85rem",color:"#666"},children:[" : ",N(b.lastReviewedAt)===0?"":`+${N(b.lastReviewedAt)} `]}),Ft.jsxs("div",{children:[Ft.jsx("a",{href:`https://www.google.com/search?q=${S}+meaning`,target:"_blank",children:"Dictionary"}),Ft.jsx("a",{href:`https://www.google.com/search?q=pronounce+${S}`,target:"_blank",style:{marginLeft:"1rem"},children:"Pronunciation"})]}),Ft.jsx("button",{onClick:()=>$(S),children:" "}),Ft.jsx("button",{onClick:()=>nt(S),style:{color:"red"},children:""})]},S))}),V>1&&Ft.jsx(wv,{page:p,totalPages:V,onPageChange:v})]})}wA.createRoot(document.getElementById("root")).render(Ft.jsx(ys.StrictMode,{children:Ft.jsx(U2,{})}));
